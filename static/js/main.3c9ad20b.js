/*! For license information please see main.3c9ad20b.js.LICENSE.txt */
(()=>{var t={301:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},642:function(t){t.exports=function(){"use strict";function t(t,i,s,r,o){!function t(n,i,s,r,o){for(;r>s;){if(r-s>600){var a=r-s+1,l=i-s+1,h=Math.log(a),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(a-c)/a)*(l-a/2<0?-1:1);t(n,i,Math.max(s,Math.floor(i-l*c/a+u)),Math.min(r,Math.floor(i+(a-l)*c/a+u)),o)}var d=n[i],f=s,g=r;for(e(n,s,i),o(n[r],d)>0&&e(n,s,r);f<g;){for(e(n,f,g),f++,g--;o(n[f],d)<0;)f++;for(;o(n[g],d)>0;)g--}0===o(n[s],d)?e(n,s,g):e(n,++g,r),g<=i&&(s=g+1),i<=g&&(r=g-1)}}(t,i,s||0,r||t.length-1,o||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function r(t,e){o(t,0,t.children.length,e,t)}function o(t,e,n,i,s){s||(s=g(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var r=e;r<n;r++){var o=t.children[r];a(s,t.leaf?i(o):o)}return s}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function p(e,n,i,s,r){for(var o=[n,i];o.length;)if(!((i=o.pop())-(n=o.pop())<=s)){var a=n+Math.ceil((i-n)/s/2)*s;t(e,a,n,i,r),o.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var i=this.toBBox,s=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],a=e.leaf?i(o):o;f(t,a)&&(e.leaf?n.push(o):d(t,a)?this._all(o,n):s.push(o))}e=s.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var s=e.children[i],r=e.leaf?this.toBBox(s):s;if(f(t,r)){if(e.leaf||d(t,r))return!0;n.push(s)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=g([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,r,o=this.data,a=this.toBBox(t),l=[],h=[];o||l.length;){if(o||(o=l.pop(),i=l[l.length-1],n=h.pop(),r=!0),o.leaf){var c=s(t,o.children,e);if(-1!==c)return o.children.splice(c,1),l.push(o),this._condense(l),this}r||o.leaf||!d(o,a)?i?(n++,o=i.children[n],r=!1):o=null:(l.push(o),h.push(n),n=0,i=o,o=o.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var s,o=n-e+1,a=this._maxEntries;if(o<=a)return r(s=g(t.slice(e,n+1)),this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(s=g([])).leaf=!1,s.height=i;var l=Math.ceil(o/a),h=l*Math.ceil(Math.sqrt(a));p(t,e,n,h,this.compareMinX);for(var c=e;c<=n;c+=h){var u=Math.min(c+h-1,n);p(t,c,u,l,this.compareMinY);for(var d=c;d<=u;d+=l){var f=Math.min(d+l-1,u);s.children.push(this._build(t,d,f,i-1))}}return r(s,this.toBBox),s},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var s=1/0,r=1/0,o=void 0,a=0;a<e.children.length;a++){var l=e.children[a],h=c(l),u=(d=t,f=l,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-h);u<r?(r=u,s=h<s?h:s,o=l):u===r&&h<s&&(s=h,o=l)}e=o||e.children[0]}var d,f;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),s=[],r=this._chooseSubtree(i,this.data,e,s);for(r.children.push(t),a(r,i);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(i,s,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,i);var o=this._chooseSplitIndex(n,s,i),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,r(n,this.toBBox),r(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,s,r,a,l,h,u,d=1/0,f=1/0,g=e;g<=n-e;g++){var p=o(t,0,g,this.toBBox),m=o(t,g,n,this.toBBox),_=(s=p,r=m,a=void 0,l=void 0,h=void 0,u=void 0,a=Math.max(s.minX,r.minX),l=Math.max(s.minY,r.minY),h=Math.min(s.maxX,r.maxX),u=Math.min(s.maxY,r.maxY),Math.max(0,h-a)*Math.max(0,u-l)),y=c(p)+c(m);_<d?(d=_,i=g,f=y<f?y:f):_===d&&y<f&&(f=y,i=g)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,s)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var s=this.toBBox,r=o(t,0,e,s),l=o(t,n-e,n,s),h=u(r)+u(l),c=e;c<n-e;c++){var d=t.children[c];a(r,t.leaf?s(d):d),h+=u(r)}for(var f=n-e-1;f>=e;f--){var g=t.children[f];a(l,t.leaf?s(g):g),h+=u(l)}return h},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},i}()},730:(t,e,n)=>{"use strict";var i=n(43),s=n(853);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function p(t,e,n,i,s,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new p(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new p(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new p(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new p(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new p(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new p(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new p(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new p(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new p(t,5,!1,t.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function v(t,e,n,i){var s=m.hasOwnProperty(e)?m[e]:null;(null!==s?0!==s.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,s,i)&&(n=null),i||null===s?function(t){return!!u.call(g,t)||!u.call(f,t)&&(d.test(t)?g[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=null===n?3!==s.type&&"":n:(e=s.attributeName,i=s.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(_,y);m[e]=new p(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(_,y);m[e]=new p(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(_,y);m[e]=new p(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new p(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new p(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function A(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var F,N=Object.assign;function z(t){if(void 0===F)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var B=!1;function W(t,e){if(!t||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&"string"===typeof h.stack){for(var s=h.stack.split("\n"),r=i.stack.split("\n"),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==r[a]){var l="\n"+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function j(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=W(t.type,!1);case 11:return t=W(t.type.render,!1);case 1:return t=W(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case w:return"Portal";case E:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case R:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case L:e=t._payload,t=t._init;try{return V(t(e))}catch(n){}}return null}function G(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function U(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=U(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=U(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function X(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function q(t,e){var n=e.checked;return N({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Z(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function $(t,e){null!=(e=e.checked)&&v(t,"checked",e,!1)}function J(t,e){$(t,e);var n=H(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Q(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&X(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,s=0;s<t.length;s++){if(t[s].value===n)return t[s].selected=!0,void(i&&(t[s].defaultSelected=!0));null!==e||t[s].disabled||(e=t[s])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return N({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function st(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(et(n)){if(1<n.length)throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function rt(t,e){var n=H(e.value),i=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ht,ct,ut=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ht.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function pt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=pt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}Object.keys(ft).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var _t=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(_t[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function vt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,St=null,Ct=null;function Et(t){if(t=vs(t)){if("function"!==typeof wt)throw Error(r(280));var e=t.stateNode;e&&(e=xs(e),wt(t.stateNode,t.type,e))}}function kt(t){St?Ct?Ct.push(t):Ct=[t]:St=t}function Mt(){if(St){var t=St,e=Ct;if(Ct=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function Rt(t,e){return t(e)}function It(){}var Pt=!1;function Tt(t,e,n){if(Pt)return t(e,n);Pt=!0;try{return Rt(t,e,n)}finally{Pt=!1,(null!==St||null!==Ct)&&(It(),Mt())}}function Lt(t,e){var n=t.stateNode;if(null===n)return null;var i=xs(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}var Dt=!1;if(c)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ct){Dt=!1}function At(t,e,n,i,s,r,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(c){this.onError(c)}}var Ft=!1,Nt=null,zt=!1,Bt=null,Wt={onError:function(t){Ft=!0,Nt=t}};function jt(t,e,n,i,s,r,o,a,l){Ft=!1,Nt=null,At.apply(Wt,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Gt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Vt(t)!==t)throw Error(r(188))}function Ut(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(i=s.return)){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ht(s),t;if(o===i)return Ht(s),e;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(t))?Yt(t):null}function Yt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Yt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=s.unstable_scheduleCallback,Xt=s.unstable_cancelCallback,qt=s.unstable_shouldYield,Zt=s.unstable_requestPaint,$t=s.unstable_now,Jt=s.unstable_getCurrentPriorityLevel,Qt=s.unstable_ImmediatePriority,te=s.unstable_UserBlockingPriority,ee=s.unstable_NormalPriority,ne=s.unstable_LowPriority,ie=s.unstable_IdlePriority,se=null,re=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var he=64,ce=4194304;function ue(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?i=ue(a):0!==(r&=o)&&(i=ue(r))}else 0!==(o=n&~s)?i=ue(o):0!==r&&(i=ue(r));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&s)&&((s=i&-i)>=(r=e&-e)||16===s&&0!==(4194240&r)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)s=1<<(n=31-oe(e)),i|=t[n],e&=~s;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function pe(){var t=he;return 0===(4194240&(he<<=1))&&(he=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _e(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ve=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,we,Se,Ce,Ee,ke=!1,Me=[],Re=null,Ie=null,Pe=null,Te=new Map,Le=new Map,De=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ae(t,e){switch(t){case"focusin":case"focusout":Re=null;break;case"dragenter":case"dragleave":Ie=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Le.delete(e.pointerId)}}function Fe(t,e,n,i,s,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==e&&(null!==(e=vs(e))&&we(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==s&&-1===e.indexOf(s)&&e.push(s),t)}function Ne(t){var e=ys(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Gt(n)))return t.blockedOn=e,void Ee(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=vs(n))&&we(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);bt=i,n.target.dispatchEvent(i),bt=null,e.shift()}return!0}function Be(t,e,n){ze(t)&&n.delete(e)}function We(){ke=!1,null!==Re&&ze(Re)&&(Re=null),null!==Ie&&ze(Ie)&&(Ie=null),null!==Pe&&ze(Pe)&&(Pe=null),Te.forEach(Be),Le.forEach(Be)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,We)))}function Ve(t){function e(e){return je(e,t)}if(0<Me.length){je(Me[0],t);for(var n=1;n<Me.length;n++){var i=Me[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Re&&je(Re,t),null!==Ie&&je(Ie,t),null!==Pe&&je(Pe,t),Te.forEach(e),Le.forEach(e),n=0;n<De.length;n++)(i=De[n]).blockedOn===t&&(i.blockedOn=null);for(;0<De.length&&null===(n=De[0]).blockedOn;)Ne(n),null===n.blockedOn&&De.shift()}var Ge=b.ReactCurrentBatchConfig,He=!0;function Ue(t,e,n,i){var s=ve,r=Ge.transition;Ge.transition=null;try{ve=1,Ke(t,e,n,i)}finally{ve=s,Ge.transition=r}}function Ye(t,e,n,i){var s=ve,r=Ge.transition;Ge.transition=null;try{ve=4,Ke(t,e,n,i)}finally{ve=s,Ge.transition=r}}function Ke(t,e,n,i){if(He){var s=qe(t,e,n,i);if(null===s)Hi(t,e,i,Xe,n),Ae(t,i);else if(function(t,e,n,i,s){switch(e){case"focusin":return Re=Fe(Re,t,e,n,i,s),!0;case"dragenter":return Ie=Fe(Ie,t,e,n,i,s),!0;case"mouseover":return Pe=Fe(Pe,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Te.set(r,Fe(Te.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Le.set(r,Fe(Le.get(r)||null,t,e,n,i,s)),!0}return!1}(s,t,e,n,i))i.stopPropagation();else if(Ae(t,i),4&e&&-1<Oe.indexOf(t)){for(;null!==s;){var r=vs(s);if(null!==r&&xe(r),null===(r=qe(t,e,n,i))&&Hi(t,e,i,Xe,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Hi(t,e,i,null,n)}}var Xe=null;function qe(t,e,n,i){if(Xe=null,null!==(t=ys(t=xt(i))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Gt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xe=t,null}function Ze(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Qt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var $e=null,Je=null,Qe=null;function tn(){if(Qe)return Qe;var t,e,n=Je,i=n.length,s="value"in $e?$e.value:$e.textContent,r=s.length;for(t=0;t<i&&n[t]===s[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===s[r-e];e++);return Qe=s.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function sn(){return!1}function rn(t){function e(e,n,i,s,r){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return N(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(hn),un=N({},hn,{view:0,detail:0}),dn=rn(un),fn=N({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),gn=rn(fn),pn=rn(N({},fn,{dataTransfer:0})),mn=rn(N({},un,{relatedTarget:0})),_n=rn(N({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vn=rn(yn),bn=rn(N({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return Cn}var kn=N({},un,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Mn=rn(kn),Rn=rn(N({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=rn(N({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=rn(N({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=N({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=rn(Tn),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,An=null;c&&"documentMode"in document&&(An=document.documentMode);var Fn=c&&"TextEvent"in window&&!An,Nn=c&&(!On||An&&8<An&&11>=An),zn=String.fromCharCode(32),Bn=!1;function Wn(t,e){switch(t){case"keyup":return-1!==Dn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Gn[t.type]:"textarea"===e}function Un(t,e,n,i){kt(i),0<(e=Yi(e,"onChange")).length&&(n=new cn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Yn=null,Kn=null;function Xn(t){zi(t,0)}function qn(t){if(K(bs(t)))return t}function Zn(t,e){if("change"===t)return e}var $n=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Qn="function"===typeof ti.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){Yn&&(Yn.detachEvent("onpropertychange",ni),Kn=Yn=null)}function ni(t){if("value"===t.propertyName&&qn(Kn)){var e=[];Un(e,Kn,t,xt(t)),Tt(Xn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Kn=n,(Yn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function si(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qn(Kn)}function ri(t,e){if("click"===t)return qn(e)}function oi(t,e){if("input"===t||"change"===t)return qn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!u.call(e,s)||!ai(t[s],e[s]))return!1}return!0}function hi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var n,i=hi(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=hi(i)}}function ui(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ui(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=X((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function gi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=void 0===i.end?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=ci(n,r);var o=ci(n,i);s&&o&&(1!==t.rangeCount||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,_i=null,yi=null,vi=!1;function bi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==mi||mi!==X(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Yi(_i,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Si={},Ci={};function Ei(t){if(Si[t])return Si[t];if(!wi[t])return t;var e,n=wi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ci)return Si[t]=n[e];return t}c&&(Ci=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var ki=Ei("animationend"),Mi=Ei("animationiteration"),Ri=Ei("animationstart"),Ii=Ei("transitionend"),Pi=new Map,Ti="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(t,e){Pi.set(t,e),l(e,[t])}for(var Di=0;Di<Ti.length;Di++){var Oi=Ti[Di];Li(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}Li(ki,"onAnimationEnd"),Li(Mi,"onAnimationIteration"),Li(Ri,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Ii,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Ni(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,s,o,a,l,h){if(jt.apply(this,arguments),Ft){if(!Ft)throw Error(r(198));var c=Nt;Ft=!1,Nt=null,zt||(zt=!0,Bt=c)}}(i,e,void 0,t),t.currentTarget=null}function zi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break t;Ni(s,a,h),r=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,h=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break t;Ni(s,a,h),r=l}}}if(zt)throw t=Bt,zt=!1,Bt=null,t}function Bi(t,e){var n=e[ps];void 0===n&&(n=e[ps]=new Set);var i=t+"__bubble";n.has(i)||(Gi(e,t,2,!1),n.add(i))}function Wi(t,e,n){var i=0;e&&(i|=4),Gi(n,t,i,e)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Vi(t){if(!t[ji]){t[ji]=!0,o.forEach((function(e){"selectionchange"!==e&&(Fi.has(e)||Wi(e,!1,t),Wi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[ji]||(e[ji]=!0,Wi("selectionchange",!1,e))}}function Gi(t,e,n,i){switch(Ze(e)){case 1:var s=Ue;break;case 4:s=Ye;break;default:s=Ke}n=s.bind(null,e,n,t),s=void 0,!Dt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(s=!0),i?void 0!==s?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):void 0!==s?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hi(t,e,n,i,s){var r=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=ys(a)))return;if(5===(l=o.tag)||6===l){i=r=o;continue t}a=a.parentNode}}i=i.return}Tt((function(){var i=r,s=xt(n),o=[];t:{var a=Pi.get(t);if(void 0!==a){var l=cn,h=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Mn;break;case"focusin":h="focus",l=mn;break;case"focusout":h="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case ki:case Mi:case Ri:l=_n;break;case Ii:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=0!==(4&e),u=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,g=i;null!==g;){var p=(f=g).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==d&&(null!=(p=Lt(g,d))&&c.push(Ui(g,p,f)))),u)break;g=g.return}0<c.length&&(a=new l(a,h,null,n,s),o.push({event:a,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(h=n.relatedTarget||n.fromElement)||!ys(h)&&!h[gs])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(h=(h=n.relatedTarget||n.toElement)?ys(h):null)&&(h!==(u=Vt(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(l=null,h=i),l!==h)){if(c=gn,p="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(c=Rn,p="onPointerLeave",d="onPointerEnter",g="pointer"),u=null==l?a:bs(l),f=null==h?a:bs(h),(a=new c(p,g+"leave",l,n,s)).target=u,a.relatedTarget=f,p=null,ys(s)===i&&((c=new c(d,g+"enter",h,n,s)).target=f,c.relatedTarget=u,p=c),u=p,l&&h)t:{for(d=h,g=0,f=c=l;f;f=Ki(f))g++;for(f=0,p=d;p;p=Ki(p))f++;for(;0<g-f;)c=Ki(c),g--;for(;0<f-g;)d=Ki(d),f--;for(;g--;){if(c===d||null!==d&&c===d.alternate)break t;c=Ki(c),d=Ki(d)}c=null}else c=null;null!==l&&Xi(o,a,l,c,!1),null!==h&&null!==u&&Xi(o,u,h,c,!0)}if("select"===(l=(a=i?bs(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Zn;else if(Hn(a))if($n)m=oi;else{m=si;var _=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ri);switch(m&&(m=m(t,i))?Un(o,m,n,s):(_&&_(t,a,i),"focusout"===t&&(_=a._wrapperState)&&_.controlled&&"number"===a.type&&tt(a,"number",a.value)),_=i?bs(i):window,t){case"focusin":(Hn(_)||"true"===_.contentEditable)&&(mi=_,_i=i,yi=null);break;case"focusout":yi=_i=mi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,bi(o,n,s);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":bi(o,n,s)}var y;if(On)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Vn?Wn(t,n)&&(v="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(v="onCompositionStart");v&&(Nn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(y=tn()):(Je="value"in($e=s)?$e.value:$e.textContent,Vn=!0)),0<(_=Yi(i,v)).length&&(v=new bn(v,t,null,n,s),o.push({event:v,listeners:_}),y?v.data=y:null!==(y=jn(n))&&(v.data=y))),(y=Fn?function(t,e){switch(t){case"compositionend":return jn(e);case"keypress":return 32!==e.which?null:(Bn=!0,zn);case"textInput":return(t=e.data)===zn&&Bn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!On&&Wn(t,e)?(t=tn(),Qe=Je=$e=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Yi(i,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:i}),s.data=y))}zi(o,e)}))}function Ui(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yi(t,e){for(var n=e+"Capture",i=[];null!==t;){var s=t,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Lt(t,n))&&i.unshift(Ui(t,r,s)),null!=(r=Lt(t,e))&&i.push(Ui(t,r,s))),t=t.return}return i}function Ki(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Xi(t,e,n,i,s){for(var r=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,h=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==h&&(a=h,s?null!=(l=Lt(n,r))&&o.unshift(Ui(n,l,a)):s||null!=(l=Lt(n,r))&&o.push(Ui(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var qi=/\r\n?/g,Zi=/\u0000|\uFFFD/g;function $i(t){return("string"===typeof t?t:""+t).replace(qi,"\n").replace(Zi,"")}function Ji(t,e,n){if(e=$i(e),$i(t)!==e&&n)throw Error(r(425))}function Qi(){}var ts=null,es=null;function ns(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var is="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,rs="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rs?function(t){return rs.resolve(null).then(t).catch(as)}:is;function as(t){setTimeout((function(){throw t}))}function ls(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return t.removeChild(s),void Ve(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);Ve(e)}function hs(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cs(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),ds="__reactFiber$"+us,fs="__reactProps$"+us,gs="__reactContainer$"+us,ps="__reactEvents$"+us,ms="__reactListeners$"+us,_s="__reactHandles$"+us;function ys(t){var e=t[ds];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gs]||n[ds]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=cs(t);null!==t;){if(n=t[ds])return n;t=cs(t)}return e}n=(t=n).parentNode}return null}function vs(t){return!(t=t[ds]||t[gs])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bs(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function xs(t){return t[fs]||null}var ws=[],Ss=-1;function Cs(t){return{current:t}}function Es(t){0>Ss||(t.current=ws[Ss],ws[Ss]=null,Ss--)}function ks(t,e){Ss++,ws[Ss]=t.current,t.current=e}var Ms={},Rs=Cs(Ms),Is=Cs(!1),Ps=Ms;function Ts(t,e){var n=t.type.contextTypes;if(!n)return Ms;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=e[s];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ls(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ds(){Es(Is),Es(Rs)}function Os(t,e,n){if(Rs.current!==Ms)throw Error(r(168));ks(Rs,e),ks(Is,n)}function As(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in e))throw Error(r(108,G(t)||"Unknown",s));return N({},n,i)}function Fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ms,Ps=Rs.current,ks(Rs,t),ks(Is,Is.current),!0}function Ns(t,e,n){var i=t.stateNode;if(!i)throw Error(r(169));n?(t=As(t,e,Ps),i.__reactInternalMemoizedMergedChildContext=t,Es(Is),Es(Rs),ks(Rs,t)):Es(Is),ks(Is,n)}var zs=null,Bs=!1,Ws=!1;function js(t){null===zs?zs=[t]:zs.push(t)}function Vs(){if(!Ws&&null!==zs){Ws=!0;var t=0,e=ve;try{var n=zs;for(ve=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}zs=null,Bs=!1}catch(s){throw null!==zs&&(zs=zs.slice(t+1)),Kt(Qt,Vs),s}finally{ve=e,Ws=!1}}return null}var Gs=[],Hs=0,Us=null,Ys=0,Ks=[],Xs=0,qs=null,Zs=1,$s="";function Js(t,e){Gs[Hs++]=Ys,Gs[Hs++]=Us,Us=t,Ys=e}function Qs(t,e,n){Ks[Xs++]=Zs,Ks[Xs++]=$s,Ks[Xs++]=qs,qs=t;var i=Zs;t=$s;var s=32-oe(i)-1;i&=~(1<<s),n+=1;var r=32-oe(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Zs=1<<32-oe(e)+s|n<<s|i,$s=r+t}else Zs=1<<r|n<<s|i,$s=t}function tr(t){null!==t.return&&(Js(t,1),Qs(t,1,0))}function er(t){for(;t===Us;)Us=Gs[--Hs],Gs[Hs]=null,Ys=Gs[--Hs],Gs[Hs]=null;for(;t===qs;)qs=Ks[--Xs],Ks[Xs]=null,$s=Ks[--Xs],Ks[Xs]=null,Zs=Ks[--Xs],Ks[Xs]=null}var nr=null,ir=null,sr=!1,rr=null;function or(t,e){var n=Lh(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ar(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,nr=t,ir=hs(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,nr=t,ir=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==qs?{id:Zs,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Lh(18,null,null,0)).stateNode=e,n.return=t,t.child=n,nr=t,ir=null,!0);default:return!1}}function lr(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function hr(t){if(sr){var e=ir;if(e){var n=e;if(!ar(t,e)){if(lr(t))throw Error(r(418));e=hs(n.nextSibling);var i=nr;e&&ar(t,e)?or(i,n):(t.flags=-4097&t.flags|2,sr=!1,nr=t)}}else{if(lr(t))throw Error(r(418));t.flags=-4097&t.flags|2,sr=!1,nr=t}}}function cr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;nr=t}function ur(t){if(t!==nr)return!1;if(!sr)return cr(t),sr=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ns(t.type,t.memoizedProps)),e&&(e=ir)){if(lr(t))throw dr(),Error(r(418));for(;e;)or(t,e),e=hs(e.nextSibling)}if(cr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ir=hs(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ir=null}}else ir=nr?hs(t.stateNode.nextSibling):null;return!0}function dr(){for(var t=ir;t;)t=hs(t.nextSibling)}function fr(){ir=nr=null,sr=!1}function gr(t){null===rr?rr=[t]:rr.push(t)}var pr=b.ReactCurrentBatchConfig;function mr(t,e){if(t&&t.defaultProps){for(var n in e=N({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var _r=Cs(null),yr=null,vr=null,br=null;function xr(){br=vr=yr=null}function wr(t){var e=_r.current;Es(_r),t._currentValue=e}function Sr(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Cr(t,e){yr=t,br=vr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Er(t){var e=t._currentValue;if(br!==t)if(t={context:t,memoizedValue:e,next:null},null===vr){if(null===yr)throw Error(r(308));vr=t,yr.dependencies={lanes:0,firstContext:t}}else vr=vr.next=t;return e}var kr=null;function Mr(t){null===kr?kr=[t]:kr.push(t)}function Rr(t,e,n,i){var s=e.interleaved;return null===s?(n.next=n,Mr(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ir(t,i)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Pr=!1;function Tr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Il)){var s=i.pending;return null===s?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Ir(t,n)}return null===(s=i.interleaved)?(e.next=e,Mr(i)):(e.next=s.next,s.next=e),i.interleaved=e,Ir(t,n)}function Ar(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Fr(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?s=r=e:r=r.next=e}else s=r=e;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nr(t,e,n,i){var s=t.updateQueue;Pr=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,h=l.next;l.next=null,null===o?r=h:o.next=h,o=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=l))}if(null!==r){var u=s.baseState;for(o=0,c=h=l=null,a=r;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=t,p=a;switch(d=e,f=n,p.tag){case 1:if("function"===typeof(g=p.payload)){u=g.call(f,u,d);break t}u=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=p.payload)?g.call(f,u,d):g)||void 0===d)break t;u=N({},u,d);break t;case 2:Pr=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=s.effects)?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(h=c=f,l=u):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(d=a).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===c&&(l=u),s.baseState=l,s.firstBaseUpdate=h,s.lastBaseUpdate=c,null!==(e=s.shared.interleaved)){s=e;do{o|=s.lane,s=s.next}while(s!==e)}else null===r&&(s.shared.lanes=0);Nl|=o,t.lanes=o,t.memoizedState=u}}function zr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!==typeof s)throw Error(r(191,s));s.call(i)}}}var Br=(new i.Component).refs;function Wr(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:N({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var jr={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=eh(),s=nh(t),r=Dr(i,s);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Or(t,r,s))&&(ih(e,t,s,i),Ar(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=eh(),s=nh(t),r=Dr(i,s);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Or(t,r,s))&&(ih(e,t,s,i),Ar(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=eh(),i=nh(t),s=Dr(n,i);s.tag=2,void 0!==e&&null!==e&&(s.callback=e),null!==(e=Or(t,s,i))&&(ih(e,t,i,n),Ar(e,t,i))}};function Vr(t,e,n,i,s,r,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(s,r))}function Gr(t,e,n){var i=!1,s=Ms,r=e.contextType;return"object"===typeof r&&null!==r?r=Er(r):(s=Ls(e)?Ps:Rs.current,r=(i=null!==(i=e.contextTypes)&&void 0!==i)?Ts(t,s):Ms),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=jr,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Hr(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&jr.enqueueReplaceState(e,e.state,null)}function Ur(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Br,Tr(t);var r=e.contextType;"object"===typeof r&&null!==r?s.context=Er(r):(r=Ls(e)?Ps:Rs.current,s.context=Ts(t,r)),s.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(Wr(t,e,r,n),s.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(e=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),e!==s.state&&jr.enqueueReplaceState(s,s.state,null),Nr(t,n,s,i),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308)}function Yr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,t));var s=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=s.refs;e===Br&&(e=s.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function Kr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xr(t){return(0,t._init)(t._payload)}function qr(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(t,e){return(t=Oh(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=zh(n,t.mode,i)).return=t,e):((e=s(e,n)).return=t,e)}function h(t,e,n,i){var r=n.type;return r===S?u(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===L&&Xr(r)===e.type)?((i=s(e,n.props)).ref=Yr(t,e,n),i.return=t,i):((i=Ah(n.type,n.key,n.props,null,t.mode,i)).ref=Yr(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bh(n,t.mode,i)).return=t,e):((e=s(e,n.children||[])).return=t,e)}function u(t,e,n,i,r){return null===e||7!==e.tag?((e=Fh(n,t.mode,i,r)).return=t,e):((e=s(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=zh(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Ah(e.type,e.key,e.props,null,t.mode,n)).ref=Yr(t,null,e),n.return=t,n;case w:return(e=Bh(e,t.mode,n)).return=t,e;case L:return d(t,(0,e._init)(e._payload),n)}if(et(e)||A(e))return(e=Fh(e,t.mode,n,null)).return=t,e;Kr(t,e)}return null}function f(t,e,n,i){var s=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?h(t,e,n,i):null;case w:return n.key===s?c(t,e,n,i):null;case L:return f(t,e,(s=n._init)(n._payload),i)}if(et(n)||A(n))return null!==s?null:u(t,e,n,i,null);Kr(t,n)}return null}function g(t,e,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return h(e,t=t.get(null===i.key?n:i.key)||null,i,s);case w:return c(e,t=t.get(null===i.key?n:i.key)||null,i,s);case L:return g(t,e,n,(0,i._init)(i._payload),s)}if(et(i)||A(i))return u(e,t=t.get(n)||null,i,s,null);Kr(e,i)}return null}function p(s,r,a,l){for(var h=null,c=null,u=r,p=r=0,m=null;null!==u&&p<a.length;p++){u.index>p?(m=u,u=null):m=u.sibling;var _=f(s,u,a[p],l);if(null===_){null===u&&(u=m);break}t&&u&&null===_.alternate&&e(s,u),r=o(_,r,p),null===c?h=_:c.sibling=_,c=_,u=m}if(p===a.length)return n(s,u),sr&&Js(s,p),h;if(null===u){for(;p<a.length;p++)null!==(u=d(s,a[p],l))&&(r=o(u,r,p),null===c?h=u:c.sibling=u,c=u);return sr&&Js(s,p),h}for(u=i(s,u);p<a.length;p++)null!==(m=g(u,s,p,a[p],l))&&(t&&null!==m.alternate&&u.delete(null===m.key?p:m.key),r=o(m,r,p),null===c?h=m:c.sibling=m,c=m);return t&&u.forEach((function(t){return e(s,t)})),sr&&Js(s,p),h}function m(s,a,l,h){var c=A(l);if("function"!==typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var u=c=null,p=a,m=a=0,_=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(_=p,p=null):_=p.sibling;var v=f(s,p,y.value,h);if(null===v){null===p&&(p=_);break}t&&p&&null===v.alternate&&e(s,p),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,p=_}if(y.done)return n(s,p),sr&&Js(s,m),c;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=d(s,y.value,h))&&(a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return sr&&Js(s,m),c}for(p=i(s,p);!y.done;m++,y=l.next())null!==(y=g(p,s,m,y.value,h))&&(t&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return t&&p.forEach((function(t){return e(s,t)})),sr&&Js(s,m),c}return function t(i,r,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:t:{for(var h=o.key,c=r;null!==c;){if(c.key===h){if((h=o.type)===S){if(7===c.tag){n(i,c.sibling),(r=s(c,o.props.children)).return=i,i=r;break t}}else if(c.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===L&&Xr(h)===c.type){n(i,c.sibling),(r=s(c,o.props)).ref=Yr(i,c,o),r.return=i,i=r;break t}n(i,c);break}e(i,c),c=c.sibling}o.type===S?((r=Fh(o.props.children,i.mode,l,o.key)).return=i,i=r):((l=Ah(o.type,o.key,o.props,null,i.mode,l)).ref=Yr(i,r,o),l.return=i,i=l)}return a(i);case w:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(i,r.sibling),(r=s(r,o.children||[])).return=i,i=r;break t}n(i,r);break}e(i,r),r=r.sibling}(r=Bh(o,i.mode,l)).return=i,i=r}return a(i);case L:return t(i,r,(c=o._init)(o._payload),l)}if(et(o))return p(i,r,o,l);if(A(o))return m(i,r,o,l);Kr(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==r&&6===r.tag?(n(i,r.sibling),(r=s(r,o)).return=i,i=r):(n(i,r),(r=zh(o,i.mode,l)).return=i,i=r),a(i)):n(i,r)}}var Zr=qr(!0),$r=qr(!1),Jr={},Qr=Cs(Jr),to=Cs(Jr),eo=Cs(Jr);function no(t){if(t===Jr)throw Error(r(174));return t}function io(t,e){switch(ks(eo,e),ks(to,t),ks(Qr,Jr),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Es(Qr),ks(Qr,e)}function so(){Es(Qr),Es(to),Es(eo)}function ro(t){no(eo.current);var e=no(Qr.current),n=lt(e,t.type);e!==n&&(ks(to,t),ks(Qr,n))}function oo(t){to.current===t&&(Es(Qr),Es(to))}var ao=Cs(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ho=[];function co(){for(var t=0;t<ho.length;t++)ho[t]._workInProgressVersionPrimary=null;ho.length=0}var uo=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,go=0,po=null,mo=null,_o=null,yo=!1,vo=!1,bo=0,xo=0;function wo(){throw Error(r(321))}function So(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function Co(t,e,n,i,s,o){if(go=o,po=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uo.current=null===t||null===t.memoizedState?aa:la,t=n(i,s),vo){o=0;do{if(vo=!1,bo=0,25<=o)throw Error(r(301));o+=1,_o=mo=null,e.updateQueue=null,uo.current=ha,t=n(i,s)}while(vo)}if(uo.current=oa,e=null!==mo&&null!==mo.next,go=0,_o=mo=po=null,yo=!1,e)throw Error(r(300));return t}function Eo(){var t=0!==bo;return bo=0,t}function ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_o?po.memoizedState=_o=t:_o=_o.next=t,_o}function Mo(){if(null===mo){var t=po.alternate;t=null!==t?t.memoizedState:null}else t=mo.next;var e=null===_o?po.memoizedState:_o.next;if(null!==e)_o=e,mo=t;else{if(null===t)throw Error(r(310));t={memoizedState:(mo=t).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===_o?po.memoizedState=_o=t:_o=_o.next=t}return _o}function Ro(t,e){return"function"===typeof e?e(t):e}function Io(t){var e=Mo(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=mo,s=i.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,i=i.baseState;var l=a=null,h=null,c=o;do{var u=c.lane;if((go&u)===u)null!==h&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===h?(l=h=d,a=i):h=h.next=d,po.lanes|=u,Nl|=u}c=c.next}while(null!==c&&c!==o);null===h?a=i:h.next=l,ai(i,e.memoizedState)||(ba=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(null!==(t=n.interleaved)){s=t;do{o=s.lane,po.lanes|=o,Nl|=o,s=s.next}while(s!==t)}else null===s&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Po(t){var e=Mo(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=t(o,a.action),a=a.next}while(a!==s);ai(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function To(){}function Lo(t,e){var n=po,i=Mo(),s=e(),o=!ai(i.memoizedState,s);if(o&&(i.memoizedState=s,ba=!0),i=i.queue,Ho(Ao.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==_o&&1&_o.memoizedState.tag){if(n.flags|=2048,Bo(9,Oo.bind(null,n,i,s,e),void 0,null),null===Pl)throw Error(r(349));0!==(30&go)||Do(n,e,s)}return s}function Do(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=po.updateQueue)?(e={lastEffect:null,stores:null},po.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Oo(t,e,n,i){e.value=n,e.getSnapshot=i,Fo(e)&&No(t)}function Ao(t,e,n){return n((function(){Fo(e)&&No(t)}))}function Fo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function No(t){var e=Ir(t,1);null!==e&&ih(e,t,1,-1)}function zo(t){var e=ko();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,po,t),[e.memoizedState,t]}function Bo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=po.updateQueue)?(e={lastEffect:null,stores:null},po.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Wo(){return Mo().memoizedState}function jo(t,e,n,i){var s=ko();po.flags|=t,s.memoizedState=Bo(1|e,n,void 0,void 0===i?null:i)}function Vo(t,e,n,i){var s=Mo();i=void 0===i?null:i;var r=void 0;if(null!==mo){var o=mo.memoizedState;if(r=o.destroy,null!==i&&So(i,o.deps))return void(s.memoizedState=Bo(e,n,r,i))}po.flags|=t,s.memoizedState=Bo(1|e,n,r,i)}function Go(t,e){return jo(8390656,8,t,e)}function Ho(t,e){return Vo(2048,8,t,e)}function Uo(t,e){return Vo(4,2,t,e)}function Yo(t,e){return Vo(4,4,t,e)}function Ko(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Xo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Vo(4,4,Ko.bind(null,e,t),n)}function qo(){}function Zo(t,e){var n=Mo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&So(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function $o(t,e){var n=Mo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&So(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Jo(t,e,n){return 0===(21&go)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=n):(ai(n,e)||(n=pe(),po.lanes|=n,Nl|=n,t.baseState=!0),e)}function Qo(t,e){var n=ve;ve=0!==n&&4>n?n:4,t(!0);var i=fo.transition;fo.transition={};try{t(!1),e()}finally{ve=n,fo.transition=i}}function ta(){return Mo().memoizedState}function ea(t,e,n){var i=nh(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(t))sa(e,n);else if(null!==(n=Rr(t,e,n,i))){ih(n,t,i,eh()),ra(n,e,i)}}function na(t,e,n){var i=nh(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(t))sa(e,s);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(s.next=s,Mr(e)):(s.next=l.next,l.next=s),void(e.interleaved=s)}}catch(h){}null!==(n=Rr(t,e,s,i))&&(ih(n,t,i,s=eh()),ra(n,e,i))}}function ia(t){var e=t.alternate;return t===po||null!==e&&e===po}function sa(t,e){vo=yo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ra(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var oa={readContext:Er,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},aa={readContext:Er,useCallback:function(t,e){return ko().memoizedState=[t,void 0===e?null:e],t},useContext:Er,useEffect:Go,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,jo(4194308,4,Ko.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jo(4194308,4,t,e)},useInsertionEffect:function(t,e){return jo(4,2,t,e)},useMemo:function(t,e){var n=ko();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ko();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ea.bind(null,po,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},ko().memoizedState=t},useState:zo,useDebugValue:qo,useDeferredValue:function(t){return ko().memoizedState=t},useTransition:function(){var t=zo(!1),e=t[0];return t=Qo.bind(null,t[1]),ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=po,s=ko();if(sr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===Pl)throw Error(r(349));0!==(30&go)||Do(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Go(Ao.bind(null,i,o,t),[t]),i.flags|=2048,Bo(9,Oo.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=ko(),e=Pl.identifierPrefix;if(sr){var n=$s;e=":"+e+"R"+(n=(Zs&~(1<<32-oe(Zs)-1)).toString(32)+n),0<(n=bo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=xo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:Er,useCallback:Zo,useContext:Er,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Uo,useLayoutEffect:Yo,useMemo:$o,useReducer:Io,useRef:Wo,useState:function(){return Io(Ro)},useDebugValue:qo,useDeferredValue:function(t){return Jo(Mo(),mo.memoizedState,t)},useTransition:function(){return[Io(Ro)[0],Mo().memoizedState]},useMutableSource:To,useSyncExternalStore:Lo,useId:ta,unstable_isNewReconciler:!1},ha={readContext:Er,useCallback:Zo,useContext:Er,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Uo,useLayoutEffect:Yo,useMemo:$o,useReducer:Po,useRef:Wo,useState:function(){return Po(Ro)},useDebugValue:qo,useDeferredValue:function(t){var e=Mo();return null===mo?e.memoizedState=t:Jo(e,mo.memoizedState,t)},useTransition:function(){return[Po(Ro)[0],Mo().memoizedState]},useMutableSource:To,useSyncExternalStore:Lo,useId:ta,unstable_isNewReconciler:!1};function ca(t,e){try{var n="",i=e;do{n+=j(i),i=i.return}while(i);var s=n}catch(r){s="\nError generating stack: "+r.message+"\n"+r.stack}return{value:t,source:e,stack:s,digest:null}}function ua(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function ga(t,e,n){(n=Dr(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ul||(Ul=!0,Yl=i),da(0,e)},n}function pa(t,e,n){(n=Dr(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){da(0,e)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){da(0,e),"function"!==typeof i&&(null===Kl?Kl=new Set([this]):Kl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new fa;var s=new Set;i.set(e,s)}else void 0===(s=i.get(e))&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=kh.bind(null,t,e,n),e.then(t,t))}function _a(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,i,s){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Dr(-1,1)).tag=2,Or(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var va=b.ReactCurrentOwner,ba=!1;function xa(t,e,n,i){e.child=null===t?$r(e,null,n,i):Zr(e,t.child,n,i)}function wa(t,e,n,i,s){n=n.render;var r=e.ref;return Cr(e,s),i=Co(t,e,n,i,r,s),n=Eo(),null===t||ba?(sr&&n&&tr(e),e.flags|=1,xa(t,e,i,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ua(t,e,s))}function Sa(t,e,n,i,s){if(null===t){var r=n.type;return"function"!==typeof r||Dh(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ah(n.type,null,i,e,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,Ca(t,e,r,i,s))}if(r=t.child,0===(t.lanes&s)){var o=r.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ua(t,e,s)}return e.flags|=1,(t=Oh(r,i)).ref=e.ref,t.return=e,e.child=t}function Ca(t,e,n,i,s){if(null!==t){var r=t.memoizedProps;if(li(r,i)&&t.ref===e.ref){if(ba=!1,e.pendingProps=i=r,0===(t.lanes&s))return e.lanes=t.lanes,Ua(t,e,s);0!==(131072&t.flags)&&(ba=!0)}}return Ma(t,e,n,i,s)}function Ea(t,e,n){var i=e.pendingProps,s=i.children,r=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ks(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ks(Ol,Dl),Dl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,ks(Ol,Dl),Dl|=i}else null!==r?(i=r.baseLanes|n,e.memoizedState=null):i=n,ks(Ol,Dl),Dl|=i;return xa(t,e,s,n),e.child}function ka(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ma(t,e,n,i,s){var r=Ls(n)?Ps:Rs.current;return r=Ts(e,r),Cr(e,s),n=Co(t,e,n,i,r,s),i=Eo(),null===t||ba?(sr&&i&&tr(e),e.flags|=1,xa(t,e,n,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ua(t,e,s))}function Ra(t,e,n,i,s){if(Ls(n)){var r=!0;Fs(e)}else r=!1;if(Cr(e,s),null===e.stateNode)Ha(t,e),Gr(e,n,i),Ur(e,n,i,s),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;"object"===typeof h&&null!==h?h=Er(h):h=Ts(e,h=Ls(n)?Ps:Rs.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==h)&&Hr(e,o,i,h),Pr=!1;var d=e.memoizedState;o.state=d,Nr(e,i,o,s),l=e.memoizedState,a!==i||d!==l||Is.current||Pr?("function"===typeof c&&(Wr(e,n,c,i),l=e.memoizedState),(a=Pr||Vr(e,n,a,i,d,l,h))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=h,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Lr(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:mr(e.type,a),o.props=h,u=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Er(l):l=Ts(e,l=Ls(n)?Ps:Rs.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&Hr(e,o,i,l),Pr=!1,d=e.memoizedState,o.state=d,Nr(e,i,o,s);var g=e.memoizedState;a!==u||d!==g||Is.current||Pr?("function"===typeof f&&(Wr(e,n,f,i),g=e.memoizedState),(h=Pr||Vr(e,n,h,i,d,g,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,g,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,g,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=h):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ia(t,e,n,i,r,s)}function Ia(t,e,n,i,s,r){ka(t,e);var o=0!==(128&e.flags);if(!i&&!o)return s&&Ns(e,n,!1),Ua(t,e,r);i=e.stateNode,va.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=Zr(e,t.child,null,r),e.child=Zr(e,null,a,r)):xa(t,e,a,r),e.memoizedState=i.state,s&&Ns(e,n,!0),e.child}function Pa(t){var e=t.stateNode;e.pendingContext?Os(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Os(0,e.context,!1),io(t,e.containerInfo)}function Ta(t,e,n,i,s){return fr(),gr(s),e.flags|=256,xa(t,e,n,i),e.child}var La,Da,Oa,Aa,Fa={dehydrated:null,treeContext:null,retryLane:0};function Na(t){return{baseLanes:t,cachePool:null,transitions:null}}function za(t,e,n){var i,s=e.pendingProps,o=ao.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),ks(ao,1&o),null===t)return hr(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=s.children,t=s.fallback,a?(s=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Nh(l,s,0,null),t=Fh(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Na(n),e.memoizedState=Fa,t):Ba(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,s,o,a){if(n)return 256&e.flags?(e.flags&=-257,Wa(t,e,a,i=ua(Error(r(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Nh({mode:"visible",children:i.children},s,0,null),(o=Fh(o,s,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&Zr(e,t.child,null,a),e.child.memoizedState=Na(a),e.memoizedState=Fa,o);if(0===(1&e.mode))return Wa(t,e,a,null);if("$!"===s.data){if(i=s.nextSibling&&s.nextSibling.dataset)var l=i.dgst;return i=l,Wa(t,e,a,i=ua(o=Error(r(419)),i,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(i=Pl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(i.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Ir(t,s),ih(i,t,s,-1))}return mh(),Wa(t,e,a,i=ua(Error(r(421))))}return"$?"===s.data?(e.flags|=128,e.child=t.child,e=Rh.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,ir=hs(s.nextSibling),nr=e,sr=!0,rr=null,null!==t&&(Ks[Xs++]=Zs,Ks[Xs++]=$s,Ks[Xs++]=qs,Zs=t.id,$s=t.overflow,qs=e),e=Ba(e,i.children),e.flags|=4096,e)}(t,e,l,s,i,o,n);if(a){a=s.fallback,l=e.mode,i=(o=t.child).sibling;var h={mode:"hidden",children:s.children};return 0===(1&l)&&e.child!==o?((s=e.child).childLanes=0,s.pendingProps=h,e.deletions=null):(s=Oh(o,h)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Oh(i,a):(a=Fh(a,l,n,null)).flags|=2,a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,l=null===(l=t.child.memoizedState)?Na(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Fa,s}return t=(a=t.child).sibling,s=Oh(a,{mode:"visible",children:s.children}),0===(1&e.mode)&&(s.lanes=n),s.return=e,s.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Ba(t,e){return(e=Nh({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Wa(t,e,n,i){return null!==i&&gr(i),Zr(e,t.child,null,n),(t=Ba(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function ja(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Sr(t.return,e,n)}function Va(t,e,n,i,s){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Ga(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(xa(t,e,i.children,n),0!==(2&(i=ao.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ja(t,n,e);else if(19===t.tag)ja(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ks(ao,i),0===(1&e.mode))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;null!==n;)null!==(t=n.alternate)&&null===lo(t)&&(s=n),n=n.sibling;null===(n=s)?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Va(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;null!==s;){if(null!==(t=s.alternate)&&null===lo(t)){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Va(e,!0,n,null,r);break;case"together":Va(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ha(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ua(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Nl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=Oh(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Oh(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ya(t,e){if(!sr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ka(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=t,s=s.sibling;else for(s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xa(t,e,n){var i=e.pendingProps;switch(er(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(e),null;case 1:case 17:return Ls(e.type)&&Ds(),Ka(e),null;case 3:return i=e.stateNode,so(),Es(Is),Es(Rs),co(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ur(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==rr&&(ah(rr),rr=null))),Da(t,e),Ka(e),null;case 5:oo(e);var s=no(eo.current);if(n=e.type,null!==t&&null!=e.stateNode)Oa(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(r(166));return Ka(e),null}if(t=no(Qr.current),ur(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[ds]=e,i[fs]=o,t=0!==(1&e.mode),n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(s=0;s<Ai.length;s++)Bi(Ai[s],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":Z(i,o),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Bi("invalid",i);break;case"textarea":st(i,o),Bi("invalid",i)}for(var l in yt(n,o),s=null,o)if(o.hasOwnProperty(l)){var h=o[l];"children"===l?"string"===typeof h?i.textContent!==h&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,h,t),s=["children",h]):"number"===typeof h&&i.textContent!==""+h&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,h,t),s=["children",""+h]):a.hasOwnProperty(l)&&null!=h&&"onScroll"===l&&Bi("scroll",i)}switch(n){case"input":Y(i),Q(i,o,!0);break;case"textarea":Y(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Qi)}i=s,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[ds]=e,t[fs]=i,La(t,e,!1,!1),e.stateNode=t;t:{switch(l=vt(n,i),n){case"dialog":Bi("cancel",t),Bi("close",t),s=i;break;case"iframe":case"object":case"embed":Bi("load",t),s=i;break;case"video":case"audio":for(s=0;s<Ai.length;s++)Bi(Ai[s],t);s=i;break;case"source":Bi("error",t),s=i;break;case"img":case"image":case"link":Bi("error",t),Bi("load",t),s=i;break;case"details":Bi("toggle",t),s=i;break;case"input":Z(t,i),s=q(t,i),Bi("invalid",t);break;case"option":default:s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=N({},i,{value:void 0}),Bi("invalid",t);break;case"textarea":st(t,i),s=it(t,i),Bi("invalid",t)}for(o in yt(n,s),h=s)if(h.hasOwnProperty(o)){var c=h[o];"style"===o?mt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ut(t,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&dt(t,c):"number"===typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Bi("scroll",t):null!=c&&v(t,o,c,l))}switch(n){case"input":Y(t),Q(t,i,!1);break;case"textarea":Y(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+H(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof s.onClick&&(t.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ka(e),null;case 6:if(t&&null!=e.stateNode)Aa(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));if(n=no(eo.current),no(Qr.current),ur(e)){if(i=e.stateNode,n=e.memoizedProps,i[ds]=e,(o=i.nodeValue!==n)&&null!==(t=nr))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ds]=e,e.stateNode=i}return Ka(e),null;case 13:if(Es(ao),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(sr&&null!==ir&&0!==(1&e.mode)&&0===(128&e.flags))dr(),fr(),e.flags|=98560,o=!1;else if(o=ur(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(r(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(r(317));o[ds]=e}else fr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ka(e),o=!1}else null!==rr&&(ah(rr),rr=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ao.current)?0===Al&&(Al=3):mh())),null!==e.updateQueue&&(e.flags|=4),Ka(e),null);case 4:return so(),Da(t,e),null===t&&Vi(e.stateNode.containerInfo),Ka(e),null;case 10:return wr(e.type._context),Ka(e),null;case 19:if(Es(ao),null===(o=e.memoizedState))return Ka(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Ya(o,!1);else{if(0!==Al||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,Ya(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ks(ao,1&ao.current|2),e.child}t=t.sibling}null!==o.tail&&$t()>Gl&&(e.flags|=128,i=!0,Ya(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=lo(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ya(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!sr)return Ka(e),null}else 2*$t()-o.renderingStartTime>Gl&&1073741824!==n&&(e.flags|=128,i=!0,Ya(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$t(),e.sibling=null,n=ao.current,ks(ao,i?1&n|2:1&n),e):(Ka(e),null);case 22:case 23:return dh(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Dl)&&(Ka(e),6&e.subtreeFlags&&(e.flags|=8192)):Ka(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function qa(t,e){switch(er(e),e.tag){case 1:return Ls(e.type)&&Ds(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return so(),Es(Is),Es(Rs),co(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(Es(ao),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));fr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Es(ao),null;case 4:return so(),null;case 10:return wr(e.type._context),null;case 22:case 23:return dh(),null;default:return null}}La=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,no(Qr.current);var r,o=null;switch(n){case"input":s=q(t,s),i=q(t,i),o=[];break;case"select":s=N({},s,{value:void 0}),i=N({},i,{value:void 0}),o=[];break;case"textarea":s=it(t,s),i=it(t,i),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(t.onclick=Qi)}for(c in yt(n,i),n=null,s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var l=s[c];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var h=i[c];if(l=null!=s?s[c]:void 0,i.hasOwnProperty(c)&&h!==l&&(null!=h||null!=l))if("style"===c)if(l){for(r in l)!l.hasOwnProperty(r)||h&&h.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in h)h.hasOwnProperty(r)&&l[r]!==h[r]&&(n||(n={}),n[r]=h[r])}else n||(o||(o=[]),o.push(c,n)),n=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(o=o||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(o=o||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&Bi("scroll",t),o||l===h||(o=[])):(o=o||[]).push(c,h))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Aa=function(t,e,n,i){n!==i&&(e.flags|=4)};var Za=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Qa=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Eh(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){Eh(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,void 0!==r&&el(e,n,r)}s=s.next}while(s!==i)}}function sl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ds],delete e[fs],delete e[ps],delete e[ms],delete e[_s])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function hl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Qi));else if(4!==i&&null!==(t=t.child))for(hl(t,e,n),t=t.sibling;null!==t;)hl(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,dl=!1;function fl(t,e,n){for(n=n.child;null!==n;)gl(t,e,n),n=n.sibling}function gl(t,e,n){if(re&&"function"===typeof re.onCommitFiberUnmount)try{re.onCommitFiberUnmount(se,n)}catch(a){}switch(n.tag){case 5:$a||tl(n,e);case 6:var i=ul,s=dl;ul=null,fl(t,e,n),dl=s,null!==(ul=i)&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?ls(t.parentNode,n):1===t.nodeType&&ls(t,n),Ve(t)):ls(ul,n.stateNode));break;case 4:i=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,fl(t,e,n),ul=i,dl=s;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,void 0!==o&&(0!==(2&r)||0!==(4&r))&&el(n,e,o),s=s.next}while(s!==i)}fl(t,e,n);break;case 1:if(!$a&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Eh(n,e,a)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?($a=(i=$a)||null!==n.memoizedState,fl(t,e,n),$a=i):fl(t,e,n);break;default:fl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var i=Ih.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===ul)throw Error(r(160));gl(o,a,s),ul=null,dl=!1;var h=s.alternate;null!==h&&(h.return=null),s.return=null}catch(c){Eh(s,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)_l(e,t),e=e.sibling}function _l(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&i){try{il(3,t,t.return),sl(3,t)}catch(m){Eh(t,t.return,m)}try{il(5,t,t.return)}catch(m){Eh(t,t.return,m)}}break;case 1:ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var s=t.stateNode;try{dt(s,"")}catch(m){Eh(t,t.return,m)}}if(4&i&&null!=(s=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,h=t.updateQueue;if(t.updateQueue=null,null!==h)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(s,o),vt(l,a);var c=vt(l,o);for(a=0;a<h.length;a+=2){var u=h[a],d=h[a+1];"style"===u?mt(s,d):"dangerouslySetInnerHTML"===u?ut(s,d):"children"===u?dt(s,d):v(s,u,d,c)}switch(l){case"input":J(s,o);break;case"textarea":rt(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;null!=g?nt(s,!!o.multiple,g,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(s,!!o.multiple,o.defaultValue,!0):nt(s,!!o.multiple,o.multiple?[]:"",!1))}s[fs]=o}catch(m){Eh(t,t.return,m)}}break;case 6:if(ml(e,t),yl(t),4&i){if(null===t.stateNode)throw Error(r(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(m){Eh(t,t.return,m)}}break;case 3:if(ml(e,t),yl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(m){Eh(t,t.return,m)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(s=t.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Vl=$t())),4&i&&pl(t);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&t.mode?($a=(c=$a)||u,ml(e,t),$a=c):ml(e,t),yl(t),8192&i){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!u&&0!==(1&t.mode))for(Qa=t,u=t.child;null!==u;){for(d=Qa=u;null!==Qa;){switch(g=(f=Qa).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){i=f,n=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Eh(i,n,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==g?(g.return=f,Qa=g):wl(d)}u=u.sibling}t:for(u=null,d=t;;){if(5===d.tag){if(null===u){u=d;try{s=d.stateNode,c?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(h=d.memoizedProps.style)&&null!==h&&h.hasOwnProperty("display")?h.display:null,l.style.display=pt("display",a))}catch(m){Eh(t,t.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Eh(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),yl(t),4&i&&pl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var s=i.stateNode;32&i.flags&&(dt(s,""),i.flags&=-33),cl(t,ll(t),s);break;case 3:case 4:var o=i.stateNode.containerInfo;hl(t,ll(t),o);break;default:throw Error(r(161))}}catch(a){Eh(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,n){Qa=t,bl(t,e,n)}function bl(t,e,n){for(var i=0!==(1&t.mode);null!==Qa;){var s=Qa,r=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||Za;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Za;var h=$a;if(Za=o,($a=l)&&!h)for(Qa=s;null!==Qa;)l=(o=Qa).child,22===o.tag&&null!==o.memoizedState?Sl(s):null!==l?(l.return=o,Qa=l):Sl(s);for(;null!==r;)Qa=r,bl(r,e,n),r=r.sibling;Qa=s,Za=a,$a=h}xl(t)}else 0!==(8772&s.subtreeFlags)&&null!==r?(r.return=s,Qa=r):xl(t)}}function xl(t){for(;null!==Qa;){var e=Qa;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:$a||sl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!$a)if(null===n)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&zr(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}zr(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(r(163))}$a||512&e.flags&&rl(e)}catch(f){Eh(e,e.return,f)}}if(e===t){Qa=null;break}if(null!==(n=e.sibling)){n.return=e.return,Qa=n;break}Qa=e.return}}function wl(t){for(;null!==Qa;){var e=Qa;if(e===t){Qa=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Qa=n;break}Qa=e.return}}function Sl(t){for(;null!==Qa;){var e=Qa;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sl(4,e)}catch(l){Eh(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var s=e.return;try{i.componentDidMount()}catch(l){Eh(e,s,l)}}var r=e.return;try{rl(e)}catch(l){Eh(e,r,l)}break;case 5:var o=e.return;try{rl(e)}catch(l){Eh(e,o,l)}}}catch(l){Eh(e,e.return,l)}if(e===t){Qa=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Qa=a;break}Qa=e.return}}var Cl,El=Math.ceil,kl=b.ReactCurrentDispatcher,Ml=b.ReactCurrentOwner,Rl=b.ReactCurrentBatchConfig,Il=0,Pl=null,Tl=null,Ll=0,Dl=0,Ol=Cs(0),Al=0,Fl=null,Nl=0,zl=0,Bl=0,Wl=null,jl=null,Vl=0,Gl=1/0,Hl=null,Ul=!1,Yl=null,Kl=null,Xl=!1,ql=null,Zl=0,$l=0,Jl=null,Ql=-1,th=0;function eh(){return 0!==(6&Il)?$t():-1!==Ql?Ql:Ql=$t()}function nh(t){return 0===(1&t.mode)?1:0!==(2&Il)&&0!==Ll?Ll&-Ll:null!==pr.transition?(0===th&&(th=pe()),th):0!==(t=ve)?t:t=void 0===(t=window.event)?16:Ze(t.type)}function ih(t,e,n,i){if(50<$l)throw $l=0,Jl=null,Error(r(185));_e(t,n,i),0!==(2&Il)&&t===Pl||(t===Pl&&(0===(2&Il)&&(zl|=n),4===Al&&lh(t,Ll)),sh(t,i),1===n&&0===Il&&0===(1&e.mode)&&(Gl=$t()+500,Bs&&Vs()))}function sh(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-oe(r),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&i)||(s[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}(t,e);var i=de(t,t===Pl?Ll:0);if(0===i)null!==n&&Xt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Xt(n),1===e)0===t.tag?function(t){Bs=!0,js(t)}(hh.bind(null,t)):js(hh.bind(null,t)),os((function(){0===(6&Il)&&Vs()})),n=null;else{switch(be(i)){case 1:n=Qt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Ph(n,rh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rh(t,e){if(Ql=-1,th=0,0!==(6&Il))throw Error(r(327));var n=t.callbackNode;if(Sh()&&t.callbackNode!==n)return null;var i=de(t,t===Pl?Ll:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=_h(t,i);else{e=i;var s=Il;Il|=2;var o=ph();for(Pl===t&&Ll===e||(Hl=null,Gl=$t()+500,fh(t,e));;)try{vh();break}catch(l){gh(t,l)}xr(),kl.current=o,Il=s,null!==Tl?e=0:(Pl=null,Ll=0,e=Al)}if(0!==e){if(2===e&&(0!==(s=ge(t))&&(i=s,e=oh(t,s))),1===e)throw n=Fl,fh(t,0),lh(t,i),sh(t,$t()),n;if(6===e)lh(t,i);else{if(s=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ai(r(),s))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(s)&&(2===(e=_h(t,i))&&(0!==(o=ge(t))&&(i=o,e=oh(t,o))),1===e))throw n=Fl,fh(t,0),lh(t,i),sh(t,$t()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(r(345));case 2:case 5:wh(t,jl,Hl);break;case 3:if(lh(t,i),(130023424&i)===i&&10<(e=Vl+500-$t())){if(0!==de(t,0))break;if(((s=t.suspendedLanes)&i)!==i){eh(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=is(wh.bind(null,t,jl,Hl),e);break}wh(t,jl,Hl);break;case 4:if(lh(t,i),(4194240&i)===i)break;for(e=t.eventTimes,s=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>s&&(s=a),i&=~o}if(i=s,10<(i=(120>(i=$t()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){t.timeoutHandle=is(wh.bind(null,t,jl,Hl),i);break}wh(t,jl,Hl);break;default:throw Error(r(329))}}}return sh(t,$t()),t.callbackNode===n?rh.bind(null,t):null}function oh(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(fh(t,e).flags|=256),2!==(t=_h(t,e))&&(e=jl,jl=n,null!==e&&ah(e)),t}function ah(t){null===jl?jl=t:jl.push.apply(jl,t)}function lh(t,e){for(e&=~Bl,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function hh(t){if(0!==(6&Il))throw Error(r(327));Sh();var e=de(t,0);if(0===(1&e))return sh(t,$t()),null;var n=_h(t,e);if(0!==t.tag&&2===n){var i=ge(t);0!==i&&(e=i,n=oh(t,i))}if(1===n)throw n=Fl,fh(t,0),lh(t,e),sh(t,$t()),n;if(6===n)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wh(t,jl,Hl),sh(t,$t()),null}function ch(t,e){var n=Il;Il|=1;try{return t(e)}finally{0===(Il=n)&&(Gl=$t()+500,Bs&&Vs())}}function uh(t){null!==ql&&0===ql.tag&&0===(6&Il)&&Sh();var e=Il;Il|=1;var n=Rl.transition,i=ve;try{if(Rl.transition=null,ve=1,t)return t()}finally{ve=i,Rl.transition=n,0===(6&(Il=e))&&Vs()}}function dh(){Dl=Ol.current,Es(Ol)}function fh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ss(n)),null!==Tl)for(n=Tl.return;null!==n;){var i=n;switch(er(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ds();break;case 3:so(),Es(Is),Es(Rs),co();break;case 5:oo(i);break;case 4:so();break;case 13:case 19:Es(ao);break;case 10:wr(i.type._context);break;case 22:case 23:dh()}n=n.return}if(Pl=t,Tl=t=Oh(t.current,null),Ll=Dl=e,Al=0,Fl=null,Bl=zl=Nl=0,jl=Wl=null,null!==kr){for(e=0;e<kr.length;e++)if(null!==(i=(n=kr[e]).interleaved)){n.interleaved=null;var s=i.next,r=n.pending;if(null!==r){var o=r.next;r.next=s,i.next=o}n.pending=i}kr=null}return t}function gh(t,e){for(;;){var n=Tl;try{if(xr(),uo.current=oa,yo){for(var i=po.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}yo=!1}if(go=0,_o=mo=po=null,vo=!1,bo=0,Ml.current=null,null===n||null===n.return){Al=1,Fl=e,Tl=null;break}t:{var o=t,a=n.return,l=n,h=e;if(e=Ll,l.flags|=32768,null!==h&&"object"===typeof h&&"function"===typeof h.then){var c=h,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=_a(a);if(null!==g){g.flags&=-257,ya(g,a,l,0,e),1&g.mode&&ma(o,c,e),h=c;var p=(e=g).updateQueue;if(null===p){var m=new Set;m.add(h),e.updateQueue=m}else p.add(h);break t}if(0===(1&e)){ma(o,c,e),mh();break t}h=Error(r(426))}else if(sr&&1&l.mode){var _=_a(a);if(null!==_){0===(65536&_.flags)&&(_.flags|=256),ya(_,a,l,0,e),gr(ca(h,l));break t}}o=h=ca(h,l),4!==Al&&(Al=2),null===Wl?Wl=[o]:Wl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Fr(o,ga(0,h,e));break t;case 1:l=h;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Kl||!Kl.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e,Fr(o,pa(o,l,e));break t}}o=o.return}while(null!==o)}xh(n)}catch(b){e=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function ph(){var t=kl.current;return kl.current=oa,null===t?oa:t}function mh(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Pl||0===(268435455&Nl)&&0===(268435455&zl)||lh(Pl,Ll)}function _h(t,e){var n=Il;Il|=2;var i=ph();for(Pl===t&&Ll===e||(Hl=null,fh(t,e));;)try{yh();break}catch(s){gh(t,s)}if(xr(),Il=n,kl.current=i,null!==Tl)throw Error(r(261));return Pl=null,Ll=0,Al}function yh(){for(;null!==Tl;)bh(Tl)}function vh(){for(;null!==Tl&&!qt();)bh(Tl)}function bh(t){var e=Cl(t.alternate,t,Dl);t.memoizedProps=t.pendingProps,null===e?xh(t):Tl=e,Ml.current=null}function xh(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Xa(n,e,Dl)))return void(Tl=n)}else{if(null!==(n=qa(n,e)))return n.flags&=32767,void(Tl=n);if(null===t)return Al=6,void(Tl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Tl=e);Tl=e=t}while(null!==e);0===Al&&(Al=5)}function wh(t,e,n){var i=ve,s=Rl.transition;try{Rl.transition=null,ve=1,function(t,e,n,i){do{Sh()}while(null!==ql);if(0!==(6&Il))throw Error(r(327));n=t.finishedWork;var s=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-oe(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}(t,o),t===Pl&&(Tl=Pl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ph(ee,(function(){return Sh(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var a=ve;ve=1;var l=Il;Il|=4,Ml.current=null,function(t,e){if(ts=He,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break t}var a=0,l=-1,h=-1,c=0,u=0,d=t,f=null;e:for(;;){for(var g;d!==n||0!==s&&3!==d.nodeType||(l=a+s),d!==o||0!==i&&3!==d.nodeType||(h=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(g=d.firstChild);)f=d,d=g;for(;;){if(d===t)break e;if(f===n&&++c===s&&(l=a),f===o&&++u===i&&(h=a),null!==(g=d.nextSibling))break;f=(d=f).parentNode}d=g}n=-1===l||-1===h?null:{start:l,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(es={focusedElem:t,selectionRange:n},He=!1,Qa=e;null!==Qa;)if(t=(e=Qa).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qa=t;else for(;null!==Qa;){e=Qa;try{var p=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,_=p.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:mr(e.type,m),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(r(163))}}catch(x){Eh(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Qa=t;break}Qa=e.return}p=nl,nl=!1}(t,n),_l(n,t),gi(es),He=!!ts,es=ts=null,t.current=n,vl(n,t,s),Zt(),Il=l,ve=a,Rl.transition=o}else t.current=n;if(Xl&&(Xl=!1,ql=t,Zl=s),o=t.pendingLanes,0===o&&(Kl=null),function(t){if(re&&"function"===typeof re.onCommitFiberRoot)try{re.onCommitFiberRoot(se,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),sh(t,$t()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ul)throw Ul=!1,t=Yl,Yl=null,t;0!==(1&Zl)&&0!==t.tag&&Sh(),o=t.pendingLanes,0!==(1&o)?t===Jl?$l++:($l=0,Jl=t):$l=0,Vs()}(t,e,n,i)}finally{Rl.transition=s,ve=i}return null}function Sh(){if(null!==ql){var t=be(Zl),e=Rl.transition,n=ve;try{if(Rl.transition=null,ve=16>t?16:t,null===ql)var i=!1;else{if(t=ql,ql=null,Zl=0,0!==(6&Il))throw Error(r(331));var s=Il;for(Il|=4,Qa=t.current;null!==Qa;){var o=Qa,a=o.child;if(0!==(16&Qa.flags)){var l=o.deletions;if(null!==l){for(var h=0;h<l.length;h++){var c=l[h];for(Qa=c;null!==Qa;){var u=Qa;switch(u.tag){case 0:case 11:case 15:il(8,u,o)}var d=u.child;if(null!==d)d.return=u,Qa=d;else for(;null!==Qa;){var f=(u=Qa).sibling,g=u.return;if(ol(u),u===c){Qa=null;break}if(null!==f){f.return=g,Qa=f;break}Qa=g}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(null!==m)}}Qa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Qa=a;else t:for(;null!==Qa;){if(0!==(2048&(o=Qa).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qa=y;break t}Qa=o.return}}var v=t.current;for(Qa=v;null!==Qa;){var b=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Qa=b;else t:for(a=v;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(w){Eh(l,l.return,w)}if(l===a){Qa=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Qa=x;break t}Qa=l.return}}if(Il=s,Vs(),re&&"function"===typeof re.onPostCommitFiberRoot)try{re.onPostCommitFiberRoot(se,t)}catch(w){}i=!0}return i}finally{ve=n,Rl.transition=e}}return!1}function Ch(t,e,n){t=Or(t,e=ga(0,e=ca(n,e),1),1),e=eh(),null!==t&&(_e(t,1,e),sh(t,e))}function Eh(t,e,n){if(3===t.tag)Ch(t,t,n);else for(;null!==e;){if(3===e.tag){Ch(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kl||!Kl.has(i))){e=Or(e,t=pa(e,t=ca(n,t),1),1),t=eh(),null!==e&&(_e(e,1,t),sh(e,t));break}}e=e.return}}function kh(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=eh(),t.pingedLanes|=t.suspendedLanes&n,Pl===t&&(Ll&n)===n&&(4===Al||3===Al&&(130023424&Ll)===Ll&&500>$t()-Vl?fh(t,0):Bl|=n),sh(t,e)}function Mh(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=eh();null!==(t=Ir(t,e))&&(_e(t,e,n),sh(t,n))}function Rh(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Mh(t,n)}function Ih(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(e),Mh(t,n)}function Ph(t,e){return Kt(t,e)}function Th(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lh(t,e,n,i){return new Th(t,e,n,i)}function Dh(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Oh(t,e){var n=t.alternate;return null===n?((n=Lh(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ah(t,e,n,i,s,o){var a=2;if(i=t,"function"===typeof t)Dh(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Fh(n.children,s,o,e);case C:a=8,s|=8;break;case E:return(t=Lh(12,n,e,2|s)).elementType=E,t.lanes=o,t;case I:return(t=Lh(13,n,e,s)).elementType=I,t.lanes=o,t;case P:return(t=Lh(19,n,e,s)).elementType=P,t.lanes=o,t;case D:return Nh(n,s,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:a=10;break t;case M:a=9;break t;case R:a=11;break t;case T:a=14;break t;case L:a=16,i=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=Lh(a,n,e,s)).elementType=t,e.type=i,e.lanes=o,e}function Fh(t,e,n,i){return(t=Lh(7,t,i,e)).lanes=n,t}function Nh(t,e,n,i){return(t=Lh(22,t,i,e)).elementType=D,t.lanes=n,t.stateNode={isHidden:!1},t}function zh(t,e,n){return(t=Lh(6,t,null,e)).lanes=n,t}function Bh(t,e,n){return(e=Lh(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wh(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jh(t,e,n,i,s,r,o,a,l){return t=new Wh(t,e,n,a,l),1===e?(e=1,!0===r&&(e|=8)):e=0,r=Lh(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tr(r),t}function Vh(t){if(!t)return Ms;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var n=t.type;if(Ls(n))return As(t,n,e)}return e}function Gh(t,e,n,i,s,r,o,a,l){return(t=jh(n,i,!0,t,0,r,0,a,l)).context=Vh(null),n=t.current,(r=Dr(i=eh(),s=nh(n))).callback=void 0!==e&&null!==e?e:null,Or(n,r,s),t.current.lanes=s,_e(t,s,i),sh(t,i),t}function Hh(t,e,n,i){var s=e.current,r=eh(),o=nh(s);return n=Vh(n),null===e.context?e.context=n:e.pendingContext=n,(e=Dr(r,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Or(s,e,o))&&(ih(t,s,o,r),Ar(t,s,o)),o}function Uh(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Yh(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Kh(t,e){Yh(t,e),(t=t.alternate)&&Yh(t,e)}Cl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Is.current)ba=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ba=!1,function(t,e,n){switch(e.tag){case 3:Pa(e),fr();break;case 5:ro(e);break;case 1:Ls(e.type)&&Fs(e);break;case 4:io(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;ks(_r,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(ks(ao,1&ao.current),e.flags|=128,null):0!==(n&e.child.childLanes)?za(t,e,n):(ks(ao,1&ao.current),null!==(t=Ua(t,e,n))?t.sibling:null);ks(ao,1&ao.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ga(t,e,n);e.flags|=128}if(null!==(s=e.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),ks(ao,ao.current),i)break;return null;case 22:case 23:return e.lanes=0,Ea(t,e,n)}return Ua(t,e,n)}(t,e,n);ba=0!==(131072&t.flags)}else ba=!1,sr&&0!==(1048576&e.flags)&&Qs(e,Ys,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ha(t,e),t=e.pendingProps;var s=Ts(e,Rs.current);Cr(e,n),s=Co(null,e,i,t,s,n);var o=Eo();return e.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ls(i)?(o=!0,Fs(e)):o=!1,e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Tr(e),s.updater=jr,e.stateNode=s,s._reactInternals=e,Ur(e,i,t,n),e=Ia(null,e,i,!0,o,n)):(e.tag=0,sr&&o&&tr(e),xa(null,e,s,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Ha(t,e),t=e.pendingProps,i=(s=i._init)(i._payload),e.type=i,s=e.tag=function(t){if("function"===typeof t)return Dh(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===R)return 11;if(t===T)return 14}return 2}(i),t=mr(i,t),s){case 0:e=Ma(null,e,i,t,n);break t;case 1:e=Ra(null,e,i,t,n);break t;case 11:e=wa(null,e,i,t,n);break t;case 14:e=Sa(null,e,i,mr(i.type,t),n);break t}throw Error(r(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,Ma(t,e,i,s=e.elementType===i?s:mr(i,s),n);case 1:return i=e.type,s=e.pendingProps,Ra(t,e,i,s=e.elementType===i?s:mr(i,s),n);case 3:t:{if(Pa(e),null===t)throw Error(r(387));i=e.pendingProps,s=(o=e.memoizedState).element,Lr(t,e),Nr(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ta(t,e,i,n,s=ca(Error(r(423)),e));break t}if(i!==s){e=Ta(t,e,i,n,s=ca(Error(r(424)),e));break t}for(ir=hs(e.stateNode.containerInfo.firstChild),nr=e,sr=!0,rr=null,n=$r(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),i===s){e=Ua(t,e,n);break t}xa(t,e,i,n)}e=e.child}return e;case 5:return ro(e),null===t&&hr(e),i=e.type,s=e.pendingProps,o=null!==t?t.memoizedProps:null,a=s.children,ns(i,s)?a=null:null!==o&&ns(i,o)&&(e.flags|=32),ka(t,e),xa(t,e,a,n),e.child;case 6:return null===t&&hr(e),null;case 13:return za(t,e,n);case 4:return io(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Zr(e,null,i,n):xa(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,wa(t,e,i,s=e.elementType===i?s:mr(i,s),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,ks(_r,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===s.children&&!Is.current){e=Ua(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var h=l.firstContext;null!==h;){if(h.context===i){if(1===o.tag){(h=Dr(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?h.next=h:(h.next=u.next,u.next=h),c.pending=h}}o.lanes|=n,null!==(h=o.alternate)&&(h.lanes|=n),Sr(o.return,n,e),l.lanes|=n;break}h=h.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Sr(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Cr(e,n),i=i(s=Er(s)),e.flags|=1,xa(t,e,i,n),e.child;case 14:return s=mr(i=e.type,e.pendingProps),Sa(t,e,i,s=mr(i.type,s),n);case 15:return Ca(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:mr(i,s),Ha(t,e),e.tag=1,Ls(i)?(t=!0,Fs(e)):t=!1,Cr(e,n),Gr(e,i,s),Ur(e,i,s,n),Ia(null,e,i,!0,t,n);case 19:return Ga(t,e,n);case 22:return Ea(t,e,n)}throw Error(r(156,e.tag))};var Xh="function"===typeof reportError?reportError:function(t){console.error(t)};function qh(t){this._internalRoot=t}function Zh(t){this._internalRoot=t}function $h(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qh(){}function tc(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if("function"===typeof s){var a=s;s=function(){var t=Uh(o);a.call(t)}}Hh(e,o,t,s)}else o=function(t,e,n,i,s){if(s){if("function"===typeof i){var r=i;i=function(){var t=Uh(o);r.call(t)}}var o=Gh(e,i,t,0,null,!1,0,"",Qh);return t._reactRootContainer=o,t[gs]=o.current,Vi(8===t.nodeType?t.parentNode:t),uh(),o}for(;s=t.lastChild;)t.removeChild(s);if("function"===typeof i){var a=i;i=function(){var t=Uh(l);a.call(t)}}var l=jh(t,0,!1,null,0,!1,0,"",Qh);return t._reactRootContainer=l,t[gs]=l.current,Vi(8===t.nodeType?t.parentNode:t),uh((function(){Hh(e,l,n,i)})),l}(n,e,t,s,i);return Uh(o)}Zh.prototype.render=qh.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Hh(t,e,null,null)},Zh.prototype.unmount=qh.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uh((function(){Hh(null,t,null,null)})),e[gs]=null}},Zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ce();t={blockedOn:null,target:t,priority:e};for(var n=0;n<De.length&&0!==e&&e<De[n].priority;n++);De.splice(n,0,t),0===n&&Ne(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ue(e.pendingLanes);0!==n&&(ye(e,1|n),sh(e,$t()),0===(6&Il)&&(Gl=$t()+500,Vs()))}break;case 13:uh((function(){var e=Ir(t,1);if(null!==e){var n=eh();ih(e,t,1,n)}})),Kh(t,1)}},we=function(t){if(13===t.tag){var e=Ir(t,134217728);if(null!==e)ih(e,t,134217728,eh());Kh(t,134217728)}},Se=function(t){if(13===t.tag){var e=nh(t),n=Ir(t,e);if(null!==n)ih(n,t,e,eh());Kh(t,e)}},Ce=function(){return ve},Ee=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}},wt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=xs(i);if(!s)throw Error(r(90));K(i),J(i,s)}}}break;case"textarea":rt(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Rt=ch,It=uh;var ec={usingClientEntryPoint:!1,Events:[vs,bs,xs,kt,Mt,ch]},nc={findFiberByHostInstance:ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ut(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{se=sc.inject(ic),re=sc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$h(e))throw Error(r(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!$h(t))throw Error(r(299));var n=!1,i="",s=Xh;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(s=e.onRecoverableError)),e=jh(t,1,!1,null,0,n,0,i,s),t[gs]=e.current,Vi(8===t.nodeType?t.parentNode:t),new qh(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=null===(t=Ut(e))?null:t.stateNode},e.flushSync=function(t){return uh(t)},e.hydrate=function(t,e,n){if(!Jh(e))throw Error(r(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!$h(t))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,s=!1,o="",a=Xh;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Gh(e,null,t,1,null!=n?n:null,s,0,o,a),t[gs]=e.current,Vi(t),i)for(t=0;t<i.length;t++)s=(s=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Zh(e)},e.render=function(t,e,n){if(!Jh(e))throw Error(r(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(r(40));return!!t._reactRootContainer&&(uh((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[gs]=null}))})),!0)},e.unstable_batchedUpdates=ch,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Jh(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return tc(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},391:(t,e,n)=>{"use strict";var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{"use strict";var i=n(43),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,n){var i,r={},h=null,c=null;for(i in void 0!==n&&(h=""+n),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:s,type:t,key:h,ref:c,props:r,_owner:a.current}}e.Fragment=r,e.jsx=h,e.jsxs=h},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function _(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||g}function y(){}function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||g}_.prototype.isReactComponent={},_.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},_.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=_.prototype;var b=v.prototype=new y;b.constructor=v,p(b,_.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var s,r={},o=null,a=null;if(null!=e)for(s in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,s)&&!C.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];r.children=h}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:n,type:t,key:o,ref:a,props:r,_owner:S.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var M=/\/+/g;function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function I(t,e,s,r,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===r?"."+R(l,0):r,x(o)?(s="",null!=t&&(s=t.replace(M,"$&/")+"/"),I(o,e,s,"",(function(t){return t}))):null!=o&&(k(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+t)),e.push(o)),1;if(l=0,r=""===r?".":r+":",x(t))for(var h=0;h<t.length;h++){var c=r+R(a=t[h],h);l+=I(a,e,s,c,o)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),h=0;!(a=t.next()).done;)l+=I(a=a.value,e,s,c=r+R(a,h++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function P(t,e,n){if(null==t)return t;var i=[],s=0;return I(t,i,"","",(function(t){return e.call(n,t,s++)})),i}function T(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var L={current:null},D={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=_,e.Fragment=s,e.Profiler=o,e.PureComponent=v,e.StrictMode=r,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=p({},t.props),r=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=S.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)w.call(e,h)&&!C.hasOwnProperty(h)&&(s[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)s.children=i;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:n,type:t.type,key:r,ref:o,props:s,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=D.transition;D.transition={};try{t()}finally{D.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return L.current.useCallback(t,e)},e.useContext=function(t){return L.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return L.current.useDeferredValue(t)},e.useEffect=function(t,e){return L.current.useEffect(t,e)},e.useId=function(){return L.current.useId()},e.useImperativeHandle=function(t,e,n){return L.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return L.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return L.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return L.current.useMemo(t,e)},e.useReducer=function(t,e,n){return L.current.useReducer(t,e,n)},e.useRef=function(t){return L.current.useRef(t)},e.useState=function(t){return L.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return L.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return L.current.useTransition()},e.version="18.2.0"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,s=t[i];if(!(0<r(s,e)))break t;t[i]=e,t[n]=s,n=i}}function i(t){return 0===t.length?null:t[0]}function s(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,s=t.length,o=s>>>1;i<o;){var a=2*(i+1)-1,l=t[a],h=a+1,c=t[h];if(0>r(l,n))h<s&&0>r(c,l)?(t[i]=c,t[h]=n,i=h):(t[i]=l,t[a]=n,i=a);else{if(!(h<s&&0>r(c,n)))break t;t[i]=c,t[h]=n,i=h}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var h=[],c=[],u=1,d=null,f=3,g=!1,p=!1,m=!1,_="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=i(c);null!==e;){if(null===e.callback)s(c);else{if(!(e.startTime<=t))break;s(c),e.sortIndex=e.expirationTime,n(h,e)}e=i(c)}}function x(t){if(m=!1,b(t),!p)if(null!==i(h))p=!0,D(w);else{var e=i(c);null!==e&&O(x,e.startTime-t)}}function w(t,n){p=!1,m&&(m=!1,y(k),k=-1),g=!0;var r=f;try{for(b(n),d=i(h);null!==d&&(!(d.expirationTime>n)||t&&!I());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(h)&&s(h),b(n)}else s(h);d=i(h)}if(null!==d)var l=!0;else{var u=i(c);null!==u&&O(x,u.startTime-n),l=!1}return l}finally{d=null,f=r,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,E=null,k=-1,M=5,R=-1;function I(){return!(e.unstable_now()-R<M)}function P(){if(null!==E){var t=e.unstable_now();R=t;var n=!0;try{n=E(!0,t)}finally{n?S():(C=!1,E=null)}}else C=!1}if("function"===typeof v)S=function(){v(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,L=T.port2;T.port1.onmessage=P,S=function(){L.postMessage(null)}}else S=function(){_(P,0)};function D(t){E=t,C||(C=!0,S())}function O(t,n){k=_((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,D(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,s,r){var o=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?o+r:o:r=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:u++,callback:s,priorityLevel:t,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>o?(t.sortIndex=r,n(c,t),null===i(h)&&t===i(c)&&(m?(y(k),k=-1):m=!0,O(x,r-o))):(t.sortIndex=a,n(h,t),p||g||(p=!0,D(w))),t},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.m=t,n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".a9741047.chunk.js",n.miniCssF=t=>{},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="deforestation-monitoring-dashboard:";n.l=(i,s,r,o)=>{if(t[i])t[i].push(s);else{var a,l;if(void 0!==r)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var u=h[c];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==e+r){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+r),a.src=i),t[i]=[s];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var s=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",(()=>{var t={792:0};n.f.j=(e,i)=>{var s=n.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else{var r=new Promise(((n,i)=>s=t[e]=[n,i]));i.push(s[2]=r);var o=n.p+n.u(e),a=new Error;n.l(o,(i=>{if(n.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,s[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{var s,r,o=i[0],a=i[1],l=i[2],h=0;if(o.some((e=>0!==t[e]))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(e&&e(i);h<o.length;h++)r=o[h],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0},i=self.webpackChunkdeforestation_monitoring_dashboard=self.webpackChunkdeforestation_monitoring_dashboard||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t=n(43),e=n(391);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}function r(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return t+.5|0}const a=(t,e,n)=>Math.max(Math.min(t,n),e);function l(t){return a(o(2.55*t),0,255)}function h(t){return a(o(255*t),0,255)}function c(t){return a(o(t/2.55)/100,0,1)}function u(t){return a(o(100*t),0,100)}const d={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},f=[..."0123456789ABCDEF"],g=t=>f[15&t],p=t=>f[(240&t)>>4]+f[15&t],m=t=>(240&t)>>4===(15&t);function _(t){var e=(t=>m(t.r)&&m(t.g)&&m(t.b)&&m(t.a))(t)?g:p;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v(t,e,n){const i=e*Math.min(n,1-n),s=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function b(t,e,n){const i=function(i){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(s,4-s,1),0)};return[i(5),i(3),i(1)]}function x(t,e,n){const i=v(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function w(t){const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i),o=(s+r)/2;let a,l,h;return s!==r&&(h=s-r,l=o>.5?h/(2-s-r):h/(s+r),a=function(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}(e,n,i,h,s),a=60*a+.5),[0|a,l||0,o]}function S(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(h)}function C(t,e,n){return S(v,t,e,n)}function E(t){return(t%360+360)%360}function k(t){const e=y.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?l(+e[5]):h(+e[5]));const s=E(+e[2]),r=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return S(x,t,e,n)}(s,r,o):"hsv"===e[1]?function(t,e,n){return S(b,t,e,n)}(s,r,o):C(s,r,o),{r:n[0],g:n[1],b:n[2],a:i}}const M={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let I;function P(t){I||(I=function(){const t={},e=Object.keys(R),n=Object.keys(M);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,M[r]);r=parseInt(R[o],16),t[a]=[r>>16&255,r>>8&255,255&r]}return t}(),I.transparent=[0,0,0,0]);const e=I[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const T=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const L=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,D=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function O(t,e,n){if(t){let i=w(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=C(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function A(t,e){return t?Object.assign(e||{},t):t}function F(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=h(t[3]))):(e=A(t,{r:0,g:0,b:0,a:1})).a=h(e.a),e}function N(t){return"r"===t.charAt(0)?function(t){const e=T.exec(t);let n,i,s,r=255;if(e){if(e[7]!==n){const t=+e[7];r=e[8]?l(t):a(255*t,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?l(n):a(n,0,255)),i=255&(e[4]?l(i):a(i,0,255)),s=255&(e[6]?l(s):a(s,0,255)),{r:n,g:i,b:s,a:r}}}(t):k(t)}class z{constructor(t){if(t instanceof z)return t;const e=typeof t;let n;"object"===e?n=F(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*d[t[1]],g:255&17*d[t[2]],b:255&17*d[t[3]],a:5===n?17*d[t[4]]:255}:7!==n&&9!==n||(e={r:d[t[1]]<<4|d[t[2]],g:d[t[3]]<<4|d[t[4]],b:d[t[5]]<<4|d[t[6]],a:9===n?d[t[7]]<<4|d[t[8]]:255})),e}(t)||P(t)||N(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=A(this._rgb);return t&&(t.a=c(t.a)),t}set rgb(t){this._rgb=F(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(c(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?_(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=w(t),n=e[0],i=u(e[1]),s=u(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(s,"%, ").concat(c(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let s;const r=e===s?.5:e,o=2*r-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;s=1-l,n.r=255&l*n.r+s*i.r+.5,n.g=255&l*n.g+s*i.g+.5,n.b=255&l*n.b+s*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=D(c(t.r)),s=D(c(t.g)),r=D(c(t.b));return{r:h(L(i+n*(D(c(e.r))-i))),g:h(L(s+n*(D(c(e.g))-s))),b:h(L(r+n*(D(c(e.b))-r))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new z(this.rgb)}alpha(t){return this._rgb.a=h(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=o(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return O(this._rgb,2,t),this}darken(t){return O(this._rgb,2,-t),this}saturate(t){return O(this._rgb,1,t),this}desaturate(t){return O(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=w(t);n[0]=E(n[0]+e),n=C(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function B(){}const W=(()=>{let t=0;return()=>t++})();function j(t){return null===t||"undefined"===typeof t}function V(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function G(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function H(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function U(t,e){return H(t)?t:e}function Y(t,e){return"undefined"===typeof t?e:t}const K=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function X(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function q(t,e,n,i){let s,r,o;if(V(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(G(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Z(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function $(t){if(V(t))return t.map($);if(G(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=$(t[n[s]]);return e}return t}function J(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Q(t,e,n,i){if(!J(t))return;const s=e[t],r=n[t];G(s)&&G(r)?tt(s,r,i):e[t]=$(r)}function tt(t,e,n){const i=V(e)?e:[e],s=i.length;if(!G(t))return t;const r=(n=n||{}).merger||Q;let o;for(let a=0;a<s;++a){if(o=i[a],!G(o))continue;const e=Object.keys(o);for(let i=0,s=e.length;i<s;++i)r(e[i],t,o,n)}return t}function et(t,e){return tt(t,e,{merger:nt})}function nt(t,e,n){if(!J(t))return;const i=e[t],s=n[t];G(i)&&G(s)?et(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=$(s))}const it={"":t=>t,x:t=>t.x,y:t=>t.y};function st(t,e){const n=it[e]||(it[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function rt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ot=t=>"undefined"!==typeof t,at=t=>"function"===typeof t,lt=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const ht=Math.PI,ct=2*ht,ut=ct+ht,dt=Number.POSITIVE_INFINITY,ft=ht/180,gt=ht/2,pt=ht/4,mt=2*ht/3,_t=Math.log10,yt=Math.sign;function vt(t,e,n){return Math.abs(t-e)<n}function bt(t){const e=Math.round(t);t=vt(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_t(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function xt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function wt(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function St(t){return t*(ht/180)}function Ct(t){return t*(180/ht)}function Et(t){if(!H(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function kt(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ht&&(r+=ct),{angle:r,distance:s}}function Mt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Rt(t,e){return(t-e+ut)%ct-ht}function It(t){return(t%ct+ct)%ct}function Pt(t,e,n,i){const s=It(t),r=It(e),o=It(n),a=It(r-s),l=It(o-s),h=It(s-r),c=It(s-o);return s===r||s===o||i&&r===o||a>l&&h<c}function Tt(t,e,n){return Math.max(e,Math.min(n,t))}function Lt(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Dt(t,e,n){n=n||(n=>t[n]<e);let i,s=t.length-1,r=0;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Ot=(t,e,n,i)=>Dt(t,n,i?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),At=(t,e,n)=>Dt(t,n,(i=>t[i][e]>=n));const Ft=["push","pop","shift","splice","unshift"];function Nt(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);-1!==s&&i.splice(s,1),i.length>0||(Ft.forEach((e=>{delete t[e]})),delete t._chartjs)}function zt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Bt="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function Wt(t,e){let n=[],i=!1;return function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];n=r,i||(i=!0,Bt.call(window,(()=>{i=!1,t.apply(e,n)})))}}const jt=t=>"start"===t?"left":"end"===t?"right":"center",Vt=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Gt(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:h,max:c,minDefined:u,maxDefined:d}=o.getUserBounds();u&&(s=Tt(Math.min(Ot(a,l,h).lo,n?i:Ot(e,l,o.getPixelForValue(h)).lo),0,i-1)),r=d?Tt(Math.max(Ot(a,o.axis,c,!0).hi+1,n?0:Ot(e,l,o.getPixelForValue(c),!0).hi+1),s,i)-s:i-s}return{start:s,count:r}}function Ht(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Ut=t=>0===t||1===t,Yt=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*ct/n),Kt=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ct/n)+1,Xt={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*gt),easeOutSine:t=>Math.sin(t*gt),easeInOutSine:t=>-.5*(Math.cos(ht*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Ut(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ut(t)?t:Yt(t,.075,.3),easeOutElastic:t=>Ut(t)?t:Kt(t,.075,.3),easeInOutElastic(t){const e=.1125;return Ut(t)?t:t<.5?.5*Yt(2*t,e,.45):.5+.5*Kt(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Xt.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Xt.easeInBounce(2*t):.5*Xt.easeOutBounce(2*t-1)+.5};function qt(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Zt(t){return qt(t)?t:new z(t)}function $t(t){return qt(t)?t:new z(t).saturate(.5).darken(.1).hexString()}const Jt=["x","y","borderWidth","radius","tension"],Qt=["color","borderColor","backgroundColor"];const te=new Map;function ee(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=te.get(n);return i||(i=new Intl.NumberFormat(t,e),te.set(n,i)),i}(e,n).format(t)}const ne={values:t=>V(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(s="scientific"),r=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=_t(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ee(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(_t(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?ne.numeric.call(this,t,e,n):""}};var ie={formatters:ne};const se=Object.create(null),re=Object.create(null);function oe(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function ae(t,e,n){return"string"===typeof e?tt(oe(t,e),n):tt(oe(t,""),e)}class le{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>$t(e.backgroundColor),this.hoverBorderColor=(t,e)=>$t(e.borderColor),this.hoverColor=(t,e)=>$t(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ae(this,t,e)}get(t){return oe(this,t)}describe(t,e){return ae(re,t,e)}override(t,e){return ae(se,t,e)}route(t,e,n,i){const s=oe(this,t),r=oe(this,n),o="_"+e;Object.defineProperties(s,{[o]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=r[i];return G(t)?Object.assign({},e,t):Y(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var he=new le({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Qt},numbers:{type:"number",properties:Jt}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ie.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function ce(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function ue(t,e,n,i){let s=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,h,c,u,d;for(l=0;l<a;l++)if(u=n[l],void 0===u||null===u||V(u)){if(V(u))for(h=0,c=u.length;h<c;h++)d=u[h],void 0===d||null===d||V(d)||(o=ce(t,s,r,o,d))}else o=ce(t,s,r,o,u);t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function de(t,e,n){const i=t.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function fe(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function ge(t,e,n,i){pe(t,e,n,i,null)}function pe(t,e,n,i,s){let r,o,a,l,h,c,u,d;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*ft;if(f&&"object"===typeof f&&(r=f.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,p,0,0,ct):t.arc(n,i,p,0,ct),t.closePath();break;case"triangle":c=s?s/2:p,t.moveTo(n+Math.sin(m)*c,i-Math.cos(m)*p),m+=mt,t.lineTo(n+Math.sin(m)*c,i-Math.cos(m)*p),m+=mt,t.lineTo(n+Math.sin(m)*c,i-Math.cos(m)*p),t.closePath();break;case"rectRounded":h=.516*p,l=p-h,o=Math.cos(m+pt)*l,u=Math.cos(m+pt)*(s?s/2-h:l),a=Math.sin(m+pt)*l,d=Math.sin(m+pt)*(s?s/2-h:l),t.arc(n-u,i-a,h,m-ht,m-gt),t.arc(n+d,i-o,h,m-gt,m),t.arc(n+u,i+a,h,m,m+gt),t.arc(n-d,i+o,h,m+gt,m+ht),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,c=s?s/2:l,t.rect(n-c,i-l,2*c,2*l);break}m+=pt;case"rectRot":u=Math.cos(m)*(s?s/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(n-u,i-a),t.lineTo(n+d,i-o),t.lineTo(n+u,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":m+=pt;case"cross":u=Math.cos(m)*(s?s/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":u=Math.cos(m)*(s?s/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),m+=pt,u=Math.cos(m)*(s?s/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(s?s/2:p),i+Math.sin(m)*p);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function me(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function _e(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ye(t){t.restore()}function ve(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if("middle"===s){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===s!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function be(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function xe(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,h=n+r.actualBoundingBoxDescent,c=s.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function we(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Se(t,e,n,i,s){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=V(e)?e:[e],a=r.strokeWidth>0&&""!==r.strokeColor;let l,h;for(t.save(),t.font=s.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),j(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),l=0;l<o.length;++l)h=o[l],r.backdrop&&we(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),j(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(h,n,i,r.maxWidth)),t.fillText(h,n,i,r.maxWidth),xe(t,n,i,h,r),i+=Number(s.lineHeight);t.restore()}function Ce(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ht,ht,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,ht,gt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,gt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-gt,!0),t.lineTo(n+o.topLeft,i)}const Ee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ke=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Me(t,e){const n=(""+t).match(Ee);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Re=t=>+t||0;function Ie(t,e){const n={},i=G(e),s=i?Object.keys(e):e,r=G(t)?i?n=>Y(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of s)n[o]=Re(r(o));return n}function Pe(t){return Ie(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Te(t){return Ie(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Le(t){const e=Pe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function De(t,e){t=t||{},e=e||he.font;let n=Y(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=Y(t.style,e.style);i&&!(""+i).match(ke)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Y(t.family,e.family),lineHeight:Me(Y(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Y(t.weight,e.weight),string:""};return s.string=function(t){return!t||j(t.size)||j(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(s),s}function Oe(t,e,n,i){let s,r,o,a=!0;for(s=0,r=t.length;s<r;++s)if(o=t[s],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&V(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function Ae(t,e){return Object.assign(Object.create(t),e)}function Fe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const s=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=Ke("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:i=>Fe([i,...t],e,s,n)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>je(n,i,(()=>function(t,e,n,i){let s;for(const r of e)if(s=Ke(Be(r,t),n),"undefined"!==typeof s)return We(t,s)?Ue(n,i,t,s):s}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Xe(t).includes(e),ownKeys:t=>Xe(t),set(t,e,n){const s=t._storage||(t._storage=i());return t[e]=s[e]=n,delete t._keys,!0}})}function Ne(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ze(t,i),setContext:e=>Ne(t,e,n,i),override:s=>Ne(t.override(s),e,n,i)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>je(t,e,(()=>function(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];at(a)&&o.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);a.delete(t),We(t,l)&&(l=Ue(s._scopes,s,t,l));return l}(e,a,t,n));V(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof r.index&&i(t))return e[r.index%e.length];if(G(e[0])){const n=e,i=s._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=Ue(i,s,t,l);e.push(Ne(n,r,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));We(e,a)&&(a=Ne(a,s,r&&r[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function ze(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:at(n)?n:()=>n,isIndexable:at(i)?i:()=>i}}const Be=(t,e)=>t?t+rt(e):e,We=(t,e)=>G(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function je(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function Ve(t,e,n){return at(t)?t(e,n):t}const Ge=(t,e)=>!0===t?e:"string"===typeof t?st(e,t):void 0;function He(t,e,n,i,s){for(const r of e){const e=Ge(n,r);if(e){t.add(e);const r=Ve(e._fallback,n,s);if("undefined"!==typeof r&&r!==n&&r!==i)return r}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function Ue(t,e,n,i){const s=e._rootScopes,r=Ve(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=Ye(a,o,n,r||n,i);return null!==l&&(("undefined"===typeof r||r===n||(l=Ye(a,o,r,l,i),null!==l))&&Fe(Array.from(a),[""],s,r,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];if(V(s)&&G(n))return n;return s||{}}(e,n,i))))}function Ye(t,e,n,i,s){for(;n;)n=He(t,e,n,i,s);return n}function Ke(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Xe(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function qe(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,h,c;for(a=0,l=i;a<l;++a)h=a+n,c=e[h],o[a]={r:s.parse(st(c,r),h)};return o}const Ze=Number.EPSILON||1e-14,$e=(t,e)=>e<t.length&&!t[e].skip&&t[e],Je=t=>"x"===t?"y":"x";function Qe(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=Mt(r,s),l=Mt(o,r);let h=a/(a+l),c=l/(a+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const u=i*h,d=i*c;return{previous:{x:r.x-u*(o.x-s.x),y:r.y-u*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function tn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Je(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,h=$e(t,0);for(o=0;o<i;++o)if(a=l,l=h,h=$e(t,o+1),l){if(h){const t=h[e]-l[e];s[o]=0!==t?(h[n]-l[n])/t:0}r[o]=a?h?yt(s[o-1])!==yt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}!function(t,e,n){const i=t.length;let s,r,o,a,l,h=$e(t,0);for(let c=0;c<i-1;++c)l=h,h=$e(t,c+1),l&&h&&(vt(e[c],0,Ze)?n[c]=n[c+1]=0:(s=n[c]/e[c],r=n[c+1]/e[c],a=Math.pow(s,2)+Math.pow(r,2),a<=9||(o=3/Math.sqrt(a),n[c]=s*o*e[c],n[c+1]=r*o*e[c])))}(t,s,r),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=Je(n),s=t.length;let r,o,a,l=$e(t,0);for(let h=0;h<s;++h){if(o=a,a=l,l=$e(t,h+1),!a)continue;const s=a[n],c=a[i];o&&(r=(s-o[n])/3,a["cp1".concat(n)]=s-r,a["cp1".concat(i)]=c-r*e[h]),l&&(r=(l[n]-s)/3,a["cp2".concat(n)]=s+r,a["cp2".concat(i)]=c+r*e[h])}}(t,r,e)}function en(t,e,n){return Math.max(Math.min(t,n),e)}function nn(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)tn(t,s);else{let n=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=Qe(n,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,s,r,o,a=me(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&me(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=en(s.cp1x,e.left,e.right),s.cp1y=en(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=en(s.cp2x,e.left,e.right),s.cp2y=en(s.cp2y,e.top,e.bottom)))}(t,n)}function sn(){return"undefined"!==typeof window&&"undefined"!==typeof document}function rn(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function on(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const an=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const ln=["top","right","bottom","left"];function hn(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=ln[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cn=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function un(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=an(n),r="border-box"===s.boxSizing,o=hn(s,"padding"),a=hn(s,"border","width"),{x:l,y:h,box:c}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o,a,l=!1;if(cn(s,r,t.target))o=s,a=r;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),u=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:f,height:g}=e;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-u)/f*n.width/i),y:Math.round((h-d)/g*n.height/i)}}const dn=t=>Math.round(10*t)/10;function fn(t,e,n,i){const s=an(t),r=hn(s,"margin"),o=on(s.maxWidth,t,"clientWidth")||dt,a=on(s.maxHeight,t,"clientHeight")||dt,l=function(t,e,n){let i,s;if(void 0===e||void 0===n){const r=rn(t);if(r){const t=r.getBoundingClientRect(),o=an(r),a=hn(o,"border","width"),l=hn(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=on(o.maxWidth,r,"clientWidth"),s=on(o.maxHeight,r,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||dt,maxHeight:s||dt}}(t,e,n);let{width:h,height:c}=l;if("content-box"===s.boxSizing){const t=hn(s,"border","width"),e=hn(s,"padding");h-=e.width+t.width,c-=e.height+t.height}h=Math.max(0,h-r.width),c=Math.max(0,i?h/i:c-r.height),h=dn(Math.min(h,o,l.maxWidth)),c=dn(Math.min(c,a,l.maxHeight)),h&&!c&&(c=dn(h/2));return(void 0!==e||void 0!==n)&&i&&l.height&&c>l.height&&(c=l.height,h=dn(Math.floor(c*i))),{width:h,height:c}}function gn(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r)&&(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0)}const pn=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};sn()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function mn(t,e){const n=function(t,e){return an(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _n(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function yn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function vn(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=_n(t,s,n),a=_n(s,r,n),l=_n(r,e,n),h=_n(o,a,n),c=_n(a,l,n);return _n(h,c,n)}function bn(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function xn(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function wn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Sn(t){return"angle"===t?{between:Pt,compare:Rt,normalize:It}:{between:Lt,compare:(t,e)=>t-e,normalize:t=>t}}function Cn(t){let{start:e,end:n,count:i,loop:s,style:r}=t;return{start:e%i,end:n%i,loop:s&&(n-e+1)%i===0,style:r}}function En(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:h}=Sn(i),{start:c,end:u,loop:d,style:f}=function(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=Sn(i),l=e.length;let h,c,{start:u,end:d,loop:f}=t;if(f){for(u+=l,d+=l,h=0,c=l;h<c&&o(a(e[u%l][i]),s,r);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}(t,e,n),g=[];let p,m,_,y=!1,v=null;const b=()=>y||l(s,_,p)&&0!==a(s,_),x=()=>!y||0===a(r,p)||l(r,_,p);for(let w=c,S=c;w<=u;++w)m=e[w%o],m.skip||(p=h(m[i]),p!==_&&(y=l(p,s,r),null===v&&b()&&(v=0===a(p,s)?w:S),null!==v&&x()&&(g.push(Cn({start:v,end:w,loop:d,count:o,style:f})),v=null),S=w,_=p));return null!==v&&g.push(Cn({start:v,end:u,loop:d,count:o,style:f})),g}function kn(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=En(i[s],t.points,e);r.length&&n.push(...r)}return n}function Mn(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const s=t._chart.getContext(),r=Rn(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,h=[];let c=r,u=e[0].start,d=u;function f(t,e,i,s){const r=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=r;for(;n[e%l].skip;)e+=r;t%l!==e%l&&(h.push({start:t%l,end:e%l,loop:i,style:s}),c=s,u=e%l)}}for(const g of e){u=a?u:g.start;let t,e=n[u%l];for(d=u+1;d<=g.end;d++){const r=n[d%l];t=Rn(i.setContext(Ae(s,{type:"segment",p0:e,p1:r,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),In(t,c)&&f(u,d-1,g.loop,c),e=r,c=t}u<d-1&&f(u,d-1,g.loop,c)}return h}(t,e,n,i):e}function Rn(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function In(t,e){if(!e)return!1;const n=[],i=function(t,e){return qt(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}class Pn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const s=e.listeners[i],r=e.duration;s.forEach((i=>i({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(n-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=Bt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let r,o=s.length-1,a=!1;for(;o>=0;--o)r=s[o],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),s.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=s.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Tn=new Pn;const Ln="transparent",Dn={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Zt(t||Ln),s=i.valid&&Zt(e||Ln);return s&&s.valid?s.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class On{constructor(t,e,n,i){const s=e[n];i=Oe([t.to,i,s,t.from]);const r=Oe([t.from,s,i]);this._active=!0,this._fn=t.fn||Dn[t.type||typeof r],this._easing=Xt[t.easing]||Xt.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,r=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Oe([t.to,e,i,t.from]),this._from=Oe([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,s=this._from,r=this._loop,o=this._to;let a;if(this._active=s!==o&&(r||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=s:(a=e/n%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(s,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class An{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!G(t))return;const e=Object.keys(he.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const s=t[i];if(!G(s))return;const r={};for(const t of e)r[t]=s[t];(V(s.properties)&&s.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,r)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const e=t[i[s]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),s}_createAnimations(t,e){const n=this._properties,i=[],s=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const l=r[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const h=e[l];let c=s[l];const u=n.get(l);if(c){if(u&&c.active()){c.update(u,h,o);continue}c.cancel()}u&&u.duration?(s[l]=c=new On(u,t,l,h),i.push(c)):t[l]=h}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Tn.add(this._chart,n),!0):void 0}}function Fn(t,e){const n=t&&t.options||{},i=n.reverse,s=void 0===n.min?e:0,r=void 0===n.max?e:0;return{start:i?r:s,end:i?s:r}}function Nn(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function zn(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=t.keys,r="single"===i.mode;let o,a,l,h;if(null!==e){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}h=t.values[l],H(h)&&(r||0===e||yt(e)===yt(h))&&(e+=h)}return e}}function Bn(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Wn(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function jn(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const e=t[s.index];if(n&&e>0||!n&&e<0)return s.index}return null}function Vn(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,h=o.axis,c=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(r,o,i),u=e.length;let d;for(let f=0;f<u;++f){const t=e[f],{[l]:n,[h]:r}=t;d=(t._stacks||(t._stacks={}))[h]=Wn(s,c,n),d[a]=r,d._top=jn(d,o,!0,i.type),d._bottom=jn(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=r}}function Gn(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Hn(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const Un=t=>"reset"===t||"none"===t,Yn=(t,e)=>e?t:Object.assign({},t);class Kn{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Bn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,s=e.xAxisID=Y(n.xAxisID,Gn(t,"x")),r=e.yAxisID=Y(n.yAxisID,Gn(t,"y")),o=e.rAxisID=Y(n.rAxisID,Gn(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,s,r,o),h=e.vAxisID=i(a,r,s,o);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Nt(this._data,this),t._stacked&&Hn(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(G(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}(e);else if(n!==e){if(n){Nt(n,this);const t=this._cachedMeta;Hn(t),t._parsed=[]}e&&Object.isExtensible(e)&&(s=this,(i=e)._chartjs?i._chartjs.listeners.push(s):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Ft.forEach((t=>{const e="_onData"+rt(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];const o=n.apply(this,s);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...s)})),o}})})))),this._syncList=[],this._data=e}var i,s}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=e._stacked;e._stacked=Bn(e.vScale,e),e.stack!==n.stack&&(i=!0,Hn(e),e.stack=n.stack),this._resyncElements(t),(i||s!==e._stacked)&&Vn(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:r}=n,o=s.axis;let a,l,h,c=0===t&&e===i.length||n._sorted,u=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,h=i;else{h=V(i[t])?this.parseArrayData(n,i,t,e):G(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const s=()=>null===l[o]||u&&l[o]<u[o];for(a=0;a<e;++a)n._parsed[a+t]=l=h[a],c&&(s()&&(c=!1),u=l);n._sorted=c}r&&Vn(this,h)}parsePrimitiveData(t,e,n,i){const{iScale:s,vScale:r}=t,o=s.axis,a=r.axis,l=s.getLabels(),h=s===r,c=new Array(i);let u,d,f;for(u=0,d=i;u<d;++u)f=u+n,c[u]={[o]:h||s.parse(l[f],f),[a]:r.parse(e[f],f)};return c}parseArrayData(t,e,n,i){const{xScale:s,yScale:r}=t,o=new Array(i);let a,l,h,c;for(a=0,l=i;a<l;++a)h=a+n,c=e[h],o[a]={x:s.parse(c[0],h),y:r.parse(c[1],h)};return o}parseObjectData(t,e,n,i){const{xScale:s,yScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let h,c,u,d;for(h=0,c=i;h<c;++h)u=h+n,d=e[u],l[h]={x:s.parse(st(d,o),u),y:r.parse(st(d,a),u)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,s=this._cachedMeta,r=e[t.axis];return zn({keys:Nn(i,!0),values:e._stacks[t.axis]._visualValues},r,s.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const s=n[e.axis];let r=null===s?NaN:s;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,r=zn(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&t===n.iScale,r=i.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Nn(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=function(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(o);let u,d;function f(){d=i[u];const e=d[o.axis];return!H(d[t.axis])||h>e||c<e}for(u=0;u<r&&(f()||(this.updateRangeFromParsed(l,t,d,a),!s));++u);if(s)for(u=r-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i][t.axis],H(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,s=this.getParsed(t);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,s;return G(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:!1===t}}(Y(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=Fn(t,n),s=Fn(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],s=e.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(t,s,o,a),h=o;h<o+a;++h){const e=i[h];e.hidden||(e.active&&l?r.push(e):e.draw(t,s))}for(h=0;h<r.length;++h)r[h].draw(t,s)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];s=e.$context||(e.$context=function(t,e,n){return Ae(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function(t,e){return Ae(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=n,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,s=this._cachedDataOpts,r=t+"-"+e,o=s[r],a=this.enableOptionSharing&&ot(n);if(o)return Yn(o,a);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],u=l.getOptionScopes(this.getDataset(),h),d=Object.keys(he.elements[t]),f=l.resolveNamedOptions(u,d,(()=>this.getContext(n,i,e)),c);return f.$shared&&(f.$shared=a,s[r]=Object.freeze(Yn(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,s=this._cachedDataOpts,r="animation-".concat(e),o=s[r];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,s=i.datasetAnimationScopeKeys(this._type,e),r=i.getOptionScopes(this.getDataset(),s);a=i.createResolver(r,this.getContext(t,n,e))}const l=new An(i,a&&a.animations);return a&&a._cacheable&&(s[r]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Un(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,s=this.getSharedOptions(n),r=this.includeOptions(e,s)||s!==i;return this.updateSharedOptions(s,e,n),{sharedOptions:s,includeOptions:r}}updateElement(t,e,n,i){Un(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Un(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const s=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,s=e.length,r=Math.min(s,i);r&&this.parse(0,r),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,s=i.data,r=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=r;o--)t[o]=t[o-e]};for(a(s),o=t;o<r;++o)s[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(s,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Hn(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Xn(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,s=n.length;e<s;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=zt(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,s,r,o,a=e._length;const l=()=>{32767!==r&&-32768!==r&&(ot(o)&&(a=Math.min(a,Math.abs(r-o)||a)),o=r)};for(i=0,s=n.length;i<s;++i)r=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)r=e.getPixelForTick(i),l();return a}function qn(t,e,n,i){return V(t)?function(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),e[n.axis]=h,e._custom={barStart:l,barEnd:h,start:s,end:r,min:o,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Zn(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let h,c,u,d;for(h=n,c=n+i;h<c;++h)d=e[h],u={},u[s.axis]=a||s.parse(o[h],h),l.push(qn(d,u,r,h));return l}function $n(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Jn(t,e,n,i){let s=e.borderSkipped;const r={};if(!s)return void(t.borderSkipped=r);if(!0===s)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:h,bottom:c}=function(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}(t);"middle"===s&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=h:(n._bottom||0)===i?s=c:(r[Qn(c,o,a,l)]=!0,s=h)),r[Qn(s,o,a,l)]=!0,t.borderSkipped=r}function Qn(t,e,n,i){var s,r,o;return i?(o=n,t=ti(t=(s=t)===(r=e)?o:s===o?r:s,n,e)):t=ti(t,e,n),t}function ti(t,e,n){return"start"===t?e:"end"===t?n:t}function ei(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}r(Kn,"defaults",{}),r(Kn,"datasetElementType",null),r(Kn,"dataElementType",null);class ni extends Kn{parsePrimitiveData(t,e,n,i){return Zn(t,e,n,i)}parseArrayData(t,e,n,i){return Zn(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:s,vScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===s.axis?o:a,h="x"===r.axis?o:a,c=[];let u,d,f,g;for(u=n,d=n+i;u<d;++u)g=e[u],f={},f[s.axis]=s.parse(st(g,l),u),c.push(qn(st(g,h),f,r,u));return c}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const s=n._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,s=this.getParsed(t),r=s._custom,o=$n(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const s="reset"===i,{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),h=this._getRuler(),{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=s||j(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,h),g=(e._stacks||{})[o.axis],p={horizontal:l,base:n.base,enableBorderRadius:!g||$n(e._custom)||r===g._top||r===g._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};u&&(p.options=c||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=p.options||t[d].options;Jn(p,m,g,r),ei(p,m,h.ratio),this.updateElement(t[d],d,p,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),s=n.options.stacked,r=[],o=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(j(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!o(a))&&((!1===s||-1===r.indexOf(a.stack)||void 0===s&&void 0===a.stack)&&r.push(a.stack),a.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),s=void 0!==e?i.indexOf(e):-1;return-1===s?i.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let s,r;for(s=0,r=e.data.length;s<r;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=t.barThickness;return{min:o||Xn(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:s,minBarLength:r}}=this,o=s||0,a=this.getParsed(t),l=a._custom,h=$n(l);let c,u,d=a[e.axis],f=0,g=n?this.applyStack(e,a,n):d;g!==d&&(f=g-d,g=d),h&&(d=l.barStart,g=l.barEnd-l.barStart,0!==d&&yt(d)!==yt(l.barEnd)&&(f=0),f+=d);const p=j(s)||h?f:s;let m=e.getPixelForValue(p);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(f+g):m,u=c-m,Math.abs(u)<r){u=function(t,e,n){return 0!==t?yt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(u,e,o)*r,d===o&&(m-=u/2);const t=e.getPixelForDecimal(0),s=e.getPixelForDecimal(1),l=Math.min(t,s),f=Math.max(t,s);m=Math.max(Math.min(m,f),l),c=m+u,n&&!h&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(c)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=yt(u)*e.getLineWidthForValue(o)/2;m+=t,u-=t}return{size:u,base:m,head:c,center:c+u/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,s=i.skipNull,r=Y(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=s?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;null===o&&(o=r-(null===a?e.end-e.start:a-r)),null===a&&(a=r+r-o);const h=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:h}}(t,e,i,n):function(t,e,n,i){const s=n.barThickness;let r,o;return j(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}(t,e,i,n),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);o=l.start+l.chunk*h+l.chunk/2,a=Math.min(r,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(r,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let s=0;for(;s<i;++s)null!==this.getParsed(s)[e.axis]&&n[s].draw(this._ctx)}}r(ni,"id","bar"),r(ni,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),r(ni,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ii extends Kn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const s=super.parsePrimitiveData(t,e,n,i);for(let r=0;r<s.length;r++)s[r]._custom=this.resolveDataElementOptions(r+n).radius;return s}parseArrayData(t,e,n,i){const s=super.parseArrayData(t,e,n,i);for(let r=0;r<s.length;r++){const t=e[n+r];s[r]._custom=Y(t[2],this.resolveDataElementOptions(r+n).radius)}return s}parseObjectData(t,e,n,i){const s=super.parseObjectData(t,e,n,i);for(let r=0;r<s.length;r++){const t=e[n+r];s[r]._custom=Y(t&&t.r&&+t.r,this.resolveDataElementOptions(r+n).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=e,r=this.getParsed(t),o=i.getLabelForValue(r.x),a=s.getLabelForValue(r.y),l=r._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const s="reset"===i,{iScale:r,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),h=r.axis,c=o.axis;for(let u=e;u<e+n;u++){const e=t[u],n=!s&&this.getParsed(u),d={},f=d[h]=s?r.getPixelForDecimal(.5):r.getPixelForValue(n[h]),g=d[c]=s?o.getBasePixel():o.getPixelForValue(n[c]);d.skip=isNaN(f)||isNaN(g),l&&(d.options=a||this.resolveDataElementOptions(u,e.active?"active":i),s&&(d.options.radius=0)),this.updateElement(e,u,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return"active"!==e&&(i.radius=0),i.radius+=Y(n&&n._custom,s),i}}r(ii,"id","bubble"),r(ii,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),r(ii,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class si extends Kn{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let s,r,o=t=>+n[t];if(G(n[t])){const{key:t="value"}=this._parsing;o=e=>+st(n[e],t)}for(s=t,r=t+e;s<r;++s)i._parsed[s]=o(s)}}_getRotation(){return St(this.options.rotation-90)}_getCircumference(){return St(this.options.circumference)}_getRotationExtents(){let t=ct,e=-ct;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),r=i._getCircumference();t=Math.min(t,s),e=Math.max(e,s+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,s=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-r)/2,0),a=Math.min((l=this.options.cutout,h=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/h),1);var l,h;const c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=function(t,e,n){let i=1,s=1,r=0,o=0;if(e<ct){const a=t,l=a+e,h=Math.cos(a),c=Math.sin(a),u=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>Pt(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),g=(t,e,i)=>Pt(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),p=f(0,h,u),m=f(gt,c,d),_=g(ht,h,u),y=g(ht+gt,c,d);i=(p-_)/2,s=(m-y)/2,r=-(p+_)/2,o=-(m+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}(d,u,a),_=(n.width-r)/f,y=(n.height-r)/g,v=Math.max(Math.min(_,y)/2,0),b=K(this.options.radius,v),x=(b-Math.max(b*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/ct)}updateElements(t,e,n,i){const s="reset"===i,r=this.chart,o=r.chartArea,a=r.options.animation,l=(o.left+o.right)/2,h=(o.top+o.bottom)/2,c=s&&a.animateScale,u=c?0:this.innerRadius,d=c?0:this.outerRadius,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,i);let p,m=this._getRotation();for(p=0;p<e;++p)m+=this._circumference(p,s);for(p=e;p<e+n;++p){const e=this._circumference(p,s),n=t[p],r={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:u};g&&(r.options=f||this.resolveDataElementOptions(p,n.active?"active":i)),m+=e,this.updateElement(n,p,r,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const s=t._parsed[n];null===s||isNaN(s)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ct*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=ee(e._parsed[t],n.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,s,r,o,a;if(!t)for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,o=r.controller;break}if(!t)return 0;for(i=0,s=t.length;i<s;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Y(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}r(si,"id","doughnut"),r(si,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),r(si,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),r(si,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,s)=>{const r=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class ri extends Kn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=e,r=this.chart._animationsDisabled;let{start:o,count:a}=Gt(e,i,r);this._drawStart=o,this._drawCount=a,Ht(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const s="reset"===i,{iScale:r,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:h,includeOptions:c}=this._getSharedOptions(e,i),u=r.axis,d=o.axis,{spanGaps:f,segment:g}=this.options,p=xt(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||"none"===i,_=e+n,y=t.length;let v=e>0&&this.getParsed(e-1);for(let b=0;b<y;++b){const n=t[b],f=m?n:{};if(b<e||b>=_){f.skip=!0;continue}const y=this.getParsed(b),x=j(y[d]),w=f[u]=r.getPixelForValue(y[u],b),S=f[d]=s||x?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],b);f.skip=isNaN(w)||isNaN(S)||x,f.stop=b>0&&Math.abs(y[u]-v[u])>p,g&&(f.parsed=y,f.raw=l.data[b]),c&&(f.options=h||this.resolveDataElementOptions(b,n.active?"active":i)),m||this.updateElement(n,b,f,i),v=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}r(ri,"id","line"),r(ri,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),r(ri,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class oi extends Kn{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=ee(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,e,n,i){return qe.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(i/2,0),r=(s-Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,n,i){const s="reset"===i,r=this.chart,o=r.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,h=a.yCenter,c=a.getIndexAngle(0)-.5*ht;let u,d=c;const f=360/this.countVisibleElements();for(u=0;u<e;++u)d+=this._computeAngle(u,i,f);for(u=e;u<e+n;u++){const e=t[u];let n=d,g=d+this._computeAngle(u,i,f),p=r.getDataVisibility(u)?a.getDistanceFromCenterForValue(this.getParsed(u).r):0;d=g,s&&(o.animateScale&&(p=0),o.animateRotate&&(n=g=c));const m={x:l,y:h,innerRadius:0,outerRadius:p,startAngle:n,endAngle:g,options:this.resolveDataElementOptions(u,e.active?"active":i)};this.updateElement(e,u,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?St(this.resolveDataElementOptions(t,e).angle||n):0}}r(oi,"id","polarArea"),r(oi,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),r(oi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,s)=>{const r=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ai extends si{}r(ai,"id","pie"),r(ai,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class li extends Kn{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return qe.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],s=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const r={_loop:!0,_fullLoop:s.length===i.length,options:e};this.updateElement(n,void 0,r,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const s=this._cachedMeta.rScale,r="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=s.getPointPositionForValue(o,this.getParsed(o).r),l=r?s.xCenter:a.x,h=r?s.yCenter:a.y,c={x:l,y:h,angle:a.angle,skip:isNaN(l)||isNaN(h),options:n};this.updateElement(e,o,c,i)}}}r(li,"id","radar"),r(li,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),r(li,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hi extends Kn{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=e,r=this.getParsed(t),o=i.getLabelForValue(r.x),a=s.getLabelForValue(r.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:s,count:r}=Gt(e,n,i);if(this._drawStart=s,this._drawCount=r,Ht(e)&&(s=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:r}=e;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,s,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const s="reset"===i,{iScale:r,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,i),c=this.getSharedOptions(h),u=this.includeOptions(i,c),d=r.axis,f=o.axis,{spanGaps:g,segment:p}=this.options,m=xt(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||"none"===i;let y=e>0&&this.getParsed(e-1);for(let v=e;v<e+n;++v){const e=t[v],n=this.getParsed(v),h=_?e:{},g=j(n[f]),b=h[d]=r.getPixelForValue(n[d],v),x=h[f]=s||g?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],v);h.skip=isNaN(b)||isNaN(x)||g,h.stop=v>0&&Math.abs(n[d]-y[d])>m,p&&(h.parsed=n,h.raw=l.data[v]),u&&(h.options=c||this.resolveDataElementOptions(v,e.active?"active":i)),_||this.updateElement(e,v,h,i),y=n}this.updateSharedOptions(c,i,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const s=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,s,r)/2}}r(hi,"id","scatter"),r(hi,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),r(hi,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function ci(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ui{static override(t){Object.assign(ui.prototype,t)}constructor(t){r(this,"options",void 0),this.options=t||{}}init(){}formats(){return ci()}parse(){return ci()}format(){return ci()}add(){return ci()}diff(){return ci()}startOf(){return ci()}endOf(){return ci()}}var di=ui;function fi(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&r.length){const t=a._reversePixels?At:Ot;if(!i)return t(r,e,n);if(s._sharedOptions){const i=r[0],s="function"===typeof i.getRange&&i.getRange(e);if(s){const i=t(r,e,n-s),o=t(r,e,n+s);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:r.length-1}}function gi(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:t,data:n}=r[a],{lo:l,hi:h}=fi(r[a],e,o,s);for(let e=l;e<=h;++e){const s=n[e];s.skip||i(s,t,e)}}}function pi(t,e,n,i,s){const r=[];if(!s&&!t.isPointInArea(e))return r;return gi(t,n,e,(function(n,o,a){(s||me(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&r.push({element:n,datasetIndex:o,index:a})}),!0),r}function mi(t,e,n,i,s,r){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const s=e?Math.abs(t.x-i.x):0,r=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}(n);let l=Number.POSITIVE_INFINITY;return gi(t,n,e,(function(n,h,c){const u=n.inRange(e.x,e.y,s);if(i&&!u)return;const d=n.getCenterPoint(s);if(!(!!r||t.isPointInArea(d))&&!u)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:h,index:c}],l=f):f===l&&o.push({element:n,datasetIndex:h,index:c})})),o}function _i(t,e,n,i,s,r){return r||t.isPointInArea(e)?"r"!==n||i?mi(t,e,n,i,s,r):function(t,e,n,i){let s=[];return gi(t,n,e,(function(t,n,r){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=kt(t,{x:e.x,y:e.y});Pt(l,o,a)&&s.push({element:t,datasetIndex:n,index:r})})),s}(t,e,n,s):[]}function yi(t,e,n,i,s){const r=[],o="x"===n?"inXRange":"inYRange";let a=!1;return gi(t,n,e,((t,i,l)=>{t[o](e[n],s)&&(r.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,s))})),i&&!a?[]:r}var vi={evaluateInteractionItems:gi,modes:{index(t,e,n,i){const s=un(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?pi(t,s,r,i,o):_i(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const s=un(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?pi(t,s,r,i,o):_i(t,s,r,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>pi(t,un(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const s=un(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return _i(t,s,r,n.intersect,i,o)},x:(t,e,n,i)=>yi(t,un(e,t),"x",n.intersect,i),y:(t,e,n,i)=>yi(t,un(e,t),"y",n.intersect,i)}};const bi=["left","top","right","bottom"];function xi(t,e){return t.filter((t=>t.pos===e))}function wi(t,e){return t.filter((t=>-1===bi.indexOf(t.pos)&&t.box.axis===e))}function Si(t,e){return t.sort(((t,n)=>{const i=e?n:t,s=e?t:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight}))}function Ci(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:s}=n;if(!t||!bi.includes(i))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:o}=a.box,l=n[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*i:o&&e.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:o&&e.availableHeight)}return n}function Ei(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ki(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Mi(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!G(s)){n.size&&(t[s]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?r.height:r.width),n.size=e.size/e.count,t[s]+=n.size}r.getPadding&&ki(o,r.getPadding());const a=Math.max(0,e.outerWidth-Ei(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ei(o,t,"top","bottom")),h=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:h,other:c}:{same:c,other:h}}function Ri(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function Ii(t,e,n,i){const s=[];let r,o,a,l,h,c;for(r=0,o=t.length,h=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,Ri(a.horizontal,e));const{same:o,other:u}=Mi(e,n,a,i);h|=o&&s.length,c=c||u,l.fullSize||s.push(a)}return h&&Ii(s,e,n,i)||c}function Pi(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Ti(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*h,r=l.size||t.height;ot(l.start)&&(o=l.start),t.fullSize?Pi(t,s.left,o,n.outerWidth-s.right-s.left,r):Pi(t,e.left+l.placed,o,i,r),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*h,o=l.size||t.width;ot(l.start)&&(r=l.start),t.fullSize?Pi(t,r,s.top,o,n.outerHeight-s.bottom-s.top):Pi(t,r,e.top+l.placed,o,i),l.start=r,l.placed+=i,r=t.right}}e.x=r,e.y=o}var Li={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Le(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=function(t){const e=function(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],({position:r,options:{stack:o,stackWeight:a=1}}=s),e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}(t),n=Si(e.filter((t=>t.box.fullSize)),!0),i=Si(xi(e,"left"),!0),s=Si(xi(e,"right")),r=Si(xi(e,"top"),!0),o=Si(xi(e,"bottom")),a=wi(e,"x"),l=wi(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:xi(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}(t.boxes),l=a.vertical,h=a.horizontal;q(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},s);ki(d,Le(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),g=Ci(l.concat(h),u);Ii(a.fullSize,f,u,g),Ii(l,f,u,g),Ii(h,f,u,g)&&Ii(l,f,u,g),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),Ti(a.leftAndTop,f,u,g),f.x+=f.w,f.y+=f.h,Ti(a.rightAndBottom,f,u,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},q(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Di{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Oi extends Di{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ai="$chartjs",Fi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ni=t=>null===t||""===t;const zi=!!pn&&{passive:!0};function Bi(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,zi)}function Wi(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ji(t,e,n){const i=t.canvas,s=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Wi(n.addedNodes,i),e=e&&!Wi(n.removedNodes,i);e&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}function Vi(t,e,n){const i=t.canvas,s=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Wi(n.removedNodes,i),e=e&&!Wi(n.addedNodes,i);e&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}const Gi=new Map;let Hi=0;function Ui(){const t=window.devicePixelRatio;t!==Hi&&(Hi=t,Gi.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Yi(t,e,n){const i=t.canvas,s=i&&rn(i);if(!s)return;const r=Wt(((t,e)=>{const i=s.clientWidth;n(t,e),i<s.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||r(n,i)}));return o.observe(s),function(t,e){Gi.size||window.addEventListener("resize",Ui),Gi.set(t,e)}(t,r),o}function Ki(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Gi.delete(t),Gi.size||window.removeEventListener("resize",Ui)}(t)}function Xi(t,e,n){const i=t.canvas,s=Wt((e=>{null!==t.ctx&&n(function(t,e){const n=Fi[t.type]||t.type,{x:i,y:s}=un(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==s?s:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,zi)}(i,e,s),s}class qi extends Di{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Ai]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ni(s)){const e=mn(t,"width");void 0!==e&&(t.width=e)}if(Ni(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=mn(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Ai])return!1;const n=e[Ai].initial;["height","width"].forEach((t=>{const i=n[t];j(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[Ai],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),s={attach:ji,detach:Vi,resize:Yi}[e]||Xi;i[e]=s(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:Ki,detach:Ki,resize:Ki}[e]||Bi)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return fn(t,e,n,i)}isAttached(t){const e=rn(t);return!(!e||!e.isConnected)}}class Zi{constructor(){r(this,"x",void 0),r(this,"y",void 0),r(this,"active",!1),r(this,"options",void 0),r(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return xt(this.x)&&xt(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function $i(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],o=r.length,a=r[0],l=r[o-1],h=[];if(o>s)return function(t,e,n,i){let s,r=0,o=n[0];for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=n[r*i])}(e,h,r,o/s),h;const c=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),s=e.length/n;if(!i)return Math.max(s,1);const r=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let o=0,a=r.length-1;o<a;o++){const t=r[o];if(t>s)return t}return Math.max(s,1)}(r,e,s);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(Ji(e,h,c,j(i)?0:a-i,a),t=0,n=o-1;t<n;t++)Ji(e,h,c,r[t],r[t+1]);return Ji(e,h,c,l,j(i)?e.length:l+i),h}return Ji(e,h,c),h}function Ji(t,e,n,i,s){const r=Y(i,0),o=Math.min(Y(s,t.length),t.length);let a,l,h,c=0;for(n=Math.ceil(n),s&&(a=s-i,n=a/Math.floor(a/n)),h=r;h<0;)c++,h=Math.round(r+c*n);for(l=Math.max(r,0);l<o;l++)l===h&&(e.push(t[l]),c++,h=Math.round(r+c*n))}r(Zi,"defaults",{}),r(Zi,"defaultRoutes",void 0);const Qi=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,ts=(t,e)=>Math.min(e||t,t);function es(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function ns(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l,h=t.getPixelForTick(s);if(!(n&&(l=1===i?Math.max(h-r,o-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(s-1))/2,h+=s<e?l:-l,h<r-a||h>o+a)))return h}function is(t){return t.drawTicks?t.tickLength:0}function ss(t,e){if(!t.display)return 0;const n=De(t.font,e),i=Le(t.padding);return(V(t.text)?t.text.length:1)*n.lineHeight+i.height}function rs(t,e,n){let i=jt(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class os extends Zi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=U(t,Number.POSITIVE_INFINITY),e=U(e,Number.NEGATIVE_INFINITY),n=U(n,Number.POSITIVE_INFINITY),i=U(i,Number.NEGATIVE_INFINITY),{min:U(t,n),max:U(e,i),minDefined:H(t),maxDefined:H(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),s||(n=Math.min(n,e.min)),r||(i=Math.max(i,e.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:U(n,U(i,n)),max:U(i,U(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){X(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:s,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:s}=t,r=K(e,(s-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(r)),max:o(s,r)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?es(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=$i(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){X(this.options.afterUpdate,[this])}beforeSetDimensions(){X(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){X(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),X(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){X(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n],s.label=X(e.callback,[s.value,n,t],this)}afterTickToLabelConversion(){X(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){X(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=ts(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,s=e.maxRotation;let r,o,a,l=i;if(!this._isVisible()||!e.display||i>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const h=this._getLabelSizes(),c=h.widest.width,u=h.highest.height,d=Tt(this.chart.width-c,0,this.maxWidth);r=t.offset?this.maxWidth/n:d/(n-1),c+6>r&&(r=d/(n-(t.offset?.5:1)),o=this.maxHeight-is(t.grid)-e.padding-ss(t.title,this.chart.options.font),a=Math.sqrt(c*c+u*u),l=Ct(Math.min(Math.asin(Tt((h.highest.height+6)/r,-1,1)),Math.asin(Tt(o/a,-1,1))-Math.asin(Tt(u/a,-1,1)))),l=Math.max(i,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){X(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){X(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:s}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const r=ss(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=is(s)+r):(t.height=this.maxHeight,t.width=is(s)+r),n.display&&this.ticks.length){const{first:e,last:i,widest:s,highest:r}=this._getLabelSizes(),a=2*n.padding,l=St(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(o){const e=n.mirror?0:c*s.width+h*r.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:h*s.width+c*r.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,c,h)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:s,padding:r},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,u=0;a?l?(c=i*t.width,u=n*e.height):(c=n*t.height,u=i*e.width):"start"===s?u=e.width:"end"===s?c=t.width:"inner"!==s&&(c=t.width/2,u=e.width/2),this.paddingLeft=Math.max((c-o+r)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-h+r)*this.width/(this.width-h),0)}else{let n=e.height/2,i=t.height/2;"start"===s?(n=0,i=t.height):"end"===s&&(n=e.height,i=0),this.paddingTop=n+r,this.paddingBottom=i+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){X(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)j(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=es(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:s}=this,r=[],o=[],a=Math.floor(e/ts(e,n));let l,h,c,u,d,f,g,p,m,_,y,v=0,b=0;for(l=0;l<e;l+=a){if(u=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,g=s[f]=s[f]||{data:{},gc:[]},p=d.lineHeight,m=_=0,j(u)||V(u)){if(V(u))for(h=0,c=u.length;h<c;++h)y=u[h],j(y)||V(y)||(m=ce(i,g.data,g.gc,m,y),_+=p)}else m=ce(i,g.data,g.gc,m,u),_=p;r.push(m),o.push(_),v=Math.max(m,v),b=Math.max(_,b)}!function(t,e){q(t,(t=>{const n=t.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[n[s]];n.splice(0,i)}}))}(s,e);const x=r.indexOf(v),w=o.indexOf(b),S=t=>({width:r[t]||0,height:o[t]||0});return{first:S(0),last:S(e-1),widest:S(x),highest:S(w),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Tt(this._alignToPixels?de(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Ae(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=function(t,e){return Ae(t,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=St(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),s=this._getLabelSizes(),r=t.autoSkipPadding||0,o=s?s.widest.width+r:0,a=s?s.highest.height+r:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:s,position:r,border:o}=i,a=s.offset,l=this.isHorizontal(),h=this.ticks.length+(a?1:0),c=is(s),u=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,g=f/2,p=function(t){return de(n,t,f)};let m,_,y,v,b,x,w,S,C,E,k,M;if("top"===r)m=p(this.bottom),x=this.bottom-c,S=m-g,E=p(t.top)+g,M=t.bottom;else if("bottom"===r)m=p(this.top),E=t.top,M=p(t.bottom)-g,x=m+g,S=this.top+c;else if("left"===r)m=p(this.right),b=this.right-c,w=m-g,C=p(t.left)+g,k=t.right;else if("right"===r)m=p(this.left),C=t.left,k=p(t.right)-g,b=m+g,w=this.left+c;else if("x"===e){if("center"===r)m=p((t.top+t.bottom)/2+.5);else if(G(r)){const t=Object.keys(r)[0],e=r[t];m=p(this.chart.scales[t].getPixelForValue(e))}E=t.top,M=t.bottom,x=m+g,S=x+c}else if("y"===e){if("center"===r)m=p((t.left+t.right)/2);else if(G(r)){const t=Object.keys(r)[0],e=r[t];m=p(this.chart.scales[t].getPixelForValue(e))}b=m-g,w=b-c,C=t.left,k=t.right}const R=Y(i.ticks.maxTicksLimit,h),I=Math.max(1,Math.ceil(h/R));for(_=0;_<h;_+=I){const t=this.getContext(_),e=s.setContext(t),i=o.setContext(t),r=e.lineWidth,h=e.color,c=i.dash||[],d=i.dashOffset,f=e.tickWidth,g=e.tickColor,p=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=ns(this,_,a),void 0!==y&&(v=de(n,y,r),l?b=w=C=k=v:x=S=E=M=v,u.push({tx1:b,ty1:x,tx2:w,ty2:S,x1:C,y1:E,x2:k,y2:M,width:r,color:h,borderDash:c,borderDashOffset:d,tickWidth:f,tickColor:g,tickBorderDash:p,tickBorderDashOffset:m}))}return this._ticksLength=h,this._borderValue=m,u}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:s}=n,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:h,mirror:c}=s,u=is(n.grid),d=u+h,f=c?-h:d,g=-St(this.labelRotation),p=[];let m,_,y,v,b,x,w,S,C,E,k,M,R="middle";if("top"===i)x=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(u);w=t.textAlign,b=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(u);w=t.textAlign,b=t.x}else if("x"===e){if("center"===i)x=(t.top+t.bottom)/2+d;else if(G(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)+d}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)b=(t.left+t.right)/2-d;else if(G(i)){const t=Object.keys(i)[0],e=i[t];b=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===e&&("start"===a?R="top":"end"===a&&(R="bottom"));const I=this._getLabelSizes();for(m=0,_=o.length;m<_;++m){y=o[m],v=y.label;const t=s.setContext(this.getContext(m));S=this.getPixelForTick(m)+s.labelOffset,C=this._resolveTickFontOptions(m),E=C.lineHeight,k=V(v)?v.length:1;const e=k/2,n=t.color,a=t.textStrokeColor,h=t.textStrokeWidth;let u,d=w;if(r?(b=S,"inner"===w&&(d=m===_-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),M="top"===i?"near"===l||0!==g?-k*E+E/2:"center"===l?-I.highest.height/2-e*E+E:-I.highest.height+E/2:"near"===l||0!==g?E/2:"center"===l?I.highest.height/2-e*E:I.highest.height-k*E,c&&(M*=-1),0===g||t.showLabelBackdrop||(b+=E/2*Math.sin(g))):(x=S,M=(1-k)*E/2),t.showLabelBackdrop){const e=Le(t.backdropPadding),n=I.heights[m],i=I.widths[m];let s=M-e.top,r=0-e.left;switch(R){case"middle":s-=n/2;break;case"bottom":s-=n}switch(w){case"center":r-=i/2;break;case"right":r-=i;break;case"inner":m===_-1?r-=i:m>0&&(r-=i/2)}u={left:r,top:s,width:i+e.width,height:n+e.height,color:t.backdropColor}}p.push({label:v,font:C,textOffset:M,options:{rotation:g,color:n,strokeColor:a,strokeWidth:h,textAlign:d,textBaseline:R,translation:[b,x],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-St(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,r=t+s,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:s,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,s,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,r;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(s=0,r=i.length;s<r;++s){const t=i[s];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),r=n.display?s.width:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,h,c,u;this.isHorizontal()?(l=de(t,this.left,r)-r/2,h=de(t,this.right,o)+o/2,c=u=a):(c=de(t,this.top,r)-r/2,u=de(t,this.bottom,o)+o/2,l=h=a),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(l,c),e.lineTo(h,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&_e(e,n);const i=this.getLabelItems(t);for(const s of i){const t=s.options,n=s.font;Se(e,s.label,0,s.textOffset,n,t)}n&&ye(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const s=De(n.font),r=Le(n.padding),o=n.align;let a=s.lineHeight/2;"bottom"===e||"center"===e||G(e)?(a+=r.bottom,V(n.text)&&(a+=s.lineHeight*(n.text.length-1))):a+=r.top;const{titleX:l,titleY:h,maxWidth:c,rotation:u}=function(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:h,scales:c}=l;let u,d,f,g=0;const p=o-s,m=a-r;if(t.isHorizontal()){if(d=Vt(i,r,a),G(n)){const t=Object.keys(n)[0],i=n[t];f=c[t].getPixelForValue(i)+p-e}else f="center"===n?(h.bottom+h.top)/2+p-e:Qi(t,n,e);u=a-r}else{if(G(n)){const t=Object.keys(n)[0],i=n[t];d=c[t].getPixelForValue(i)-m+e}else d="center"===n?(h.left+h.right)/2-m+e:Qi(t,n,e);f=Vt(i,o,s),g="left"===n?-gt:gt}return{titleX:d,titleY:f,maxWidth:u,rotation:g}}(this,a,e,o);Se(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:rs(o,e,i),textBaseline:"middle",translation:[l,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Y(t.grid&&t.grid.z,-1),i=Y(t.border&&t.border.z,0);return this._isVisible()&&this.draw===os.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,r;for(s=0,r=e.length;s<r;++s){const r=e[s];r[n]!==this.id||t&&r.type!==t||i.push(r)}return i}_resolveTickFontOptions(t){return De(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class as{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,s=t.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,function(t,e,n){const i=tt(Object.create(null),[n?he.get(n):{},he.get(e),t.defaults]);he.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");he.route(r,s,l,a)}))}(e,t.defaultRoutes);t.descriptors&&he.describe(e,t.descriptors)}(t,r,n),this.override&&he.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in he[i]&&(delete he[i][n],this.override&&delete se[n])}}class ls{constructor(){this.controllers=new as(Kn,"datasets",!0),this.elements=new as(Zi,"elements"),this.plugins=new as(Object,"plugins"),this.scales=new as(os,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):q(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=rt(t);X(n["before"+i],[],n),e[t](n),X(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var hs=new ls;class cs{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(s,t,e,n);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,n,i){i=i||{};for(const s of t){const t=s.plugin;if(!1===X(t[n],[e,i,s.options],t)&&i.cancelable)return!1}return!0}invalidate(){j(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=Y(n.options&&n.options.plugins,{}),s=function(t){const e={},n=[],i=Object.keys(hs.plugins.items);for(let r=0;r<i.length;r++)n.push(hs.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const t=s[r];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:s,localIds:r}=e;const o=[],a=t.getContext();for(const l of s){const e=l.id,s=us(n[e],i);null!==s&&o.push({plugin:l,options:ds(t.config,{plugin:l,local:r[e]},s,a)})}return o}(t,s,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function us(t,e){return e||!1!==t?!0===t?{}:t:null}function ds(t,e,n,i){let{plugin:s,local:r}=e;const o=t.pluginScopeKeys(s),a=t.getOptionScopes(n,o);return r&&s.defaults&&a.push(s.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fs(t,e){const n=he.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function gs(t){if("x"===t||"y"===t||"r"===t)return t}function ps(t){if(gs(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n){const e=r.axis||("top"===(s=r.position)||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0)||t.length>1&&gs(t[0].toLowerCase());if(e)return e}var s;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function ms(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function _s(t,e){const n=se[t.type]||{scales:{}},i=e.scales||{},s=fs(t.type,e),r=Object.create(null);return Object.keys(i).forEach((e=>{const o=i[e];if(!G(o))return console.error("Invalid scale configuration for scale: ".concat(e));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=ps(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return ms(t,"x",n[0])||ms(t,"y",n[0])}return{}}(e,t),he.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,s),h=n.scales||{};r[e]=et(Object.create(null),[{axis:a},o,h[a],h[l]])})),t.data.datasets.forEach((n=>{const s=n.type||t.type,o=n.indexAxis||fs(s,e),a=(se[s]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),s=n[e+"AxisID"]||e;r[s]=r[s]||Object.create(null),et(r[s],[{axis:e},i[s],a[t]])}))})),Object.keys(r).forEach((t=>{const e=r[t];et(e,[he.scales[e.type],he.scale])})),r}function ys(t){const e=t.options||(t.options={});e.plugins=Y(e.plugins,{}),e.scales=_s(t,e)}function vs(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const bs=new Map,xs=new Set;function ws(t,e){let n=bs.get(t);return n||(n=e(),bs.set(t,n),xs.add(n)),n}const Ss=(t,e,n)=>{const i=st(e,n);void 0!==i&&t.add(i)};class Cs{constructor(t){this._config=function(t){return(t=t||{}).data=vs(t.data),ys(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=vs(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ys(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ws(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return ws("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return ws("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return ws("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:s}=this,r=this._cachedScopes(t,n),o=r.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Ss(a,t,e)))),e.forEach((t=>Ss(a,i,t))),e.forEach((t=>Ss(a,se[s]||{},t))),e.forEach((t=>Ss(a,he,t))),e.forEach((t=>Ss(a,re,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),xs.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,se[e]||{},he.datasets[e]||{},{type:e},he,re]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:r,subPrefixes:o}=Es(this._resolverCache,t,i);let a=r;if(function(t,e){const{isScriptable:n,isIndexable:i}=ze(t);for(const s of e){const e=n(s),r=i(s),o=(r||e)&&t[s];if(e&&(at(o)||ks(o))||r&&V(o))return!0}return!1}(r,e)){s.$shared=!1;a=Ne(r,n=at(n)?n():n,this.createResolver(t,n,o))}for(const l of e)s[l]=a[l];return s}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:s}=Es(this._resolverCache,t,n);return G(e)?Ne(s,e,void 0,i):s}}function Es(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);if(!r){r={resolver:Fe(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(s,r)}return r}const ks=t=>G(t)&&Object.getOwnPropertyNames(t).some((e=>at(t[e])));const Ms=["top","bottom","left","right","chartArea"];function Rs(t,e){return"top"===t||"bottom"===t||-1===Ms.indexOf(t)&&"x"===e}function Is(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Ps(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),X(n&&n.onComplete,[t],e)}function Ts(t){const e=t.chart,n=e.options.animation;X(n&&n.onProgress,[t],e)}function Ls(t){return sn()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ds={},Os=t=>{const e=Ls(t);return Object.values(Ds).filter((t=>t.canvas===e)).pop()};function As(t,e,n){const i=Object.keys(t);for(const s of i){const i=+s;if(i>=e){const r=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=r)}}}function Fs(t,e,n){return t.options.clip?t[n]:e[n]}class Ns{static register(){hs.add(...arguments),zs()}static unregister(){hs.remove(...arguments),zs()}constructor(t,e){const n=this.config=new Cs(e),i=Ls(t),s=Os(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!sn()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Oi:qi}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,r.aspectRatio),a=o&&o.canvas,l=a&&a.height,h=a&&a.width;this.id=W(),this.ctx=o,this.canvas=a,this.width=h,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cs,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],Ds[this.id]=this,o&&a?(Tn.listen(this,"complete",Ps),Tn.listen(this,"progress",Ts),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:s}=this;return j(t)?e&&s?s:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return hs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fe(this.canvas,this.ctx),this}stop(){return Tn.stop(this),this}resize(t,e){Tn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,e,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,gn(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),X(n.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){q(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let s=[];e&&(s=s.concat(Object.keys(e).map((t=>{const n=e[t],i=ps(t,n),s="r"===i,r="x"===i;return{options:n,dposition:s?"chartArea":r?"bottom":"left",dtype:s?"radialLinear":r?"category":"linear"}})))),q(s,(e=>{const s=e.options,r=s.id,o=ps(r,s),a=Y(s.type,e.dtype);void 0!==s.position&&Rs(s.position,o)===Rs(e.dposition)||(s.position=e.dposition),i[r]=!0;let l=null;if(r in n&&n[r].type===a)l=n[r];else{l=new(hs.getScale(a))({id:r,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,t)})),q(i,((t,e)=>{t||delete n[e]})),q(n,(t=>{Li.configure(this,t,t.options),Li.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Is("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let s=this.getDatasetMeta(n);const r=i.type||this.config.type;if(s.type&&s.type!==r&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=r,s.indexAxis=i.indexAxis||fs(r,this.options),s.order=i.order||0,s.index=n,s.label=""+i.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const e=hs.getController(r),{datasetElementType:i,dataElementType:o}=he.datasets[r];Object.assign(e,{dataElementType:hs.getElement(o),datasetElementType:i&&hs.getElement(i)}),s.controller=new e(this,n),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){q(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,h=this.data.datasets.length;l<h;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===s.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||q(s,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Is("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){q(this.scales,(t=>{Li.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);lt(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of e){As(t,i,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let s=1;s<e;s++)if(!lt(i,n(s)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Li.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],q(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,at(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Tn.has(this)?this.attached&&!Tn.running(this)&&Tn.start(this):(this.draw(),Ps({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,s;for(i=0,s=e.length;i<s;++i){const s=e[i];t&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,s=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Fs(n,e,"left"),right:Fs(n,e,"right"),top:Fs(i,e,"top"),bottom:Fs(i,e,"bottom")}:e}(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(i&&_e(e,{left:!1===n.left?0:s.left-n.left,right:!1===n.right?this.width:s.right+n.right,top:!1===n.top?0:s.top-n.top,bottom:!1===n.bottom?this.height:s.bottom+n.bottom}),t.controller.draw(),i&&ye(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return me(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const s=vi.modes[e];return"function"===typeof s?s(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Ae(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",s=this.getDatasetMeta(t),r=s.controller._resolveAnimations(void 0,i);ot(e)?(s.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(s,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Tn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),fe(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ds[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};q(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},s=(t,e)=>{this.canvas&&this.resize(t,e)};let r;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",r)};r=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():r()}unbindEvents(){q(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},q(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let s,r,o,a;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){r=t[o];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!Z(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,s=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),r=s(e,t),o=n?t:s(t,e);r.length&&this.updateHoverStyle(r,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const s=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:s}=this,r=e,o=this._getActiveElements(t,i,n,r),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,X(s.onHover,[t,o,this],this),a&&X(s.onClick,[t,o,this],this));const h=!Z(o,i);return(h||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,h}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}}function zs(){return q(Ns.instances,(t=>t._plugins.invalidate()))}function Bs(t,e,n,i){const s=Ie(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(n-e)/2,o=Math.min(r,i*e/2),a=t=>{const e=(n-Math.min(r,t))*i/2;return Tt(t,0,Math.min(r,e))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Tt(s.innerStart,0,o),innerEnd:Tt(s.innerEnd,0,o)}}function Ws(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function js(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:h,innerRadius:c}=e,u=Math.max(e.outerRadius+i+n-h,0),d=c>0?c+i+n+h:0;let f=0;const g=s-l;if(i){const t=((c>0?c-i:0)+(u>0?u-i:0))/2;f=(g-(0!==t?g*t/(t+i):g))/2}const p=(g-Math.max(.001,g*u-n/ht)/u)/2,m=l+p+f,_=s-p-f,{outerStart:y,outerEnd:v,innerStart:b,innerEnd:x}=Bs(e,d,u,_-m),w=u-y,S=u-v,C=m+y/w,E=_-v/S,k=d+b,M=d+x,R=m+b/k,I=_-x/M;if(t.beginPath(),r){const e=(C+E)/2;if(t.arc(o,a,u,C,e),t.arc(o,a,u,e,E),v>0){const e=Ws(S,E,o,a);t.arc(e.x,e.y,v,E,_+gt)}const n=Ws(M,_,o,a);if(t.lineTo(n.x,n.y),x>0){const e=Ws(M,I,o,a);t.arc(e.x,e.y,x,_+gt,I+Math.PI)}const i=(_-x/d+(m+b/d))/2;if(t.arc(o,a,d,_-x/d,i,!0),t.arc(o,a,d,i,m+b/d,!0),b>0){const e=Ws(k,R,o,a);t.arc(e.x,e.y,b,R+Math.PI,m-gt)}const s=Ws(w,m,o,a);if(t.lineTo(s.x,s.y),y>0){const e=Ws(w,C,o,a);t.arc(e.x,e.y,y,m-gt,C)}}else{t.moveTo(o,a);const e=Math.cos(C)*u+o,n=Math.sin(C)*u+a;t.lineTo(e,n);const i=Math.cos(E)*u+o,s=Math.sin(E)*u+a;t.lineTo(i,s)}t.closePath()}function Vs(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:u,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!h)return;t.setLineDash(u||[]),t.lineDashOffset=d,f?(t.lineWidth=2*h,t.lineJoin=c||"round"):(t.lineWidth=h,t.lineJoin=c||"bevel");let g=e.endAngle;if(r){js(t,e,n,i,g,s);for(let e=0;e<r;++e)t.stroke();isNaN(a)||(g=o+(a%ct||ct))}f&&function(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let h=s/a;t.beginPath(),t.arc(r,o,a,i-h,n+h),l>s?(h=s/l,t.arc(r,o,l,n+h,i-h,!0)):t.arc(r,o,s,n+gt,i-gt),t.closePath(),t.clip()}(t,e,g),r||(js(t,e,n,i,g,s),t.stroke())}r(Ns,"defaults",he),r(Ns,"instances",Ds),r(Ns,"overrides",se),r(Ns,"registry",hs),r(Ns,"version","4.4.2"),r(Ns,"getChart",Os);class Gs extends Zi{constructor(t){super(),r(this,"circumference",void 0),r(this,"endAngle",void 0),r(this,"fullCircles",void 0),r(this,"innerRadius",void 0),r(this,"outerRadius",void 0),r(this,"pixelMargin",void 0),r(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:s,distance:r}=kt(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:h,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,d=Y(c,a-o)>=ct||Pt(s,o,a),f=Lt(r,l+u,h+u);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:s,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,h=(i+s)/2,c=(r+o+l+a)/2;return{x:e+Math.cos(h)*c,y:n+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,s=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>ct?Math.floor(n/ct):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(ht,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){js(t,e,n,i,l,s);for(let e=0;e<r;++e)t.fill();isNaN(a)||(l=o+(a%ct||ct))}js(t,e,n,i,l,s),t.fill()}(t,this,a,s,r),Vs(t,this,a,s,r),t.restore()}}function Hs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=Y(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Y(n.borderDash,e.borderDash)),t.lineDashOffset=Y(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Y(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Y(n.borderWidth,e.borderWidth),t.strokeStyle=Y(n.borderColor,e.borderColor)}function Us(t,e,n){t.lineTo(n.x,n.y)}function Ys(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),h=Math.min(r,a),c=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:h<l&&!c?i+h-l:h-l}}function Ks(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:h}=Ys(s,n,i),c=function(t){return t.stepped?ve:t.tension||"monotone"===t.cubicInterpolationMode?be:Us}(r);let u,d,f,{move:g=!0,reverse:p}=i||{};for(u=0;u<=h;++u)d=s[(a+(p?h-u:u))%o],d.skip||(g?(t.moveTo(d.x,d.y),g=!1):c(t,f,d,p,r.stepped),f=d);return l&&(d=s[(a+(p?h:0))%o],c(t,f,d,p,r.stepped)),!!l}function Xs(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=Ys(s,n,i),{move:l=!0,reverse:h}=i||{};let c,u,d,f,g,p,m=0,_=0;const y=t=>(o+(h?a-t:t))%r,v=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(u=s[y(0)],t.moveTo(u.x,u.y)),c=0;c<=a;++c){if(u=s[y(c)],u.skip)continue;const e=u.x,n=u.y,i=0|e;i===d?(n<f?f=n:n>g&&(g=n),m=(_*m+e)/++_):(v(),t.lineTo(e,n),d=i,_=0,f=g=n),p=n}v()}function qs(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Xs:Ks}r(Gs,"id","arc"),r(Gs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),r(Gs,"defaultRoutes",{backgroundColor:"backgroundColor"}),r(Gs,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Zs="function"===typeof Path2D;function $s(t,e,n,i){Zs&&!e.options.segment?function(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),Hs(t,e.options),t.stroke(s)}(t,e,n,i):function(t,e,n,i){const{segments:s,options:r}=e,o=qs(e);for(const a of s)Hs(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class Js extends Zi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;nn(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=function(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}(n,s,r,i);return Mn(t,!0===i?[{start:o,end:a,loop:r}]:function(t,e,n,i){const s=t.length,r=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%s];n.skip||n.stop?l.skip||(i=!1,r.push({start:e%s,end:(o-1)%s,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&r.push({start:e%s,end:a%s,loop:i}),r}(n,o,a<o?a+s:a,!!t._fullLoop&&0===o&&a===s-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],s=this.points,r=kn(this,{property:e,start:i,end:i});if(!r.length)return;const o=[],a=function(t){return t.stepped?yn:t.tension||"monotone"===t.cubicInterpolationMode?vn:_n}(n);let l,h;for(l=0,h=r.length;l<h;++l){const{start:h,end:c}=r[l],u=s[h],d=s[c];if(u===d){o.push(u);continue}const f=a(u,d,Math.abs((i-u[e])/(d[e]-u[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return qs(this)(t,this,e,n)}path(t,e,n){const i=this.segments,s=qs(this);let r=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)r&=s(t,this,o,{start:e,end:e+n-1});return!!r}draw(t,e,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),$s(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Qs(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}r(Js,"id","line"),r(Js,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),r(Js,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),r(Js,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class tr extends Zi{constructor(t){super(),r(this,"parsed",void 0),r(this,"skip",void 0),r(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:s,y:r}=this.getProps(["x","y"],n);return Math.pow(t-s,2)+Math.pow(e-r,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return Qs(this,t,"x",e)}inYRange(t,e){return Qs(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!me(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,ge(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function er(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,h,c,u;return t.horizontal?(u=o/2,a=Math.min(n,s),l=Math.max(n,s),h=i-u,c=i+u):(u=r/2,a=n-u,l=n+u,h=Math.min(i,s),c=Math.max(i,s)),{left:a,top:h,right:l,bottom:c}}function nr(t,e,n,i){return t?0:Tt(e,n,i)}function ir(t){const e=er(t),n=e.right-e.left,i=e.bottom-e.top,s=function(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=Pe(i);return{t:nr(s.top,r.top,0,n),r:nr(s.right,r.right,0,e),b:nr(s.bottom,r.bottom,0,n),l:nr(s.left,r.left,0,e)}}(t,n/2,i/2),r=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Te(s),o=Math.min(e,n),a=t.borderSkipped,l=i||G(s);return{topLeft:nr(!l||a.top||a.left,r.topLeft,0,o),topRight:nr(!l||a.top||a.right,r.topRight,0,o),bottomLeft:nr(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:nr(!l||a.bottom||a.right,r.bottomRight,0,o)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function sr(t,e,n,i){const s=null===e,r=null===n,o=t&&!(s&&r)&&er(t,i);return o&&(s||Lt(e,o.left,o.right))&&(r||Lt(n,o.top,o.bottom))}function rr(t,e){t.rect(e.x,e.y,e.w,e.h)}function or(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}r(tr,"id","point"),r(tr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),r(tr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class ar extends Zi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:r}=ir(this),o=(a=r.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Ce:rr;var a;t.save(),r.w===s.w&&r.h===s.h||(t.beginPath(),o(t,or(r,e,s)),t.clip(),o(t,or(s,-e,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,or(s,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return sr(this,t,e,n)}inXRange(t,e){return sr(this,t,null,e)}inYRange(t,e){return sr(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+i)/2:e,y:s?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}r(ar,"id","bar"),r(ar,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),r(ar,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const lr=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class hr extends Zi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=X(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=De(n.font),s=i.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=lr(n,s);let l,h;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(r,s,o,a)+10):(h=this.maxHeight,l=this._fitCols(r,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:s,maxWidth:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],h=i+o;let c=t;s.textAlign="left",s.textBaseline="middle";let u=-1,d=-h;return this.legendItems.forEach(((t,f)=>{const g=n+e/2+s.measureText(t.text).width;(0===f||l[l.length-1]+g+2*o>r)&&(c+=h,l[l.length-(f>0?0:1)]=0,d+=h,u++),a[f]={left:0,top:d,row:u,width:g,height:i},l[l.length-1]+=g+o})),c}_fitCols(t,e,n,i){const{ctx:s,maxHeight:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],h=r-t;let c=o,u=0,d=0,f=0,g=0;return this.legendItems.forEach(((t,r)=>{const{itemWidth:p,itemHeight:m}=function(t,e,n,i,s){const r=function(t,e,n,i){let s=t.text;s&&"string"!==typeof s&&(s=s.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+i.measureText(s).width}(i,t,e,n),o=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=cr(e,n));return i}(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}(n,e,s,t,i);r>0&&d+m+2*o>h&&(c+=u+o,l.push({width:u,height:d}),f+=u+o,g++,u=d=0),a[r]={left:f,top:d,col:g,width:p,height:m},u=Math.max(u,p),d+=m+o})),c+=u,l.push({width:u,height:d}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:s}}=this,r=bn(s,this.left,this.width);if(this.isHorizontal()){let s=0,o=Vt(n,this.left+i,this.right-this.lineWidths[s]);for(const a of e)s!==a.row&&(s=a.row,o=Vt(n,this.left+i,this.right-this.lineWidths[s])),a.top+=this.top+t+i,a.left=r.leftForLtr(r.x(o),a.width),o+=a.width+i}else{let s=0,o=Vt(n,this.top+t+i,this.bottom-this.columnSizes[s].height);for(const a of e)a.col!==s&&(s=a.col,o=Vt(n,this.top+t+i,this.bottom-this.columnSizes[s].height)),a.top=o,a.left+=this.left+i,a.left=r.leftForLtr(r.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;_e(t,this),this._draw(),ye(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:s,labels:r}=t,o=he.color,a=bn(t.rtl,this.left,this.width),l=De(r.font),{padding:h}=r,c=l.size,u=c/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:g,itemHeight:p}=lr(r,c),m=this.isHorizontal(),_=this._computeTitleHeight();d=m?{x:Vt(s,this.left+h,this.right-n[0]),y:this.top+h+_,line:0}:{x:this.left+h,y:Vt(s,this.top+_+h,this.bottom-e[0].height),line:0},xn(this.ctx,t.textDirection);const y=p+h;this.legendItems.forEach(((v,b)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const x=i.measureText(v.text).width,w=a.textAlign(v.textAlign||(v.textAlign=r.textAlign)),S=f+u+x;let C=d.x,E=d.y;a.setWidth(this.width),m?b>0&&C+S+h>this.right&&(E=d.y+=y,d.line++,C=d.x=Vt(s,this.left+h,this.right-n[d.line])):b>0&&E+y>this.bottom&&(C=d.x=C+e[d.line].width+h,d.line++,E=d.y=Vt(s,this.top+_+h,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(g)||g<0)return;i.save();const s=Y(n.lineWidth,1);if(i.fillStyle=Y(n.fillStyle,o),i.lineCap=Y(n.lineCap,"butt"),i.lineDashOffset=Y(n.lineDashOffset,0),i.lineJoin=Y(n.lineJoin,"miter"),i.lineWidth=s,i.strokeStyle=Y(n.strokeStyle,o),i.setLineDash(Y(n.lineDash,[])),r.usePointStyle){const o={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=a.xPlus(t,f/2);pe(i,o,l,e+u,r.pointStyleWidth&&f)}else{const r=e+Math.max((c-g)/2,0),o=a.leftForLtr(t,f),l=Te(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?Ce(i,{x:o,y:r,w:f,h:g,radius:l}):i.rect(o,r,f,g),i.fill(),0!==s&&i.stroke()}i.restore()}(a.x(C),E,v),C=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(w,C+f+u,m?C+S:this.right,t.rtl),function(t,e,n){Se(i,n.text,t,e+p/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(C),E,v),m)d.x+=S+h;else if("string"!==typeof v.text){const t=l.lineHeight;d.y+=cr(v,t)+h}else d.y+=y})),wn(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=De(e.font),i=Le(e.padding);if(!e.display)return;const s=bn(t.rtl,this.left,this.width),r=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let h,c=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),h=this.top+l,c=Vt(t.align,c,this.right-u);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+Vt(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Vt(o,c,c+u);r.textAlign=s.textAlign(jt(o)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=n.string,Se(r,e.text,d,h,n)}_computeTitleHeight(){const t=this.options.title,e=De(t.font),n=Le(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,s;if(Lt(t,this.left,this.right)&&Lt(e,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Lt(t,i.left,i.left+i.width)&&Lt(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,s=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,n);i&&!s&&X(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!s&&X(e.onHover,[t,n,this],this)}else n&&X(e.onClick,[t,n,this],this)}}function cr(t,e){return e*(t.text?t.text.length:0)}var ur={id:"legend",_element:hr,start(t,e,n){const i=t.legend=new hr({ctx:t.ctx,options:n,chart:t});Li.configure(t,i,n),Li.addBox(t,i)},stop(t){Li.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Li.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),h=Le(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class dr extends Zi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=V(n.text)?n.text.length:1;this._padding=Le(n.padding);const s=i*De(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:s,options:r}=this,o=r.align;let a,l,h,c=0;return this.isHorizontal()?(l=Vt(o,n,s),h=e+t,a=s-n):("left"===r.position?(l=n+t,h=Vt(o,i,e),c=-.5*ht):(l=s-t,h=Vt(o,e,i),c=.5*ht),a=i-e),{titleX:l,titleY:h,maxWidth:a,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=De(e.font),i=n.lineHeight/2+this._padding.top,{titleX:s,titleY:r,maxWidth:o,rotation:a}=this._drawArgs(i);Se(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:jt(e.align),textBaseline:"middle",translation:[s,r]})}}var fr={id:"title",_element:dr,start(t,e,n){!function(t,e){const n=new dr({ctx:t.ctx,options:e,chart:t});Li.configure(t,n,e),Li.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Li.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Li.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gr=new WeakMap;var pr={id:"subtitle",start(t,e,n){const i=new dr({ctx:t.ctx,options:n,chart:t});Li.configure(t,i,n),Li.addBox(t,i),gr.set(t,i)},stop(t){Li.removeBox(t,gr.get(t)),gr.delete(t)},beforeUpdate(t,e,n){const i=gr.get(t);Li.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mr={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),s+=t.y,++r}}const o=[...i].reduce(((t,e)=>t+e))/i.size;return{x:o,y:s/r}},nearest(t,e){if(!t.length)return!1;let n,i,s,r=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=Mt(e,i.getCenterPoint());t<a&&(a=t,s=i)}}if(s){const t=s.tooltipPosition();r=t.x,o=t.y}return{x:r,y:o}}};function _r(t,e){return e&&(V(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function yr(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function vr(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function br(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=De(e.bodyFont),h=De(e.titleFont),c=De(e.footerFont),u=r.length,d=s.length,f=i.length,g=Le(e.padding);let p=g.height,m=0,_=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(_+=t.beforeBody.length+t.afterBody.length,u&&(p+=u*h.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),_){p+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}d&&(p+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let y=0;const v=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=h.string,q(t.title,v),n.font=l.string,q(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,q(i,(t=>{q(t.before,v),q(t.lines,v),q(t.after,v)})),y=0,n.font=c.string,q(t.footer,v),n.restore(),m+=g.width,{width:m,height:p}}function xr(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let h="center";return"center"===i?h=s<=(a+l)/2?"left":"right":s<=r/2?h="left":s>=o-r/2&&(h="right"),function(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;return"left"===t&&s+r+o>e.width||"right"===t&&s-r-o<0||void 0}(h,t,e,n)&&(h="center"),h}function wr(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||xr(t,e,n,i),yAlign:i}}function Sr(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,h=s+r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Te(o);let g=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const p=function(t,e,n){let{y:i,height:s}=t;return"top"===e?i+=n:i-="bottom"===e?s+n:s/2,i}(e,l,h);return"center"===l?"left"===a?g+=h:"right"===a&&(g-=h):"left"===a?g-=Math.max(c,d)+s:"right"===a&&(g+=Math.max(u,f)+s),{x:Tt(g,0,i.width-e.width),y:Tt(p,0,i.height-e.height)}}function Cr(t,e,n){const i=Le(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Er(t){return _r([],yr(t))}function kr(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Mr={beforeTitle:B,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:B,beforeBody:B,beforeLabel:B,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return j(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:B,afterBody:B,beforeFooter:B,footer:B,afterFooter:B};function Rr(t,e,n,i){const s=t[e].call(n,i);return"undefined"===typeof s?Mr[e].call(n,i):s}class Ir extends Zi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,s=new An(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Ae(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=Rr(n,"beforeTitle",this,t),s=Rr(n,"title",this,t),r=Rr(n,"afterTitle",this,t);let o=[];return o=_r(o,yr(i)),o=_r(o,yr(s)),o=_r(o,yr(r)),o}getBeforeBody(t,e){return Er(Rr(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return q(t,(t=>{const e={before:[],lines:[],after:[]},s=kr(n,t);_r(e.before,yr(Rr(s,"beforeLabel",this,t))),_r(e.lines,Rr(s,"label",this,t)),_r(e.after,yr(Rr(s,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return Er(Rr(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Rr(n,"beforeFooter",this,t),s=Rr(n,"footer",this,t),r=Rr(n,"afterFooter",this,t);let o=[];return o=_r(o,yr(i)),o=_r(o,yr(s)),o=_r(o,yr(r)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],s=[],r=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(vr(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,s)=>t.filter(e,i,s,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),q(l,(e=>{const n=kr(t.callbacks,e);i.push(Rr(n,"labelColor",this,e)),s.push(Rr(n,"labelPointStyle",this,e)),r.push(Rr(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let s,r=[];if(i.length){const t=mr[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const e=this._size=br(this,n),o=Object.assign({},t,e),a=wr(this.chart,n,o),l=Sr(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,s={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const s=this.getCaretPosition(t,n,i);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:s}=this,{caretSize:r,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:h,bottomRight:c}=Te(o),{x:u,y:d}=t,{width:f,height:g}=e;let p,m,_,y,v,b;return"center"===s?(v=d+g/2,"left"===i?(p=u,m=p-r,y=v+r,b=v-r):(p=u+f,m=p+r,y=v-r,b=v+r),_=p):(m="left"===i?u+Math.max(a,h)+r:"right"===i?u+f-Math.max(l,c)-r:this.caretX,"top"===s?(y=d,v=y-r,p=m-r,_=m+r):(y=d+g,v=y+r,p=m+r,_=m-r),b=y),{x1:p,x2:m,x3:_,y1:y,y2:v,y3:b}}drawTitle(t,e,n){const i=this.title,s=i.length;let r,o,a;if(s){const l=bn(n.rtl,this.x,this.width);for(t.x=Cr(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",r=De(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,a=0;a<s;++a)e.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+o,a+1===s&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,s){const r=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=s,h=De(s.bodyFont),c=Cr(this,"left",s),u=i.x(c),d=a<h.lineHeight?(h.lineHeight-a)/2:0,f=e.y+d;if(s.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(u,l)+l/2,h=f+a/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,ge(t,e,n,h),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,ge(t,e,n,h)}else{t.lineWidth=G(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=i.leftForLtr(u,l),n=i.leftForLtr(i.xPlus(u,1),l-2),o=Te(r.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Ce(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Ce(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=r.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:s,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:h}=n,c=De(n.bodyFont);let u=c.lineHeight,d=0;const f=bn(n.rtl,this.x,this.width),g=function(n){e.fillText(n,f.x(t.x+d),t.y+u/2),t.y+=u+s},p=f.textAlign(r);let m,_,y,v,b,x,w;for(e.textAlign=r,e.textBaseline="middle",e.font=c.string,t.x=Cr(this,p,n),e.fillStyle=n.bodyColor,q(this.beforeBody,g),d=o&&"right"!==p?"center"===r?l/2+h:l+2+h:0,v=0,x=i.length;v<x;++v){for(m=i[v],_=this.labelTextColors[v],e.fillStyle=_,q(m.before,g),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,v,f,n),u=Math.max(c.lineHeight,a)),b=0,w=y.length;b<w;++b)g(y[b]),u=c.lineHeight;q(m.after,g)}d=0,u=c.lineHeight,q(this.afterBody,g),t.y-=s}drawFooter(t,e,n){const i=this.footer,s=i.length;let r,o;if(s){const a=bn(n.rtl,this.x,this.width);for(t.x=Cr(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",r=De(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,o=0;o<s;++o)e.fillText(i[o],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:s,yAlign:r}=this,{x:o,y:a}=t,{width:l,height:h}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Te(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+c,a),"top"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l-u,a),e.quadraticCurveTo(o+l,a,o+l,a+u),"center"===r&&"right"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+h-f),e.quadraticCurveTo(o+l,a+h,o+l-f,a+h),"bottom"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+h),e.quadraticCurveTo(o,a+h,o,a+h-d),"center"===r&&"left"===s&&this.drawCaret(t,e,n,i),e.lineTo(o,a+c),e.quadraticCurveTo(o,a,o+c,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const n=mr[t.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=br(this,t),o=Object.assign({},n,this._size),a=wr(e,t,o),l=Sr(t,o,a,e);i._to===l.x&&s._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Le(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(s,t,i,e),xn(t,e.textDirection),s.y+=r.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),wn(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),s=!Z(n,i),r=this._positionChanged(i,e);(s||r)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],r=this._getActiveElements(t,s,e,n),o=this._positionChanged(r,t),a=e||!Z(r,s)||o;return a&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const s=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const r=this.chart.getElementsAtEventForMode(t,s.mode,s,n);return s.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:n,caretY:i,options:s}=this,r=mr[s.position].call(this,t,e);return!1!==r&&(n!==r.x||i!==r.y)}}r(Ir,"positioners",mr);var Pr={id:"tooltip",_element:Ir,positioners:mr,afterInit(t,e,n){n&&(t.tooltip=new Ir({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Tr(t,e,n,i){const s=t.indexOf(e);if(-1===s)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return s!==t.lastIndexOf(e)?n:s}function Lr(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Dr extends os{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(j(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Tt(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:Tr(n,t,Y(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=e;r++)i.push({value:r});return i}getLabelForValue(t){return Lr.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Or(t,e){const n=[],{bounds:i,step:s,min:r,max:o,precision:a,count:l,maxTicks:h,maxDigits:c,includeBounds:u}=t,d=s||1,f=h-1,{min:g,max:p}=e,m=!j(r),_=!j(o),y=!j(l),v=(p-g)/(c+1);let b,x,w,S,C=bt((p-g)/f/d)*d;if(C<1e-14&&!m&&!_)return[{value:g},{value:p}];S=Math.ceil(p/C)-Math.floor(g/C),S>f&&(C=bt(S*C/f/d)*d),j(a)||(b=Math.pow(10,a),C=Math.ceil(C*b)/b),"ticks"===i?(x=Math.floor(g/C)*C,w=Math.ceil(p/C)*C):(x=g,w=p),m&&_&&s&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-r)/s,C/1e3)?(S=Math.round(Math.min((o-r)/C,h)),C=(o-r)/S,x=r,w=o):y?(x=m?r:x,w=_?o:w,S=l-1,C=(w-x)/S):(S=(w-x)/C,S=vt(S,Math.round(S),C/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(Et(C),Et(x));b=Math.pow(10,j(a)?E:a),x=Math.round(x*b)/b,w=Math.round(w*b)/b;let k=0;for(m&&(u&&x!==r?(n.push({value:r}),x<r&&k++,vt(Math.round((x+k*C)*b)/b,r,Ar(r,v,t))&&k++):x<r&&k++);k<S;++k){const t=Math.round((x+k*C)*b)/b;if(_&&t>o)break;n.push({value:t})}return _&&u&&w!==o?n.length&&vt(n[n.length-1].value,o,Ar(o,v,t))?n[n.length-1].value=o:n.push({value:o}):_&&w!==o||n.push({value:w}),n}function Ar(t,e,n){let{horizontal:i,minRotation:s}=n;const r=St(s),o=(i?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}r(Dr,"id","category"),r(Dr,"defaults",{ticks:{callback:Lr}});class Fr extends os{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return j(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const r=t=>i=e?i:t,o=t=>s=n?s:t;if(t){const t=yt(i),e=yt(s);t<0&&e<0?o(0):t>0&&e>0&&r(0)}if(i===s){let e=0===s?1:Math.abs(.05*s);o(s+e),t||r(i-e)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=Or({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&wt(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return ee(t,this.chart.options.locale,this.options.ticks.format)}}class Nr extends Fr{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=H(t)?t:0,this.max=H(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=St(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}r(Nr,"id","linear"),r(Nr,"defaults",{ticks:{callback:ie.formatters.numeric}});const zr=t=>Math.floor(_t(t)),Br=(t,e)=>Math.pow(10,zr(t)+e);function Wr(t){return 1===t/Math.pow(10,zr(t))}function jr(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function Vr(t,e){let{min:n,max:i}=e;n=U(t.min,n);const s=[],r=zr(n);let o=function(t,e){let n=zr(e-t);for(;jr(t,e,n)>10;)n++;for(;jr(t,e,n)<10;)n--;return Math.min(n,zr(t))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),h=r>o?Math.pow(10,r):0,c=Math.round((n-h)*a)/a,u=Math.floor((n-h)/l/10)*l*10;let d=Math.floor((c-u)/Math.pow(10,o)),f=U(t.min,Math.round((h+u+d*Math.pow(10,o))*a)/a);for(;f<i;)s.push({value:f,major:Wr(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((h+u+d*Math.pow(10,o))*a)/a;const g=U(t.max,f);return s.push({value:g,major:Wr(g),significand:d}),s}class Gr extends os{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Fr.prototype.parse.apply(this,[t,e]);if(0!==n)return H(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=H(t)?Math.max(0,t):null,this.max=H(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!H(this._userMin)&&(this.min=t===Br(this.min,0)?Br(this.min,-1):Br(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const s=e=>n=t?n:e,r=t=>i=e?i:t;n===i&&(n<=0?(s(1),r(10)):(s(Br(n,-1)),r(Br(i,1)))),n<=0&&s(Br(i,-1)),i<=0&&r(Br(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=Vr({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&wt(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":ee(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=_t(t),this._valueRange=_t(this.max)-_t(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(_t(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Hr(t){const e=t.ticks;if(e.display&&t.display){const t=Le(e.backdropPadding);return Y(e.font&&e.font.size,he.font.size)+t.height}return 0}function Ur(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function Yr(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ht/r:0;for(let u=0;u<r;u++){const r=o.setContext(t.getPointLabelContext(u));s[u]=r.padding;const d=t.getPointPosition(u,t.drawingArea+s[u],a),f=De(r.font),g=(l=t.ctx,h=f,c=V(c=t._pointLabels[u])?c:[c],{w:ue(l,h.string,c),h:c.length*h.lineHeight});i[u]=g;const p=It(t.getIndexAngle(u)+a),m=Math.round(Ct(p));Kr(n,e,p,Ur(m,d.x,g.w,0,180),Ur(m,d.y,g.h,90,270))}var l,h,c;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Hr(r)/2,additionalAngle:o?ht/s:0};let h;for(let c=0;c<s;c++){l.padding=n[c],l.size=e[c];const s=Xr(t,c,l);i.push(s),"auto"===a&&(s.visible=qr(s,h),s.visible&&(h=s))}return i}(t,i,s)}function Kr(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Xr(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),h=Math.round(Ct(It(l.angle+gt))),c=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,h),u=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(h),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:d,top:c,right:d+a.w,bottom:c+a.h}}function qr(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(me({x:n,y:i},e)||me({x:n,y:r},e)||me({x:s,y:i},e)||me({x:s,y:r},e))}function Zr(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!j(a)){const n=Te(e.borderRadius),l=Le(e.backdropPadding);t.fillStyle=a;const h=i-l.left,c=s-l.top,u=r-i+l.width,d=o-s+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),Ce(t,{x:h,y:c,w:u,h:d,radius:n}),t.fill()):t.fillRect(h,c,u,d)}}function $r(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,ct);else{let n=t.getPointPosition(0,e);s.moveTo(n.x,n.y);for(let r=1;r<i;r++)n=t.getPointPosition(r,e),s.lineTo(n.x,n.y)}}r(Gr,"id","logarithmic"),r(Gr,"defaults",{ticks:{callback:ie.formatters.logarithmic,major:{enabled:!0}}});class Jr extends Fr{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Le(Hr(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=H(t)&&!isNaN(t)?t:0,this.max=H(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hr(this.options))}generateTickLabels(t){Fr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=X(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Yr(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return It(t*(ct/(this._pointLabels.length||1))+St(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(j(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(j(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return Ae(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-gt+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:s}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),$r(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:s}=e,r=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const e=t._pointLabelItems[s];if(!e.visible)continue;const r=i.setContext(t.getPointLabelContext(s));Zr(n,r,e);const o=De(r.font),{x:a,y:l,textAlign:h}=e;Se(n,t._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:h,textBaseline:"middle"})}}(this,r),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=i.setContext(n),l=s.setContext(n);!function(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),$r(t,n,o,i),r.closePath(),r.stroke(),r.restore())}(this,o,a,r,l)}})),n.display){for(t.save(),o=r-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:s,lineWidth:r}=i;r&&s&&(t.lineWidth=r,t.strokeStyle=s,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=De(a.font);if(s=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,r=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=Le(a.backdropPadding);t.fillRect(-r/2-e.left,-s-l.size/2-e.top,r+e.width,l.size+e.height)}Se(t,i.label,0,-s,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}r(Jr,"id","radialLinear"),r(Jr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ie.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),r(Jr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),r(Jr,"descriptors",{angleLines:{_fallback:"grid"}});const Qr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},to=Object.keys(Qr);function eo(t,e){return t-e}function no(t,e){if(j(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),H(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(s&&(o="week"!==s||!xt(r)&&!0!==r?n.startOf(o,s):n.startOf(o,"isoWeek",r)),+o)}function io(t,e,n,i){const s=to.length;for(let r=to.indexOf(t);r<s-1;++r){const t=Qr[to[r]],s=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(s*t.size))<=i)return to[r]}return to[s-1]}function so(t,e,n){if(n){if(n.length){const{lo:i,hi:s}=Dt(n,e);t[n[i]>=e?n[i]:n[s]]=!0}}else t[e]=!0}function ro(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return 0!==r&&n?function(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,s,n):i}class oo extends os{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new di(t.adapters.date);i.init(e),et(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:no(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:s,minDefined:r,maxDefined:o}=this.getUserBounds();function a(t){r||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(s=Math.max(s,t.max))}r&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=H(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),s=H(s)&&!isNaN(s)?s:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,r=function(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}(i,s,this.max);return this._unit=e.unit||(n.autoSkip?io(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(t,e,n,i,s){for(let r=to.length-1;r>=to.indexOf(n);r--){const n=to[r];if(Qr[n].common&&t._adapter.diff(s,i,n)>=e-1)return n}return to[n?to.indexOf(n):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=to.indexOf(t)+1,n=to.length;e<n;++e)if(Qr[to[e]].common)return to[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&r.reverse(),ro(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,s=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),s=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const r=n.length<3?.5:.25;i=Tt(i,0,r),s=Tt(s,0,r),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,s=i.time,r=s.unit||io(s.minUnit,e,n,this._getLabelCapacity(e)),o=Y(i.ticks.stepSize,1),a="week"===r&&s.isoWeekday,l=xt(a)||!0===a,h={};let c,u,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":r),t.diff(n,e,r)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+r);const f="data"===i.ticks.source&&this.getDataTimestamps();for(c=d,u=0;c<n;c=+t.add(c,o,r),u++)so(h,c,f);return c!==n&&"ticks"!==i.bounds&&1!==u||so(h,c,f),Object.keys(h).sort(eo).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,s=e||n[i];return this._adapter.format(t,s)}_tickFormatFunction(t,e,n,i){const s=this.options,r=s.ticks.callback;if(r)return X(r,[t,e,n],this);const o=s.time.displayFormats,a=this._unit,l=this._majorUnit,h=a&&o[a],c=l&&o[l],u=n[e],d=l&&c&&u&&u.major;return this._adapter.format(t,i||(d?c:h))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=St(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(i),r=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*r,h:n*r+o*s}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,s=this._tickFormatFunction(t,0,ro(this,[t],this._majorUnit),i),r=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(no(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return zt(t.sort(eo))}}function ao(t,e,n){let i,s,r,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Ot(t,"pos",e)),({pos:i,time:r}=t[a]),({pos:s,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Ot(t,"time",e)),({time:i,pos:r}=t[a]),({time:s,pos:o}=t[l]));const h=s-i;return h?r+(o-r)*(e-i)/h:r}r(oo,"id","time"),r(oo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class lo extends oo{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ao(e,this.min),this._tableRange=ao(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],s=[];let r,o,a,l,h;for(r=0,o=t.length;r<o;++r)l=t[r],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(r=0,o=i.length;r<o;++r)h=i[r+1],a=i[r-1],l=i[r],Math.round((h+a)/2)!==l&&s.push({time:l,pos:r/(o-1)});return s}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ao(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return ao(this._table,n*this._tableRange+this._minPos,!0)}}r(lo,"id","timeseries"),r(lo,"defaults",oo.defaults);const ho=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},co="propertychange";const uo=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function fo(t,e){return t>e?1:t<e?-1:0}function go(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if("function"===typeof n){for(let s=1;s<i;++s){const i=t[s];if(i===e)return s;if(i<e)return n(e,t[s-1],i)>0?s-1:s}return i-1}if(n>0){for(let n=1;n<i;++n)if(t[n]<e)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(t[n]<=e)return n;return i-1}for(let s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return t[s-1]-e<e-t[s]?s-1:s}return i-1}function po(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function mo(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let s=0;s<i;s++)t[t.length]=n[s]}function _o(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function yo(){return!0}function vo(){return!1}function bo(){}function xo(t){let e,n,i,s=!1;return function(){const r=Array.prototype.slice.call(arguments);return s&&this===i&&_o(r,n)||(s=!0,i=this,n=r,e=t.apply(this,arguments)),e}}function wo(t){for(const e in t)delete t[e]}function So(t){let e;for(e in t)return!1;return!e}const Co=class extends uo{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"===typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const s=e?new ho(t):t;s.target||(s.target=this.eventTarget_||this);const r=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in r||(r[n]=0,o[n]=0),++r[n];for(let l=0,h=i.length;l<h;++l)if(a="handleEvent"in i[l]?i[l].handleEvent(s):i[l].call(this,s),!1===a||s.propagationStopped){a=!1;break}if(0===--r[n]){let t=o[n];for(delete o[n];t--;)this.removeEventListener(n,bo);delete r[n]}return a}disposeInternal(){this.listeners_&&wo(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=bo,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},Eo="change",ko="contextmenu",Mo="click",Ro="dblclick",Io="keydown",Po="keypress",To="touchmove",Lo="wheel";function Do(t,e,n,i,s){if(i&&i!==t&&(n=n.bind(i)),s){const i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}const r={target:t,type:e,listener:n};return t.addEventListener(e,n),r}function Oo(t,e,n,i){return Do(t,e,n,i,!0)}function Ao(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),wo(t))}class Fo extends Co{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Eo)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Do(this,t[s],e);return i}return Do(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let s=0;s<i;++s)n[s]=Oo(this,t[s],e)}else n=Oo(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Ao(t[e]);else Ao(t)}(n);else if(Array.isArray(t))for(let i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}Fo.prototype.on,Fo.prototype.once,Fo.prototype.un;const No=Fo;function zo(){throw new Error("Unimplemented abstract method.")}let Bo=0;function Wo(t){return t.ol_uid||(t.ol_uid=String(++Bo))}class jo extends ho{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}const Vo=class extends No{constructor(t){super(),this.on,this.once,this.un,Wo(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new jo(n,t,e)),n=co,this.hasListener(n)&&this.dispatchEvent(new jo(n,t,e))}addChangeListener(t,e){this.addEventListener("change:".concat(t),e)}removeChangeListener(t,e){this.removeEventListener("change:".concat(t),e)}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],So(this.values_)&&(this.values_=null),e||this.notify(t,n)}}},Go="postrender",Ho="movestart",Uo="moveend",Yo="loadstart",Ko="loadend",Xo="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",qo=Xo.includes("firefox"),Zo=(Xo.includes("safari")&&!Xo.includes("chrom")&&(Xo.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Xo)),Xo.includes("webkit")&&!Xo.includes("edge")),$o=Xo.includes("macintosh"),Jo="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,Qo="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,ta="undefined"!==typeof Image&&Image.prototype.decode,ea="function"===typeof createImageBitmap,na=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}();function ia(t,e,n,i){let s;return s=n&&n.length?n.shift():Qo?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",i)}let sa;function ra(){return sa||(sa=ia(1,1)),sa}function oa(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function aa(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function la(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}const ha=class extends Vo{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){la(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&la(this.element);for(let e=0,n=this.listenerKeys.length;e<n;++e)Ao(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,t){(this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==bo&&this.listenerKeys.push(Do(t,Go,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"===typeof t?document.getElementById(t):t}},ca="layergroup",ua="size",da="target",fa="view",ga="ol-hidden",pa="ol-unselectable",ma="ol-unsupported",_a="ol-control",ya="ol-collapsed",va=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),ba=["style","variant","weight","size","lineHeight","family"],xa=function(t){const e=t.match(va);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=ba.length;i<s;++i){const t=e[i+1];void 0!==t&&(n[ba[i]]=t)}return n.families=n.family.split(/,\s?/),n},wa=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],Sa="enterfullscreen",Ca="leavefullscreen";function Ea(t){const e=t.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&t.fullscreenEnabled)}function ka(t){return!(!t.webkitIsFullScreen&&!t.fullscreenElement)}function Ma(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}const Ra=class extends ha{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target}),this.on,this.once,this.un,this.keys_=void 0!==t.keys&&t.keys,this.source_=t.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==t.className?t.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==t.activeClassName?t.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==t.inactiveClassName?t.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const e=void 0!==t.label?t.label:"\u2922";this.labelNode_="string"===typeof e?document.createTextNode(e):e;const n=void 0!==t.labelActive?t.labelActive:"\xd7";this.labelActiveNode_="string"===typeof n?document.createTextNode(n):n;const i=t.tipLabel?t.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=i,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(Mo,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className="".concat(this.cssClassName_," ").concat(pa," ").concat(_a),this.element.appendChild(this.button_)}handleClick_(t){t.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const t=this.getMap();if(!t)return;const e=t.getOwnerDocument();if(Ea(e))if(ka(e))!function(t){t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}(e);else{let n;n=this.source_?"string"===typeof this.source_?e.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():Ma(t)}(n):Ma(n)}}handleFullScreenChange_(){const t=this.getMap();if(!t)return;const e=this.isInFullscreen_;this.isInFullscreen_=ka(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(aa(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Sa)):(aa(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Ca)),t.updateSize())}setClassName_(t,e){e?(t.classList.remove(...this.inactiveClassName_),t.classList.add(...this.activeClassName_)):(t.classList.remove(...this.activeClassName_),t.classList.add(...this.inactiveClassName_))}setMap(t){const e=this.getMap();e&&e.removeChangeListener(da,this.boundHandleMapTargetChange_),super.setMap(t),this.handleMapTargetChange_(),t&&t.addChangeListener(da,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const t=this.documentListeners_;for(let n=0,i=t.length;n<i;++n)Ao(t[n]);t.length=0;const e=this.getMap();if(e){const n=e.getOwnerDocument();Ea(n)?this.element.classList.remove(ma):this.element.classList.add(ma);for(let e=0,i=wa.length;e<i;++e)t.push(Do(n,wa[e],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}};function Ia(t,e){if(!t)throw new Error(e)}class Pa extends Vo{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"===typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new Pa(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Ao(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Do(t,Eo,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;let e;if(Array.isArray(t))e=t;else{Ia("function"===typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");e=[t]}return function(){return e}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const Ta=Pa;new Array(6);function La(t,e,n,i,s,r,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=s,t[4]=r,t[5]=o,t}function Da(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Oa(t,e,n,i,s,r,o,a){const l=Math.sin(r),h=Math.cos(r);return t[0]=i*h,t[1]=s*l,t[2]=-i*l,t[3]=s*h,t[4]=o*i*h-a*i*l+e,t[5]=o*s*l+a*s*h+n,t}function Aa(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;Ia(0!==n,"Transformation matrix cannot be inverted");const s=e[0],r=e[1],o=e[2],a=e[3],l=e[4],h=e[5];return t[0]=a/n,t[1]=-r/n,t[2]=-o/n,t[3]=s/n,t[4]=(o*h-a*l)/n,t[5]=-(s*h-r*l)/n,t}const Fa=[1e6,1e6,1e6,1e6,2,2];function Na(t){const e="matrix("+t.map(((t,e)=>Math.round(t*Fa[e])/Fa[e])).join(", ")+")";return e}const za={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ba(t){const e=Ka();for(let n=0,i=t.length;n<i;++n)tl(e,t[n]);return e}function Wa(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function ja(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Va(t,e,n){let i,s;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,s=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+s*s}function Ga(t,e){return Ua(t,e[0],e[1])}function Ha(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Ua(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Ya(t,e){const n=t[0],i=t[1],s=t[2],r=t[3],o=e[0],a=e[1];let l=za.UNKNOWN;return o<n?l|=za.LEFT:o>s&&(l|=za.RIGHT),a<i?l|=za.BELOW:a>r&&(l|=za.ABOVE),l===za.UNKNOWN&&(l=za.INTERSECTING),l}function Ka(){return[1/0,1/0,-1/0,-1/0]}function Xa(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function qa(t){return Xa(1/0,1/0,-1/0,-1/0,t)}function Za(t,e){const n=t[0],i=t[1];return Xa(n,i,n,i,e)}function $a(t,e,n,i,s){return el(qa(s),t,e,n,i)}function Ja(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Qa(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function tl(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function el(t,e,n,i,s){for(;n<i;n+=s)nl(t,e[n],e[n+1]);return t}function nl(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function il(t){let e=0;return gl(t)||(e=dl(t)*ll(t)),e}function sl(t){return[t[0],t[1]]}function rl(t){return[t[2],t[1]]}function ol(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function al(t,e,n,i,s){const[r,o,a,l,h,c,u,d]=function(t,e,n,i){const s=e*i[0]/2,r=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,h=s*a,c=r*o,u=r*a,d=t[0],f=t[1];return[d-l+u,f-h-c,d-l-u,f-h+c,d+l-u,f+h+c,d+l+u,f+h-c,d-l+u,f-h-c]}(t,e,n,i);return Xa(Math.min(r,a,h,u),Math.min(o,l,c,d),Math.max(r,a,h,u),Math.max(o,l,c,d),s)}function ll(t){return t[3]-t[1]}function hl(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return fl(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):qa(i),i}function cl(t){return[t[0],t[3]]}function ul(t){return[t[2],t[3]]}function dl(t){return t[2]-t[0]}function fl(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function gl(t){return t[2]<t[0]||t[3]<t[1]}function pl(t,e,n,i){if(gl(t))return qa(n);let s=[];if(i>1){const e=t[2]-t[0],n=t[3]-t[1];for(let r=0;r<i;++r)s.push(t[0]+e*r/i,t[1],t[2],t[1]+n*r/i,t[2]-e*r/i,t[3],t[0],t[3]-n*r/i)}else s=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(s,s,2);const r=[],o=[];for(let a=0,l=s.length;a<l;a+=2)r.push(s[a]),o.push(s[a+1]);return function(t,e,n){return Xa(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(r,o,n)}function ml(t,e){const n=e.getExtent(),i=ol(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const e=dl(n),s=Math.floor((i[0]-n[0])/e)*e;t[0]-=s,t[2]-=s}return t}function _l(t,e,n){return Math.min(Math.max(t,e),n)}function yl(t,e,n,i,s,r){const o=s-n,a=r-i;if(0!==o||0!==a){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=s,i=r):l>0&&(n+=o*l,i+=a*l)}return vl(t,e,n,i)}function vl(t,e,n,i){const s=n-t,r=i-e;return s*s+r*r}function bl(t){return t*Math.PI/180}function xl(t,e){const n=t%e;return n*e<0?n+e:n}function wl(t,e,n){return t+n*(e-t)}function Sl(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Cl(t,e){return Math.round(Sl(t,e))}function El(t,e){return Math.ceil(Sl(t,e))}function kl(t,e,n,i,s,r,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)r[o++]=t[e],r[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const h=[e,n-i];let c=0;for(;h.length>0;){const n=h.pop(),r=h.pop();let o=0;const a=t[r],u=t[r+1],d=t[n],f=t[n+1];for(let e=r+i;e<n;e+=i){const n=yl(t[e],t[e+1],a,u,d,f);n>o&&(c=e,o=n)}o>s&&(l[(c-e)/i]=1,r+i<c&&h.push(r,c),c+i<n&&h.push(c,n))}for(let u=0;u<a;++u)l[u]&&(r[o++]=t[e+u*i],r[o++]=t[e+u*i+1]);return o}function Ml(t,e,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const h=n[l];o=kl(t,e,h,i,s,r,o),a.push(o),e=h}return o}function Rl(t,e){return e*Math.round(t/e)}function Il(t,e,n,i,s,r,o){if(e==n)return o;let a,l,h=Rl(t[e],s),c=Rl(t[e+1],s);e+=i,r[o++]=h,r[o++]=c;do{if(a=Rl(t[e],s),l=Rl(t[e+1],s),(e+=i)==n)return r[o++]=a,r[o++]=l,o}while(a==h&&l==c);for(;e<n;){const n=Rl(t[e],s),u=Rl(t[e+1],s);if(e+=i,n==a&&u==l)continue;const d=a-h,f=l-c,g=n-h,p=u-c;d*p==f*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(f<0&&p<f||f==p||f>0&&p>f)?(a=n,l=u):(r[o++]=a,r[o++]=l,h=a,c=l,a=n,l=u)}return r[o++]=a,r[o++]=l,o}function Pl(t,e,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const h=n[l];o=Il(t,e,h,i,s,r,o),a.push(o),e=h}return o}function Tl(t,e,n,i,s){const r=function(t,e){let n;return n=e(sl(t)),n||(n=e(rl(t)),n||(n=e(ul(t)),n||(n=e(cl(t)),n||!1)))}(s,(function(s){return!Ll(t,e,n,i,s[0],s[1])}));return!r}function Ll(t,e,n,i,s,r){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=r?i>r&&(n-a)*(r-l)-(s-a)*(i-l)>0&&o++:i<=r&&(n-a)*(r-l)-(s-a)*(i-l)<0&&o--,a=n,l=i}return 0!==o}function Dl(t,e,n,i,s,r){if(0===n.length)return!1;if(!Ll(t,e,n[0],i,s,r))return!1;for(let o=1,a=n.length;o<a;++o)if(Ll(t,n[o-1],n[o],i,s,r))return!1;return!0}function Ol(t,e,n,i,s,r,o){let a,l,h,c,u,d,f;const g=s[r+1],p=[];for(let y=0,v=n.length;y<v;++y){const s=n[y];for(c=t[s-i],d=t[s-i+1],a=e;a<s;a+=i)u=t[a],f=t[a+1],(g<=d&&f<=g||d<=g&&g<=f)&&(h=(g-d)/(f-d)*(u-c)+c,p.push(h)),c=u,d=f}let m=NaN,_=-1/0;for(p.sort(fo),c=p[0],a=1,l=p.length;a<l;++a){u=p[a];const s=Math.abs(u-c);s>_&&(h=(c+u)/2,Dl(t,e,n,i,h,g)&&(m=h,_=s)),c=u}return isNaN(m)&&(m=s[r]),o?(o.push(m,g,_),o):[m,g,_]}function Al(t,e,n,i,s){let r=[];for(let o=0,a=n.length;o<a;++o){const a=n[o];r=Ol(t,e,a,i,s,2*o,r),e=a[a.length-1]}return r}const Fl={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const Nl=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Fl[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},zl=6378137,Bl=Math.PI*zl,Wl=[-Bl,-Bl,Bl,Bl],jl=[-180,-85,180,85],Vl=zl*Math.log(Math.tan(Math.PI/2));class Gl extends Nl{constructor(t){super({code:t,units:"m",extent:Wl,global:!0,worldExtent:jl,getPointResolution:function(t,e){return t/Math.cosh(e[1]/zl)}})}}const Hl=[new Gl("EPSG:3857"),new Gl("EPSG:102100"),new Gl("EPSG:102113"),new Gl("EPSG:900913"),new Gl("http://www.opengis.net/def/crs/EPSG/0/3857"),new Gl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Ul(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let s=0;s<i;s+=n){e[s]=Bl*t[s]/180;let n=zl*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));n>Vl?n=Vl:n<-Vl&&(n=-Vl),e[s+1]=n}return e}function Yl(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let s=0;s<i;s+=n)e[s]=180*t[s]/Bl,e[s+1]=360*Math.atan(Math.exp(t[s+1]/zl))/Math.PI-90;return e}const Kl=[-180,-90,180,90],Xl=6378137*Math.PI/180;class ql extends Nl{constructor(t,e){super({code:t,units:"degrees",extent:Kl,axisOrientation:e,global:!0,metersPerUnit:Xl,worldExtent:Kl})}}const Zl=[new ql("CRS:84"),new ql("EPSG:4326","neu"),new ql("urn:ogc:def:crs:OGC:1.3:CRS84"),new ql("urn:ogc:def:crs:OGC:2:84"),new ql("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ql("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ql("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let $l={};let Jl={};function Ql(t,e,n){const i=t.getCode(),s=e.getCode();i in Jl||(Jl[i]={}),Jl[i][s]=n}function th(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function eh(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=s,t[1]=r,t}function nh(t,e){if(e.canWrapX()){const n=dl(e.getExtent()),i=function(t,e,n){const i=e.getExtent();let s=0;e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||dl(i),s=Math.floor((t[0]-i[0])/n));return s}(t,e,n);i&&(t[0]-=i*n)}return t}const ih=6371008.8;function sh(t,e,n){n=n||ih;const i=bl(t[1]),s=bl(e[1]),r=(s-i)/2,o=bl(e[0]-t[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const rh={info:1,warn:2,error:3,none:4};let oh=rh.info;function ah(){oh>rh.warn||console.warn(...arguments)}let lh=!0;function hh(t){lh=!(void 0===t||t)}function ch(t,e){if(void 0!==e)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function uh(t,e){if(void 0!==e&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function dh(t){!function(t,e){$l[t]=e}(t.getCode(),t),Ql(t,t,ch)}function fh(t){return"string"===typeof t?$l[e=t]||$l[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function gh(t,e,n,i){let s;const r=(t=fh(t)).getPointResolutionFunc();if(r){if(s=r(e,n),i&&i!==t.getUnits()){const e=t.getMetersPerUnit();e&&(s=s*e/Fl[i])}}else{const r=t.getUnits();if("degrees"==r&&!i||"degrees"==i)s=e;else{const o=yh(t,fh("EPSG:4326"));if(o===uh&&"degrees"!==r)s=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=o(t,t,2);s=(sh(t.slice(0,2),t.slice(2,4))+sh(t.slice(4,6),t.slice(6,8)))/2}const a=i?Fl[i]:t.getMetersPerUnit();void 0!==a&&(s/=a)}}return s}function ph(t){!function(t){t.forEach(dh)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Ql(e,t,ch)}))}))}function mh(t,e){return t?"string"===typeof t?fh(t):t:fh(e)}function _h(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;return yh(t,e)===ch&&n}function yh(t,e){let n=function(t,e){let n;return t in Jl&&e in Jl[t]&&(n=Jl[t][e]),n}(t.getCode(),e.getCode());return n||(n=uh),n}function vh(t,e){return yh(fh(t),fh(e))}function bh(t,e,n){return vh(e,n)(t,void 0,t.length)}function xh(t,e,n,i){return pl(t,vh(e,n),void 0,i)}let wh=null;function Sh(){return wh}function Ch(t,e){return wh?bh(t,e,wh):t}function Eh(t,e){return wh?bh(t,wh,e):(lh&&!th(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(lh=!1,ah("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function kh(t,e){return wh?xh(t,e,wh):t}function Mh(t,e){return wh?xh(t,wh,e):t}function Rh(t,e){if(!wh)return t;const n=fh(e).getMetersPerUnit(),i=wh.getMetersPerUnit();return n&&i?t*n/i:t}function Ih(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const r=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=r}e+=i,n-=i}}function Ph(t,e,n,i){let s=0,r=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];s+=(n-r)*(i+o),r=n,o=i}return 0===s?void 0:s>0}function Th(t,e,n,i,s){s=void 0!==s&&s;for(let r=0,o=n.length;r<o;++r){const o=n[r],a=Ph(t,e,o,i);if(0===r){if(s&&a||!s&&!a)return!1}else if(s&&!a||!s&&a)return!1;e=o}return!0}function Lh(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const o=n[r];if(!Th(t,e,o,i,s))return!1;o.length&&(e=o[o.length-1])}return!0}function Dh(t,e,n,i,s){s=void 0!==s&&s;for(let r=0,o=n.length;r<o;++r){const o=n[r],a=Ph(t,e,o,i);(0===r?s&&a||!s&&!a:s&&!a||!s&&a)&&Ih(t,e,o,i),e=o}return e}function Oh(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r)e=Dh(t,e,n[r],i,s);return e}function Ah(t,e,n,i,s,r,o){let a,l;const h=(n-e)/i;if(1===h)a=e;else if(2===h)a=e,l=s;else if(0!==h){let r=t[e],o=t[e+1],h=0;const c=[0];for(let s=e+i;s<n;s+=i){const e=t[s],n=t[s+1];h+=Math.sqrt((e-r)*(e-r)+(n-o)*(n-o)),c.push(h),r=e,o=n}const u=s*h,d=function(t,e,n){let i,s;n=n||fo;let r=0,o=t.length,a=!1;for(;r<o;)i=r+(o-r>>1),s=+n(t[i],e),s<0?r=i+1:(o=i,a=!s);return a?r:~r}(c,u);d<0?(l=(u-c[-d-2])/(c[-d-1]-c[-d-2]),a=e+(-d-2)*i):a=e+d*i}o=o>1?o:2,r=r||new Array(o);for(let c=0;c<o;++c)r[c]=void 0===a?NaN:void 0===l?t[a+c]:wl(t[a+c],t[a+i+c],l);return r}function Fh(t,e,n,i,s,r){if(n==e)return null;let o;if(s<t[e+i-1])return r?(o=t.slice(e,e+i),o[i-1]=s,o):null;if(t[n-1]<s)return r?(o=t.slice(n-i,n),o[i-1]=s,o):null;if(s==t[e+i-1])return t.slice(e,e+i);let a=e/i,l=n/i;for(;a<l;){const e=a+l>>1;s<t[(e+1)*i-1]?l=e:a=e+1}const h=t[a*i-1];if(s==h)return t.slice((a-1)*i,(a-1)*i+i);const c=(s-h)/(t[(a+1)*i-1]-h);o=[];for(let u=0;u<i-1;++u)o.push(wl(t[(a-1)*i+u],t[a*i+u],c));return o.push(s),o}function Nh(t,e,n,i){const s=[];let r=[1/0,1/0,-1/0,-1/0];for(let o=0,a=n.length;o<a;++o){const a=n[o];r=$a(t,e,a[0],i),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=a[a.length-1]}return s}function zh(t,e,n,i,s,r){r=r||[];let o=0;for(let a=e;a<n;a+=i){const e=t[a],n=t[a+1];r[o++]=s[0]*e+s[2]*n+s[4],r[o++]=s[1]*e+s[3]*n+s[5]}return r&&r.length!=o&&(r.length=o),r}function Bh(t,e,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),h=r[0],c=r[1];let u=0;for(let d=e;d<n;d+=i){const e=t[d]-h,n=t[d+1]-c;o[u++]=h+e*a-n*l,o[u++]=c+e*l+n*a;for(let s=d+2;s<d+i;++s)o[u++]=t[s]}return o&&o.length!=u&&(o.length=u),o}!function(){var t,e,n;ph(Hl),ph(Zl),t=Hl,e=Ul,n=Yl,Zl.forEach((function(i){t.forEach((function(t){Ql(i,t,e),Ql(t,i,n)}))}))}();const Wh=[1,0,0,1,0,0];class jh{constructor(t,e,n,i,s,r){this.styleFunction,this.extent_,this.id_=r,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=s,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?Za(this.flatCoordinates_):$a(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=ol(this.getExtent());this.flatInteriorPoints_=Ol(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function(t,e){const n=[];let i,s=0,r=0;for(let o=0,a=e.length;o<a;++o){const a=e[o],l=Ph(t,s,a,2);if(void 0===i&&(i=l),l===i)n.push(e.slice(r,o+1));else{if(0===n.length)continue;n[n.length-1].push(e[r])}r=o+1,s=a}return n}(this.flatCoordinates_,this.ends_),e=Nh(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=Al(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Ah(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let i=0,s=n.length;i<s;++i){const s=n[i],r=Ah(t,e,s,2,.5);mo(this.flatMidpoints_,r),e=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=fh(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=ll(n)/ll(e);Oa(Wh,n[0],n[3],t,-t,0,0,0),zh(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Wh,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new jh(this.type_,this.flatCoordinates_.slice(),null===(t=this.ends_)||void 0===t?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=xo(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=kl(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=Ml(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,i);break;case"Polygon":i=[],n.length=Pl(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,i)}return i&&(this.simplifiedGeometry_=new jh(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}jh.prototype.getFlatCoordinates=jh.prototype.getOrientedFlatCoordinates;const Vh=jh,Gh=[1,0,0,1,0,0];const Hh=class extends Vo{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=xo(((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return zo()}closestPointXY(t,e,n,i){return zo()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return zo()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&qa(t),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)}rotate(t,e){zo()}scale(t,e,n){zo()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return zo()}getType(){return zo()}applyTransform(t){zo()}intersectsExtent(t){return zo()}translate(t,e){zo()}transform(t,e){const n=fh(t),i="tile-pixels"==n.getUnits()?function(t,i,s){const r=n.getExtent(),o=n.getWorldExtent(),a=ll(o)/ll(r);return Oa(Gh,o[0],o[3],a,-a,0,0,0),zh(t,0,t.length,s,Gh,i),vh(n,e)(t,i,s)}:vh(n,e);return this.applyTransform(i),this}};function Uh(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function Yh(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const Kh=class extends Hh{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return $a(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return zo()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=Yh(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){zo()}setLayout(t,e,n){let i;if(t)i=Yh(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=Uh(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();Bh(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=ol(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();!function(t,e,n,i,s,r,o,a){a=a||[];const l=o[0],h=o[1];let c=0;for(let u=e;u<n;u+=i){const e=t[u]-l,n=t[u+1]-h;a[c++]=l+s*e,a[c++]=h+r*n;for(let s=u+2;s<u+i;++s)a[c++]=t[s]}a&&a.length!=c&&(a.length=c)}(i,0,i.length,s,t,e,n,i),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();!function(t,e,n,i,s,r,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+s,o[a++]=t[l+1]+r;for(let e=l+2;e<l+i;++e)o[a++]=t[e]}o&&o.length!=a&&(o.length=a)}(n,0,n.length,i,t,e,n),this.changed()}}};function Xh(t,e,n,i){for(let s=0,r=n.length;s<r;++s){const r=n[s];for(let n=0;n<i;++n)t[e++]=r[n]}return e}function qh(t,e,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const a=Xh(t,e,n[o],i);s[r++]=a,e=a}return s.length=r,s}function Zh(t,e,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const a=qh(t,e,n[o],i,s[r]);0===a.length&&(a[0]=e),s[r++]=a,e=a[a.length-1]}return s.length=r,s}class $h extends Kh{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new $h(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const s=this.flatCoordinates,r=vl(t,e,s[0],s[1]);if(r<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=s[e];return n.length=t,r}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Za(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Ua(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(let s=0,r=n.length;s<r;++s)t[e++]=n[s];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}}const Jh=$h;function Qh(t,e,n,i,s,r,o){const a=t[e],l=t[e+1],h=t[n]-a,c=t[n+1]-l;let u;if(0===h&&0===c)u=e;else{const d=((s-a)*h+(r-l)*c)/(h*h+c*c);if(d>1)u=n;else{if(d>0){for(let s=0;s<i;++s)o[s]=wl(t[e+s],t[n+s],d);return void(o.length=i)}u=e}}for(let d=0;d<i;++d)o[d]=t[u+d];o.length=i}function tc(t,e,n,i,s){let r=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const n=t[e],i=t[e+1],a=vl(r,o,n,i);a>s&&(s=a),r=n,o=i}return s}function ec(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const o=n[r];s=tc(t,e,o,i,s),e=o}return s}function nc(t,e,n,i,s,r,o,a,l,h,c){if(e==n)return h;let u,d;if(0===s){if(d=vl(o,a,t[e],t[e+1]),d<h){for(u=0;u<i;++u)l[u]=t[e+u];return l.length=i,d}return h}c=c||[NaN,NaN];let f=e+i;for(;f<n;)if(Qh(t,f-i,f,i,o,a,c),d=vl(o,a,c[0],c[1]),d<h){for(h=d,u=0;u<i;++u)l[u]=c[u];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(h))/s|0,1);if(r&&(Qh(t,n-i,e,i,o,a,c),d=vl(o,a,c[0],c[1]),d<h)){for(h=d,u=0;u<i;++u)l[u]=c[u];l.length=i}return h}function ic(t,e,n,i,s,r,o,a,l,h,c){c=c||[NaN,NaN];for(let u=0,d=n.length;u<d;++u){const d=n[u];h=nc(t,e,d,i,s,r,o,a,l,h,c),e=d}return h}function sc(t,e,n,i,s){let r;for(e+=i;e<n;e+=i)if(r=s(t.slice(e-i,e),t.slice(e,e+i)),r)return r;return!1}function rc(t,e,n,i,s){s=void 0!==s?s:[];let r=0;for(let o=e;o<n;o+=i)s[r++]=t.slice(o,o+i);return s.length=r,s}function oc(t,e,n,i,s){s=void 0!==s?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];s[r++]=rc(t,e,a,i,s[r]),e=a}return s.length=r,s}function ac(t,e,n,i,s){s=void 0!==s?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];s[r++]=1===a.length&&a[0]===e?[]:oc(t,e,a,i,s[r]),e=a[a.length-1]}return s.length=r,s}function lc(t,e,n,i,s){const r=el([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!fl(s,r)&&(!!Ha(s,r)||(r[0]>=s[0]&&r[2]<=s[2]||(r[1]>=s[1]&&r[3]<=s[3]||sc(t,e,n,i,(function(t,e){return function(t,e,n){let i=!1;const s=Ya(t,e),r=Ya(t,n);if(s===za.INTERSECTING||r===za.INTERSECTING)i=!0;else{const o=t[0],a=t[1],l=t[2],h=t[3],c=e[0],u=e[1],d=n[0],f=n[1],g=(f-u)/(d-c);let p,m;r&za.ABOVE&&!(s&za.ABOVE)&&(p=d-(f-h)/g,i=p>=o&&p<=l),i||!(r&za.RIGHT)||s&za.RIGHT||(m=f-(d-l)*g,i=m>=a&&m<=h),i||!(r&za.BELOW)||s&za.BELOW||(p=d-(f-a)/g,i=p>=o&&p<=l),i||!(r&za.LEFT)||s&za.LEFT||(m=f-(d-o)*g,i=m>=a&&m<=h)}return i}(s,t,e)})))))}function hc(t,e,n,i,s){if(!function(t,e,n,i,s){return!!lc(t,e,n,i,s)||!!Ll(t,e,n,i,s[0],s[1])||!!Ll(t,e,n,i,s[0],s[3])||!!Ll(t,e,n,i,s[2],s[1])||!!Ll(t,e,n,i,s[2],s[3])}(t,e,n[0],i,s))return!1;if(1===n.length)return!0;for(let r=1,o=n.length;r<o;++r)if(Tl(t,n[r-1],n[r],i,s)&&!lc(t,n[r-1],n[r],i,s))return!1;return!0}function cc(t,e,n,i){let s=t[e],r=t[e+1],o=0;for(let a=e+i;a<n;a+=i){const e=t[a],n=t[a+1];o+=Math.sqrt((e-s)*(e-s)+(n-r)*(n-r)),s=e,r=n}return o}class uc extends Kh{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){mo(this.flatCoordinates,t),this.changed()}clone(){const t=new uc(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Va(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(tc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),nc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))}forEachSegment(t){return sc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,Fh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return rc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return Ah(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return cc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){var t;this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,null!==(t=this.flatMidpoint_)&&void 0!==t?t:void 0),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=kl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new uc(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return lc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xh(this.flatCoordinates,0,t,this.stride),this.changed()}}const dc=uc;function fc(t,e,n,i){let s=0,r=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];s+=o*n-r*i,r=n,o=i}return s/2}function gc(t,e,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const o=n[r];s+=fc(t,e,o,i),e=o}return s}class pc extends Kh{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new pc(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<Va(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(tc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),nc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return fc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return rc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=kl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new pc(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xh(this.flatCoordinates,0,t,this.stride),this.changed()}}const mc=pc;class _c extends Kh{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?mo(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new _c(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Va(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ec(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ic(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return Dl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return gc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Dh(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,oc(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=ol(this.getExtent());this.flatInteriorPoint_=Ol(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Jh(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new mc(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let s=0;for(let r=0,o=n.length;r<o;++r){const o=n[r],a=new mc(e.slice(s,o),t);i.push(a),s=o}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Th(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Dh(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Pl(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new _c(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return hc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=qh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const yc=_c;function vc(t){if(gl(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],r=[e,n,e,s,i,s,i,n,e,n];return new _c(r,"XY",[r.length])}class bc extends Kh{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){mo(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new bc(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<Va(this.getExtent(),t,e))return i;const s=this.flatCoordinates,r=this.stride;for(let o=0,a=s.length;o<a;o+=r){const a=vl(t,e,s[o],s[o+1]);if(a<i){i=a;for(let t=0;t<r;++t)n[t]=s[o+t];n.length=r}}return i}getCoordinates(){return rc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new Jh(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,i=[];for(let s=0,r=t.length;s<r;s+=n){const r=new Jh(t.slice(s,s+n),e);i.push(r)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let i=0,s=e.length;i<s;i+=n){if(Ua(t,e[i],e[i+1]))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xh(this.flatCoordinates,0,t,this.stride),this.changed()}}const xc=bc;class wc extends Kh{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{const e=t,n=[],i=[];for(let t=0,r=e.length;t<r;++t){mo(n,e[t].getFlatCoordinates()),i.push(n.length)}const s=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(s,n),this.ends_=i}}appendLineString(t){mo(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new wc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Va(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ec(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ic(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))}getCoordinateAtM(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,function(t,e,n,i,s,r,o){if(o)return Fh(t,e,n[n.length-1],i,s,r);let a;if(s<t[i-1])return r?(a=t.slice(0,i),a[i-1]=s,a):null;if(t[t.length-1]<s)return r?(a=t.slice(t.length-i),a[i-1]=s,a):null;for(let l=0,h=n.length;l<h;++l){const r=n[l];if(e!=r){if(s<t[e+i-1])return null;if(s<=t[r-1])return Fh(t,e,r,i,s,!1);e=r}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}getCoordinates(){return oc(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new dc(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[];let s=0;for(let r=0,o=e.length;r<o;++r){const o=e[r],a=new dc(t.slice(s,o),n);i.push(a),s=o}return i}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const i=this.ends_,s=this.stride;for(let r=0,o=i.length;r<o;++r){const o=i[r];mo(t,Ah(e,n,o,s,.5)),n=o}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Ml(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new wc(e,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(t){return function(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){if(lc(t,e,n[r],i,s))return!0;e=n[r]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=qh(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const Sc=wc;class Cc extends Kh{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){const i=t,s=[],r=[];for(let t=0,e=i.length;t<e;++t){const e=i[t],n=s.length,o=e.getEnds();for(let t=0,i=o.length;t<i;++t)o[t]+=n;mo(s,e.getFlatCoordinates()),r.push(o)}e=0===i.length?this.getLayout():i[0].getLayout(),t=s,n=r}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;mo(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,i=e.length;t<i;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const n=new Cc(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,i){return i<Va(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const o=n[r];s=ec(t,e,o,i,s),e=o[o.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,s,r,o,a,l,h,c){c=c||[NaN,NaN];for(let u=0,d=n.length;u<d;++u){const d=n[u];h=ic(t,e,d,i,s,r,o,a,l,h,c),e=d[d.length-1]}return h}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return function(t,e,n,i,s,r){if(0===n.length)return!1;for(let o=0,a=n.length;o<a;++o){const a=n[o];if(Dl(t,e,a,i,s,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return function(t,e,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const o=n[r];s+=gc(t,e,o,i),e=o[o.length-1]}return s}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Oh(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,ac(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=Nh(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Al(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new xc(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Lh(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Oh(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=function(t,e,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const h=n[l],c=[];o=Pl(t,e,h,i,s,r,o,c),a.push(c),e=h[h.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new Cc(e,"XY",n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(let s=0,r=n.length;s<r;++s)n[s]-=e;return new yc(this.flatCoordinates.slice(e,i),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[];let s=0;for(let r=0,o=n.length;r<o;++r){const o=n[r].slice(),a=o[o.length-1];if(0!==s)for(let t=0,e=o.length;t<e;++t)o[t]-=s;const l=new yc(e.slice(s,a),t,o);i.push(l),s=a}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return function(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const o=n[r];if(hc(t,e,o,i,s))return!0;e=o[o.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Zh(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}const Ec=Cc;class kc extends Hh{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Ao),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)this.changeEventsKeys_.push(Do(t[e],Eo,this.changed,this))}clone(){const t=new kc(Mc(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<Va(this.getExtent(),t,e))return i;const s=this.geometries_;for(let r=0,o=s.length;r<o;++r)i=s[r].closestPointXY(t,e,n,i);return i}containsXY(t,e){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)if(n[i].containsXY(t,e))return!0;return!1}computeExtent(t){qa(t);const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)Qa(t,e[n].getExtent());return t}getGeometries(){return Mc(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let i=!1;for(let s=0,r=n.length;s<r;++s){const r=n[s],o=r.getSimplifiedGeometry(t);e.push(o),o!==r&&(i=!0)}if(i){return new kc(e)}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].rotate(t,e);this.changed()}scale(t,e,n){n||(n=ol(this.getExtent()));const i=this.geometries_;for(let s=0,r=i.length;s<r;++s)i[s].scale(t,e,n);this.changed()}setGeometries(t){this.setGeometriesArray(Mc(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Mc(t){return t.map((t=>t.clone()))}const Rc=kc;const Ic=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Ta,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?fh(e.dataProjection):this.readProjection(t);e.extent&&n&&"tile-pixels"===n.getUnits()&&(n=fh(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return zo()}readFeature(t,e){return zo()}readFeatures(t,e){return zo()}readGeometry(t,e){return zo()}readProjection(t){return zo()}writeFeature(t,e){return zo()}writeFeatures(t,e){return zo()}writeGeometry(t,e){return zo()}};function Pc(t,e,n){const i=n?fh(n.featureProjection):null,s=n?fh(n.dataProjection):null;let r=t;if(i&&s&&!_h(i,s)){e&&(r=t.clone());const n=e?i:s,o=e?s:i;"tile-pixels"===n.getUnits()?r.transform(n,o):r.applyTransform(vh(n,o))}if(e&&n&&void 0!==n.decimals){const e=Math.pow(10,n.decimals),i=function(t){for(let n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*e)/e;return t};r===t&&(r=t.clone()),r.applyTransform(i)}return r}const Tc={Point:Jh,LineString:dc,Polygon:yc,MultiPoint:xc,MultiLineString:Sc,MultiPolygon:Ec};function Lc(t,e){var n;const i=t.geometry;if(!i)return[];if(Array.isArray(i))return i.map((e=>Lc({...t,geometry:e}))).flat();const s="MultiPolygon"===i.type?"Polygon":i.type;if("GeometryCollection"===s||"Circle"===s)throw new Error("Unsupported geometry type: "+s);const r=i.layout.length;return Pc(new Vh(s,"Polygon"===s?function(t,e,n){return Array.isArray(e[0])?(Lh(t,0,e,n)||Oh(t=t.slice(),0,e,n),t):(Th(t,0,e,n)||Dh(t=t.slice(),0,e,n),t)}(i.flatCoordinates,i.ends,r):i.flatCoordinates,null===(n=i.ends)||void 0===n?void 0:n.flat(),r,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function Dc(t,e){if(!t)return null;if(Array.isArray(t)){const n=t.map((t=>Dc(t,e)));return new Rc(n)}return Pc(new(0,Tc[t.type])(t.flatCoordinates,t.layout,t.ends),!1,e)}function Oc(t){if("string"===typeof t){const e=JSON.parse(t);return e||null}return null!==t?t:null}const Ac=class extends Ic{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(Oc(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(Oc(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return zo()}readFeaturesFromObject(t,e){return zo()}readGeometry(t,e){return this.readGeometryFromObject(Oc(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return zo()}readProjection(t){return this.readProjectionFromObject(Oc(t))}readProjectionFromObject(t){return zo()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return zo()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return zo()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return zo()}};function Fc(t,e){if(!t)return null;let n;switch(t.type){case"Point":n=function(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:Uh(e.length)}}(t);break;case"LineString":n=function(t){var e;const n=t.coordinates,i=n.flat();return{type:"LineString",flatCoordinates:i,ends:[i.length],layout:Uh((null===(e=n[0])||void 0===e?void 0:e.length)||2)}}(t);break;case"Polygon":n=function(t){var e;const n=t.coordinates,i=[],s=null===(e=n[0])||void 0===e||null===(e=e[0])||void 0===e?void 0:e.length,r=qh(i,0,n,s);return{type:"Polygon",flatCoordinates:i,ends:r,layout:Uh(s)}}(t);break;case"MultiPoint":n=function(t){var e;const n=t.coordinates;return{type:"MultiPoint",flatCoordinates:n.flat(),layout:Uh((null===(e=n[0])||void 0===e?void 0:e.length)||2)}}(t);break;case"MultiLineString":n=function(t){var e;const n=t.coordinates,i=(null===(e=n[0])||void 0===e||null===(e=e[0])||void 0===e?void 0:e.length)||2,s=[],r=qh(s,0,n,i);return{type:"MultiLineString",flatCoordinates:s,ends:r,layout:Uh(i)}}(t);break;case"MultiPolygon":n=function(t){var e;const n=t.coordinates,i=[],s=(null===(e=n[0])||void 0===e||null===(e=e[0])||void 0===e?void 0:e[0].length)||2,r=Zh(i,0,n,s);return{type:"MultiPolygon",flatCoordinates:i,ends:r,layout:Uh(s)}}(t);break;case"GeometryCollection":n=function(t,e){const n=t.geometries.map((function(t){return Fc(t,e)}));return n}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function Nc(t,e){const n=(t=Pc(t,!0,e)).getType();let i;switch(n){case"Point":i=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":i=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":i=function(t,e){let n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":i=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":i=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":i=function(t,e){let n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":i=function(t,e){e=Object.assign({},e),delete e.featureProjection;const n=t.getGeometriesArray().map((function(t){return Nc(t,e)}));return{type:"GeometryCollection",geometries:n}}(t,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}const zc=class extends Ac{constructor(t){t=t||{},super(),this.dataProjection=fh(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=fh(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};const i=Fc(n.geometry,e);if(this.featureClass===Vh)return Lc({geometry:i,id:n.id,properties:n.properties},e);const s=new Ta;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&s.setGeometryName(n.geometry_name),s.setGeometry(Dc(i,e)),"id"in n&&s.setId(n.id),n.properties&&s.setProperties(n.properties,!0),s}readFeaturesFromObject(t,e){let n=null;if("FeatureCollection"===t.type){n=[];const i=t.features;for(let t=0,s=i.length;t<s;++t){const s=this.readFeatureFromObject(i[t],e);s&&n.push(s)}}else n=[this.readFeatureFromObject(t,e)];return n.flat()}readGeometryFromObject(t,e){return function(t,e){const n=Fc(t,e);return Dc(n,e)}(t,e)}readProjectionFromObject(t){const e=t.crs;let n;if(e)if("name"==e.type)n=fh(e.properties.name);else{if("EPSG"!==e.type)throw new Error("Unknown SRS type");n=fh("EPSG:"+e.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(n.id=i),!t.hasProperties())return n;const s=t.getProperties(),r=t.getGeometry();return r&&(n.geometry=Nc(r,e),delete s[t.getGeometryName()]),So(s)||(n.properties=s),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let i=0,s=t.length;i<s;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return Nc(t,this.adaptOptions(e))}},Bc="opacity",Wc="visible",jc="extent",Vc="zIndex",Gc="maxResolution",Hc="minResolution",Uc="maxZoom",Yc="minZoom",Kc="source",Xc="map";const qc=class extends Vo{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"===typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[Bc]=void 0!==t.opacity?t.opacity:1,Ia("number"===typeof e[Bc],"Layer opacity must be a number"),e[Wc]=void 0===t.visible||t.visible,e[Vc]=t.zIndex,e[Gc]=void 0!==t.maxResolution?t.maxResolution:1/0,e[Hc]=void 0!==t.minResolution?t.minResolution:0,e[Yc]=void 0!==t.minZoom?t.minZoom:-1/0,e[Uc]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=_l(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return zo()}getLayerStatesArray(t){return zo()}getExtent(){return this.get(jc)}getMaxResolution(){return this.get(Gc)}getMinResolution(){return this.get(Hc)}getMinZoom(){return this.get(Yc)}getMaxZoom(){return this.get(Uc)}getOpacity(){return this.get(Bc)}getSourceState(){return zo()}getVisible(){return this.get(Wc)}getZIndex(){return this.get(Vc)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(jc,t)}setMaxResolution(t){this.set(Gc,t)}setMinResolution(t){this.set(Hc,t)}setMaxZoom(t){this.set(Uc,t)}setMinZoom(t){this.set(Yc,t)}setOpacity(t){Ia("number"===typeof t,"Layer opacity must be a number"),this.set(Bc,t)}setVisible(t){this.set(Wc,t)}setZIndex(t){this.set(Vc,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Zc="prerender",$c="postrender",Jc="precompose",Qc="postcompose",tu="rendercomplete",eu=0,nu=1,iu={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function su(t,e,n){return function(i,s,r,o,a){if(!i)return;if(!s&&!e)return i;const l=e?0:r[0]*s,h=e?0:r[1]*s,c=a?a[0]:0,u=a?a[1]:0;let d=t[0]+l/2+c,f=t[2]-l/2+c,g=t[1]+h/2+u,p=t[3]-h/2+u;d>f&&(d=(f+d)/2,f=d),g>p&&(g=(p+g)/2,p=g);let m=_l(i[0],d,f),_=_l(i[1],g,p);if(o&&n&&s){const t=30*s;m+=-t*Math.log(1+Math.max(0,d-i[0])/t)+t*Math.log(1+Math.max(0,i[0]-f)/t),_+=-t*Math.log(1+Math.max(0,g-i[1])/t)+t*Math.log(1+Math.max(0,i[1]-p)/t)}return[m,_]}}function ru(t){return t}function ou(t,e,n,i){const s=dl(e)/n[0],r=ll(e)/n[1];return i?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function au(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),_l(i,n/2,2*e)}function lu(t,e,n,i,s){return n=void 0===n||n,function(r,o,a,l){if(void 0!==r){const o=i?ou(t,i,a,s):t;return n&&l?au(r,o,e):_l(r,e,o)}}}function hu(t){if(void 0!==t)return 0}function cu(t){if(void 0!==t)return t}function uu(t){return 1-function(t){return Math.pow(t,3)}(1-t)}function du(t){return 3*t*t-2*t*t*t}function fu(t){return t}function gu(t,e){setTimeout((function(){t(e)}),0)}function pu(t){return!(t.sourceCenter&&t.targetCenter&&!th(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function mu(t,e,n,i,s){const r=Math.cos(-s);let o=Math.sin(-s),a=t[0]*r-t[1]*o,l=t[1]*r+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;return[a*r-l*o,l*r+a*o]}const _u=class extends Vo{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=mh(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&hh(),t.center&&(t.center=Eh(t.center,this.projection_)),t.extent&&(t.extent=Mh(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const o in iu)delete e[o];this.setProperties(e,!0);const n=function(t){let e,n,i;const s=28,r=2;let o=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:s;const l=void 0!==t.zoomFactor?t.zoomFactor:r,h=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,d=mh(t.projection,"EPSG:3857"),f=d.getExtent();let g=t.constrainOnlyCenter,p=t.extent;h||p||!d.isGlobal()||(g=!1,p=f);if(void 0!==t.resolutions){const s=t.resolutions;n=s[o],i=void 0!==s[a]?s[a]:s[s.length-1],e=t.constrainResolution?function(t,e,n,i){return e=void 0===e||e,function(s,r,o,a){if(void 0!==s){const l=t[0],h=t[t.length-1],c=n?ou(l,n,o,i):l;if(a)return e?au(s,c,h):_l(s,h,c);const u=Math.min(c,s),d=Math.floor(go(t,u,r));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(s,c,!g&&p,u):lu(n,i,c,!g&&p,u)}else{const h=(f?Math.max(dl(f),ll(f)):360*Fl.degrees/d.getMetersPerUnit())/256/Math.pow(r,0),m=h/Math.pow(r,s-0);n=t.maxResolution,void 0!==n?o=0:n=h/Math.pow(l,o),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):h/Math.pow(l,a):m),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),e=t.constrainResolution?function(t,e,n,i,s,r){return i=void 0===i||i,n=void 0!==n?n:0,function(o,a,l,h){if(void 0!==o){const c=s?ou(e,s,l,r):e;if(h)return i?au(o,c,n):_l(o,n,c);const u=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(t)-u),f=-a*(.5-u)+.5,g=Math.min(c,o),p=Math.floor(Math.log(e/g)/Math.log(t)+f),m=Math.max(d,p);return _l(e/Math.pow(t,m),n,c)}}}(l,n,i,c,!g&&p,u):lu(n,i,c,!g&&p,u)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return su(t.extent,t.constrainOnlyCenter,e)}const e=mh(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,su(t,!1,!1)}return ru}(t),s=n.constraint,r=function(t){const e=void 0===t.enableRotation||t.enableRotation;if(e){const e=t.constrainRotation;return void 0===e||!0===e?function(t){const e=void 0===t?bl(5):t;return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}():!1===e?cu:"number"===typeof e?function(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(e):cu}return hu}(t);this.constraints_={center:i,resolution:s,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const s=this.getResolution(),r=s/2*(i[3]-e[3]+e[1]-i[1]),o=s/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+r,n[1]-o])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let t=arguments[n];t.center&&(t=Object.assign({},t),t.center=Eh(t.center,this.getProjection())),t.anchor&&(t=Object.assign({},t),t.anchor=Eh(t.anchor,this.getProjection())),e[n]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const t=arguments[i];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(i===n)return void(e&&gu(e,!0));let s=Date.now(),r=this.targetCenter_.slice(),o=this.targetResolution_,a=this.targetRotation_;const l=[];for(;i<n;++i){const t=arguments[i],n={start:s,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||du,callback:e};if(t.center&&(n.sourceCenter=r,n.targetCenter=t.center.slice(),r=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=o,n.targetResolution=this.getResolutionForZoom(t.zoom),o=n.targetResolution):t.resolution&&(n.sourceResolution=o,n.targetResolution=t.resolution,o=n.targetResolution),void 0!==t.rotation){n.sourceRotation=a;const e=xl(t.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+e,a=n.targetRotation}pu(n)?n.complete=!0:s+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(eu,1),this.updateAnimations_()}getAnimating(){return this.hints_[eu]>0}getInteracting(){return this.hints_[nu]>0}cancelAnimations(){let t;this.setHint(eu,-this.hints_[eu]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&gu(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let s=!0;for(let n=0,r=i.length;n<r;++n){const r=i[n];if(r.complete)continue;const o=t-r.start;let a=r.duration>0?o/r.duration:1;a>=1?(r.complete=!0,a=1):s=!1;const l=r.easing(a);if(r.sourceCenter){const t=r.sourceCenter[0],e=r.sourceCenter[1],n=r.targetCenter[0],i=r.targetCenter[1];this.nextCenter_=r.targetCenter;const s=t+l*(n-t),o=e+l*(i-e);this.targetCenter_=[s,o]}if(r.sourceResolution&&r.targetResolution){const t=1===l?r.targetResolution:r.sourceResolution+l*(r.targetResolution-r.sourceResolution);if(r.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,r.anchor)}this.nextResolution_=r.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==r.sourceRotation&&void 0!==r.targetRotation){const t=1===l?xl(r.targetRotation+Math.PI,2*Math.PI)-Math.PI:r.sourceRotation+l*(r.targetRotation-r.sourceRotation);if(r.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,r.anchor)}this.nextRotation_=r.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!r.complete)break}if(s){this.animations_[n]=null,this.setHint(eu,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=i[0].callback;t&&gu(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();var s,r;return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],eh(n,t-this.getRotation()),r=e,(s=n)[0]+=+r[0],s[1]+=+r[1]),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),s=this.getResolution();if(void 0!==i&&void 0!==s){n=[e[0]-t*(e[0]-i[0])/s,e[1]-t*(e[1]-i[1])/s]}return n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?Ch(t,this.getProjection()):t}getCenterInternal(){return this.get(iu.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){return kh(this.calculateExtentInternal(t),this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();Ia(e,"The view center is not defined");const n=this.getResolution();Ia(void 0!==n,"The view resolution is not defined");const i=this.getRotation();return Ia(void 0!==i,"The view rotation is not defined"),al(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(iu.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(Mh(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=dl(t)/e[0],i=ll(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*i)}}getRotation(){return this.get(iu.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/s}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const t=this.getViewportSizeMinusPadding_();i=mu(i,this.getViewportSize_(),[t[0]/2+s[3],t[1]/2+s[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const s=go(this.resolutions_,t,1);i=s,e=this.resolutions_[s],n=s==this.resolutions_.length-1?2:e/this.resolutions_[s+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=_l(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,_l(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if(Ia(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Ia(!gl(t),"Cannot fit empty extent provided as `geometry`");n=vc(Mh(t,this.getProjection()))}else if("Circle"===t.getType()){const e=Mh(t.getExtent(),this.getProjection());n=vc(e),n.rotate(this.getRotation(),ol(e))}else{const e=Sh();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),s=t.getFlatCoordinates(),r=t.getStride();let o=1/0,a=1/0,l=-1/0,h=-1/0;for(let c=0,u=s.length;c<u;c+=r){const t=s[c]*n-s[c+1]*i,e=s[c]*i+s[c+1]*n;o=Math.min(o,t),a=Math.min(a,e),l=Math.max(l,t),h=Math.max(h,e)}return[o,a,l,h]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;let r;r=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const o=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(o,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?r:Math.max(a,r),a=this.getConstrainedResolution(a,s?0:1);const l=this.getRotation(),h=Math.sin(l),c=Math.cos(l),u=ol(o);u[0]+=(i[1]-i[3])/2*a,u[1]+=(i[0]-i[2])/2*a;const d=u[0]*c-u[1]*h,f=u[1]*c+u[0]*h,g=this.getConstrainedCenter([d,f],a),p=e.callback?e.callback:bo;void 0!==e.duration?this.animateInternal({resolution:a,center:g,duration:e.duration,easing:e.easing},p):(this.targetResolution_=a,this.targetCenter_=g,this.applyTargetState_(!1,!0),gu(p,!0))}centerOn(t,e,n){this.centerOnInternal(Eh(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(mu(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let s;const r=this.padding_;if(r&&t){const o=this.getViewportSizeMinusPadding_(-n),a=mu(t,i,[o[0]/2+r[3],o[1]/2+r[0]],e,n);s=[t[0]-a[0],t[1]-a[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=Ch(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&Eh(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(s,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=Eh(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?Eh(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(i),r=this.constraints_.resolution(this.targetResolution_,0,s,n),o=this.constraints_.center(this.targetCenter_,r,s,n,this.calculateCenterShift(this.targetCenter_,r,i,s));this.get(iu.ROTATION)!==i&&this.set(iu.ROTATION,i),this.get(iu.RESOLUTION)!==r&&(this.set(iu.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),o&&this.get(iu.CENTER)&&th(this.get(iu.CENTER),o)||this.set(iu.CENTER,o),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const i=e||0,s=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,i,r),a=this.constraints_.center(this.targetCenter_,o,r,!1,this.calculateCenterShift(this.targetCenter_,o,s,r));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===s&&this.getCenterInternal()&&th(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:a,resolution:o,duration:t,easing:uu,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(nu,1)}endInteraction(t,e,n){n=n&&Eh(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(nu,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}};function yu(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const vu=class extends qc{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Kc,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(Kc)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ao(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Do(t,Eo,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let i;!t&&n&&(t=n.getView()),e=t instanceof _u?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),i=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const s=this.getExtent();return yu(i,e.viewState)&&(!s||fl(s,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];let e;const n=this.getSource();if(n&&(e=n.getAttributions()),!e)return[];let i=e(t instanceof _u?t.getViewStateAndExtent():t);return Array.isArray(i)||(i=[i]),i}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Xc,t)}getMapInternal(){return this.get(Xc)}setMap(t){this.mapPrecomposeKey_&&(Ao(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Ao(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Do(t,Jc,(function(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Ia(!e.some((function(t){return t.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}),this),this.mapRenderKey_=Do(this,Eo,t.render,t),this.changed())}setSource(t){this.set(Kc,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};const bu=class extends vu{constructor(t){super(t=t||{})}},xu={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};const wu=class extends No{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return zo()}getData(t){return null}prepareFrame(t){return zo()}renderFrame(t,e){return zo()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(t,e,n){return(i,s)=>{const r=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,s,r)}}forEachFeatureAtCoordinate(t,e,n,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==xu.LOADED&&e.getState()!==xu.ERROR||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=xu.LOADED&&e!=xu.ERROR&&t.addEventListener(Eo,this.boundHandleImageChange_),e==xu.IDLE&&(t.load(),e=t.getState()),e==xu.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}};const Su=class extends ho{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}};const Cu=class{constructor(){var t=this;r(this,"pushMethodArgs_",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.instructions_[t.zIndex+t.offset_].push(n),t})),this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(CanvasRenderingContext2D.prototype,{get:(t,e)=>{if("function"===typeof ra()[e])return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e),this.pushMethodArgs_},set:(t,e,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e,n),!0)})}getContext(){return this.context_}draw(t){this.instructions_.forEach((e=>{for(let n=0,i=e.length;n<i;n+=2){const i=e[n],s=e[n+1];if("function"===typeof t[i])t[i](...s);else{if("function"===typeof s){t[i]=s(t);continue}t[i]=s}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},Eu={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var ku={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};ku.max=ku.whitepoint[2].D65,ku.rgb=function(t,e){e=e||ku.whitepoint[2].E;var n,i,s,r=t[0]/e[0],o=t[1]/e[1],a=t[2]/e[2];return i=-.96924363628087*r+1.87596750150772*o+.041555057407175*a,s=.055630079696993*r+-.20397695888897*o+1.056971514242878*a,n=(n=3.240969941904521*r+-1.537383177570093*o+-.498610760293*a)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1)),255*(s=Math.min(Math.max(0,s),1))]},Eu.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,s=t[2]/255,r=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.072192315360733*(s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92),o=.019330818715591*n+.11919477979462*i+.95053215224966*s;return[(.41239079926595*n+.35758433938387*i+.18048078840183*s)*(e=e||ku.whitepoint[2].E)[0],r*e[1],o*e[2]]};const Mu=ku,Ru={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,s,r,o,a,l,h,c,u;if(r=t[0],o=t[1],a=t[2],0===r)return[0,0,0];return e=e||"D65",n=n||2,i=o/(13*r)+4*(h=Mu.whitepoint[n][e][0])/(h+15*(c=Mu.whitepoint[n][e][1])+3*(u=Mu.whitepoint[n][e][2]))||0,s=a/(13*r)+9*c/(h+15*c+3*u)||0,[9*(l=r>8?c*Math.pow((r+16)/116,3):c*r*.0011070564598794539)*i/(4*s)||0,l,l*(12-3*i-20*s)/(4*s)||0]}};Mu.luv=function(t,e,n){var i,s,r,o,a,l,h,c,u,d,f;e=e||"D65",n=n||2,d=4*(h=Mu.whitepoint[n][e][0])/(h+15*(c=Mu.whitepoint[n][e][1])+3*(u=Mu.whitepoint[n][e][2])),f=9*c/(h+15*c+3*u),i=4*(o=t[0])/(o+15*(a=t[1])+3*(l=t[2]))||0,s=9*a/(o+15*a+3*l)||0;var g=a/c;return[r=g<=.008856451679035631?903.2962962962961*g:116*Math.pow(g,1/3)-16,13*r*(i-d),13*r*(s-f)]};var Iu={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},xyz:function(t){return Ru.xyz(Iu.luv(t))}};const Pu=Iu;Ru.lchuv=function(t){var e=t[0],n=t[1],i=t[2],s=Math.sqrt(n*n+i*i),r=360*Math.atan2(i,n)/2/Math.PI;return r<0&&(r+=360),[e,s,r]},Mu.lchuv=function(t){return Ru.lchuv(Mu.luv(t))};var Tu=n(301);const Lu=function(t){var e,n,i=[],s=1;if("number"===typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if("number"===typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if(t=String(t).toLowerCase(),Tu[t])i=Tu[t].slice(),n="rgb";else if("transparent"===t)s=0,n="rgb",i=[0,0,0];else if("#"===t[0]){var r=t.slice(1),o=r.length;s=1,o<=4?(i=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],4===o&&(s=parseInt(r[3]+r[3],16)/255)):(i=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],8===o&&(s=parseInt(r[6]+r[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),n="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1],l="cmyk"===(n=a.replace(/a$/,""))?4:"gray"===n?1:3;i=e[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=i.shift()),i=i.map((function(t,e){if("%"===t[t.length-1])return t=parseFloat(t)/100,3===e?t:"rgb"===n?255*t:"h"===n[0]?100*t:"l"!==n[0]||e?"lab"===n?125*t:"lch"===n?e<2?150*t:360*t:"o"!==n[0]||e?"oklab"===n?.4*t:"oklch"===n?e<2?.4*t:360*t:t:t:100*t;if("h"===n[e]||2===e&&"h"===n[n.length-1]){if(void 0!==Du[t])return Du[t];if(t.endsWith("deg"))return parseFloat(t);if(t.endsWith("turn"))return 360*parseFloat(t);if(t.endsWith("grad"))return 360*parseFloat(t)/400;if(t.endsWith("rad"))return 180*parseFloat(t)/Math.PI}return"none"===t?0:parseFloat(t)})),s=i.length>l?i.pop():1}else if(/[0-9](?:\s|\/|,)/.test(t)){var h;i=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),n=(null===(h=t.match(/([a-z])/gi))||void 0===h||null===(h=h.join(""))||void 0===h?void 0:h.toLowerCase())||"rgb"}return{space:n,values:i,alpha:s}};var Du={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const Ou={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,i,s,r,o=t[0]/360,a=t[1]/100,l=t[2]/100,h=0;if(0===a)return[r=255*l,r,r];for(e=2*l-(n=l<.5?l*(1+a):l+a-l*a),s=[0,0,0];h<3;)(i=o+1/3*-(h-1))<0?i++:i>1&&i--,r=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,s[h++]=255*r;return s}};Eu.hsl=function(t){var e,n,i=t[0]/255,s=t[1]/255,r=t[2]/255,o=Math.min(i,s,r),a=Math.max(i,s,r),l=a-o;return a===o?e=0:i===a?e=(s-r)/l:s===a?e=2+(r-i)/l:r===a&&(e=4+(i-s)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+a)/2,[e,100*(a===o?0:n<=.5?l/(a+o):l/(2-a-o)),100*n]};const Au=1024,Fu={};let Nu=0;function zu(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function Bu(t){const e=Mu.lchuv(Eu.xyz(t));return e[3]=t[3],e}function Wu(t){if(Fu.hasOwnProperty(t))return Fu[t];if(Nu>=Au){let t=0;for(const e in Fu)0===(3&t++)&&(delete Fu[e],--Nu)}const e=function(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=Lu(t);if(!n.space)return[];const i="h"===n.space[0]?Ou.min:Eu.min,s="h"===n.space[0]?Ou.max:Eu.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),"h"===n.space[0]&&(e=Ou.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}(t);if(4!==e.length)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return Vu(e),Fu[t]=e,++Nu,e}function ju(t){return Array.isArray(t)?t:Wu(t)}function Vu(t){return t[0]=_l(t[0]+.5|0,0,255),t[1]=_l(t[1]+.5|0,0,255),t[2]=_l(t[2]+.5|0,0,255),t[3]=_l(t[3],0,1),t}function Gu(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];i!=(0|i)&&(i=i+.5|0);return"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}const Hu=[];let Uu=null;const Yu=class extends wu{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,n){let i;Uu||(Uu=ia(1,1,void 0,{willReadFrequently:!0})),Uu.clearRect(0,0,1,1);try{Uu.drawImage(t,e,n,1,1,0,0,1,1),i=Uu.getImageData(0,0,1,1).data}catch(s){return Uu=null,null}return i}getBackground(t){let e=this.getLayer().getBackground();return"function"===typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const i=this.getLayer().getClassName();let s,r;if(t&&t.className===i&&(!n||t&&t.style.backgroundColor&&_o(ju(t.style.backgroundColor),ju(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(r=e.getContext("2d"))}if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=i;let t=s.style;t.position="absolute",t.width="100%",t.height="100%",r=ia();const e=r.canvas;s.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=s,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const i=cl(n),s=ul(n),r=rl(n),o=sl(n);Da(e.coordinateToPixelTransform,i),Da(e.coordinateToPixelTransform,s),Da(e.coordinateToPixelTransform,r),Da(e.coordinateToPixelTransform,o);const a=this.inversePixelTransform;Da(a,i),Da(a,s),Da(a,r),Da(a,o),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const s=new Su(t,this.inversePixelTransform,n,e);i.dispatchEvent(s)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(Zc,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_($c,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new Cu),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Zc,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_($c,this.context,t))}getRenderTransform(t,e,n,i,s,r,o){const a=s/2,l=r/2,h=i/e,c=-h,u=-t[0]+o,d=-t[1];return Oa(this.tempTransform,a,l,h,c,-n,u,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}};const Ku=class extends Yu{constructor(t){super(t),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,i=t.viewState,s=i.resolution,r=this.getLayer().getSource(),o=t.viewHints;let a=t.extent;if(void 0!==e.extent&&(a=hl(a,Mh(e.extent,i.projection))),!o[eu]&&!o[nu]&&!gl(a))if(r){const t=i.projection,e=r.getImage(a,s,n,t);e&&(this.loadImage(e)?this.image_=e:e.getState()===xu.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=Da(e.pixelToCoordinateTransform,t.slice()),s=n.getExtent();if(s&&!Ga(s,i))return null;const r=this.image_.getExtent(),o=this.image_.getImage(),a=dl(r),l=Math.floor(o.width*((i[0]-r[0])/a));if(l<0||l>=o.width)return null;const h=ll(r),c=Math.floor(o.height*((r[3]-i[1])/h));return c<0||c>=o.height?null:this.getImageData(o,l,c)}renderFrame(t,e){const n=this.image_,i=n.getExtent(),s=n.getResolution(),[r,o]=Array.isArray(s)?s:[s,s],a=n.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],h=t.pixelRatio,c=t.viewState,u=c.center,d=c.resolution,f=h*r/(d*a),g=h*o/(d*a),p=t.extent,m=c.resolution,_=c.rotation,y=Math.round(dl(p)/m*h),v=Math.round(ll(p)/m*h);Oa(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,_,-y/2,-v/2),Aa(this.inversePixelTransform,this.pixelTransform);const b=Na(this.pixelTransform);this.useContainer(e,b,this.getBackground(t));const x=this.getRenderContext(t),w=this.context.canvas;w.width!=y||w.height!=v?(w.width=y,w.height=v):this.containerReused||x.clearRect(0,0,y,v);let S=!1,C=!0;if(l.extent){const e=Mh(l.extent,c.projection);C=fl(e,t.extent),S=C&&!Ha(e,t.extent),S&&this.clipUnrotated(x,t,e)}const E=n.getImage(),k=Oa(this.tempTransform,y/2,v/2,f,g,0,a*(i[0]-u[0])/r,a*(u[1]-i[3])/o);this.renderedResolution=o*h/a;const M=E.width*k[0],R=E.height*k[3];if(this.getLayer().getSource().getInterpolate()||(x.imageSmoothingEnabled=!1),this.preRender(x,t),C&&M>=.5&&R>=.5){const t=k[4],e=k[5],n=l.opacity;1!==n&&(x.save(),x.globalAlpha=n),x.drawImage(E,0,0,+E.width,+E.height,t,e,M,R),1!==n&&x.restore()}return this.postRender(this.context,t),S&&x.restore(),x.imageSmoothingEnabled=!0,b!==w.style.transform&&(w.style.transform=b),this.container}};const Xu=class extends bu{constructor(t){super(t)}createRenderer(){return new Ku(this)}getData(t){return super.getData(t)}};var qu=n(642);function Zu(t){return t[0]>0&&t[1]>0}function $u(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}class Ju{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=$u(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Ju({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return zo()}getImage(t){return zo()}getHitDetectionImage(){return zo()}getPixelRatio(t){return 1}getImageState(){return zo()}getImageSize(){return zo()}getOrigin(){return zo()}getSize(){return zo()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$u(t)}listenImageChange(t){zo()}load(){zo()}unlistenImageChange(t){zo()}ready(){return Promise.resolve()}}const Qu=Ju;function td(t,e){return e&&(t.src=e),t.src&&ta?new Promise(((e,n)=>t.decode().then((()=>e(t))).catch((i=>t.complete&&t.width?e(t):n(i))))):function(t,e){return new Promise(((n,i)=>{function s(){o(),n(t)}function r(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",s),t.removeEventListener("error",r)}t.addEventListener("load",s),t.addEventListener("error",r),e&&(t.src=e)}))}(t)}function ed(t,e){return e&&(t.src=e),t.src&&ta&&ea?t.decode().then((()=>createImageBitmap(t))).catch((e=>{if(t.complete&&t.width)return t;throw e})):td(t)}const nd=class extends Co{constructor(t,e,n,i){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state="function"===typeof i?xu.IDLE:i,this.image_=null,this.loader="function"===typeof i?i:null}changed(){this.dispatchEvent(Eo)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==xu.IDLE&&this.loader){this.state=xu.LOADING,this.changed();const e=this.getResolution(),n=Array.isArray(e)?e[0]:e;(t=()=>this.loader(this.getExtent(),n,this.getPixelRatio()),function(){let e;try{e=t()}catch(n){return Promise.reject(n)}return e instanceof Promise?e:Promise.resolve(e)}()).then((t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=xu.LOADED})).catch((t=>{this.state=xu.ERROR,console.error(t)})).finally((()=>this.changed()))}var t}setImage(t){this.image_=t}setResolution(t){this.resolution=t}};class id{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const i=sd(t,e,n);return i in this.cache_?this.cache_[i]:null}getPattern(t,e,n){const i=sd(t,e,n);return i in this.patternCache_?this.patternCache_[i]:null}set(t,e,n,i,s){const r=sd(t,e,n),o=r in this.cache_;this.cache_[r]=i,s&&(i.getImageState()===xu.IDLE&&i.load(),i.getImageState()===xu.LOADING?i.ready().then((()=>{this.patternCache_[r]=ra().createPattern(i.getImage(1),"repeat")})):this.patternCache_[r]=ra().createPattern(i.getImage(1),"repeat")),o||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function sd(t,e,n){return e+":"+t+":"+(n?ju(n):"null")}const rd=new id;let od=null;class ad extends Co{constructor(t,e,n,i,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=s,this.imageState_=void 0===i?xu.IDLE:i,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===xu.LOADED){od||(od=ia(1,1,void 0,{willReadFrequently:!0})),od.drawImage(this.image_,0,0);try{od.getImageData(0,0,1,1),this.tainted_=!1}catch(t){od=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(Eo)}handleImageError_(){this.imageState_=xu.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=xu.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=ia(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===xu.IDLE){this.image_||this.initializeImage_(),this.imageState_=xu.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&td(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==xu.LOADED)return;const e=this.image_,n=document.createElement("canvas");n.width=Math.ceil(e.width*t),n.height=Math.ceil(e.height*t);const i=n.getContext("2d");i.scale(t,t),i.drawImage(e,0,0),i.globalCompositeOperation="multiply",i.fillStyle=function(t){return"string"===typeof t?t:Gu(t)}(this.color_),i.fillRect(0,0,n.width/t,n.height/t),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),this.canvas_[t]=n}ready(){return this.ready_||(this.ready_=new Promise((t=>{this.imageState_===xu.LOADED||this.imageState_===xu.ERROR?t():this.addEventListener(Eo,(function e(){this.imageState_!==xu.LOADED&&this.imageState_!==xu.ERROR||(this.removeEventListener(Eo,e),t())}))}))),this.ready_}}function ld(t,e,n,i,s,r){let o=void 0===e?void 0:rd.get(e,n,s);return o||(o=new ad(t,t instanceof HTMLImageElement?t.src||void 0:e,n,i,s),rd.set(e,n,s,o,r)),r&&o&&!rd.getPattern(e,n,s)&&rd.set(e,n,s,o,r),o}function hd(t){return t?Array.isArray(t)?Gu(t):"object"===typeof t&&"src"in t?function(t){if(!t.offset||!t.size)return rd.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=rd.getPattern(e,void 0,t.color);if(n)return n;const i=rd.get(t.src,"anonymous",null);if(i.getImageState()!==xu.LOADED)return null;const s=ia(t.size[0],t.size[1]);return s.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),ld(s.canvas,e,void 0,xu.LOADED,t.color,!0),rd.getPattern(e,void 0,t.color)}(t):t:null}const cd="10px sans-serif",ud="#000",dd="round",fd=[],gd="round",pd="#000",md="center",_d="middle",yd=[0,0,0,0],vd=new Vo;let bd,xd=null;const wd={},Sd=function(){const t="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";let s,r;function o(s,o,a){let l=!0;for(let h=0;h<n;++h){const n=e[h];if(r=kd(s+" "+o+" "+t+n,i),a!=n){const e=kd(s+" "+o+" "+t+a+","+n,i);l=l&&e!=r}}return!!l}function a(){let t=!0;const e=vd.getKeys();for(let n=0,i=e.length;n<i;++n){const i=e[n];vd.get(i)<100&&(o.apply(this,i.split("\n"))?(wo(wd),xd=null,bd=void 0,vd.set(i,100)):(vd.set(i,vd.get(i)+1,!0),t=!1))}t&&(clearInterval(s),s=void 0)}return function(t){const e=xa(t);if(!e)return;const n=e.families;for(let i=0,r=n.length;i<r;++i){const t=n[i],r=e.style+"\n"+e.weight+"\n"+t;void 0===vd.get(r)&&(vd.set(r,100,!0),o(e.style,e.weight,t)||(vd.set(r,0,!0),void 0===s&&(s=setInterval(a,32))))}}}(),Cd=function(){let t;return function(e){let n=wd[e];if(void 0==n){if(Qo){const t=xa(e),i=Ed(e,"\u017dg");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);wd[e]=n}return n}}();function Ed(t,e){return xd||(xd=ia(1,1)),t!=bd&&(xd.font=t,bd=xd.font),xd.measureText(e)}function kd(t,e){return Ed(t,e).width}function Md(t,e,n){if(e in n)return n[e];const i=e.split("\n").reduce(((e,n)=>Math.max(e,kd(t,n))),0);return n[e]=i,i}function Rd(t,e,n,i,s,r,o,a,l,h,c){t.save(),1!==n&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,h),t.scale(c[0],c[1]),function(t,e){const n=t.contextInstructions;for(let i=0,s=n.length;i<s;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):c[0]<0||c[1]<0?(t.translate(l,h),t.scale(c[0],c[1]),t.drawImage(i,s,r,o,a,0,0,o,a)):t.drawImage(i,s,r,o,a,l,h,o*c[0],a*c[1]),t.restore()}class Id extends Qu{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?xu.LOADING:xu.LOADED,this.imageState_===xu.LOADING&&this.ready().then((()=>this.imageState_=xu.LOADED)),this.render()}clone(){const t=this.getScale(),e=new Id({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const n=this.renderOptions_,i=ia(n.size*t,n.size*t);this.draw_(n,i,t),e=i.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let i=this.radius_,s=void 0===this.radius2_?i:this.radius2_;if(i<s){const t=i;i=s,s=t}const r=void 0===this.radius2_?this.points_:2*this.points_,o=2*Math.PI/r,a=s*Math.sin(o),l=i-Math.sqrt(s*s-a*a),h=Math.sqrt(a*a+l*l),c=h/a;if("miter"===t&&c<=n)return c*e;const u=e/2/c,d=e/2*(l/h),f=Math.sqrt((i+u)*(i+u)+d*d)-i;if(void 0===this.radius2_||"bevel"===t)return 2*f;const g=i*Math.sin(o),p=s-Math.sqrt(i*i-g*g),m=Math.sqrt(g*g+p*p)/g;if(m<=n){const t=m*e/2-s-i;return 2*Math.max(f,t)}return 2*f}createRenderOptions(){let t,e=dd,n=gd,i=0,s=null,r=0,o=0;var a,l,h,c,u,d;this.stroke_&&(t=hd(null!==(a=this.stroke_.getColor())&&void 0!==a?a:pd),o=null!==(l=this.stroke_.getWidth())&&void 0!==l?l:1,s=this.stroke_.getLineDash(),r=null!==(h=this.stroke_.getLineDashOffset())&&void 0!==h?h:0,n=null!==(c=this.stroke_.getLineJoin())&&void 0!==c?c:gd,e=null!==(u=this.stroke_.getLineCap())&&void 0!==u?u:dd,i=null!==(d=this.stroke_.getMiterLimit())&&void 0!==d?d:10);const f=this.calculateLineJoinSize_(n,o,i),g=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*g+f),lineCap:e,lineDash:s,lineDashOffset:r,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=ud),e.fillStyle=hd(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),i=0;"string"===typeof n&&(n=ju(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(e=ia(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const s=this.angle_-Math.PI/2,r=2*Math.PI/e;for(let o=0;o<e;o++){const e=s+o*r,a=o%2===0?n:i;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=ud,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}const Pd=Id;class Td extends Pd{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new Td({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}const Ld=Td;class Dd{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new Dd({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"===typeof t&&"src"in t){const e=ld(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then((()=>{this.patternImage_=null})),e.getImageState()===xu.IDLE&&e.load(),e.getImageState()===xu.LOADING&&(this.patternImage_=e)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}const Od=Dd;class Ad{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Ad({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const Fd=Ad;class Nd{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=Wd,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){var t,e;let n=this.getGeometry();return n&&"object"===typeof n&&(n=n.clone()),new Nd({geometry:null!==(t=n)&&void 0!==t?t:void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:null!==(e=this.getRenderer())&&void 0!==e?e:void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Wd,this.geometry_=t}setZIndex(t){this.zIndex_=t}}let zd=null;function Bd(t,e){if(!zd){const t=new Od({color:"rgba(255,255,255,0.4)"}),e=new Fd({color:"#3399CC",width:1.25});zd=[new Nd({image:new Ld({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return zd}function Wd(t){return t.getGeometry()}const jd=Nd;function Vd(t,e,n,i){return void 0!==n&&void 0!==i?[n/t,i/e]:void 0!==n?n/t:void 0!==i?i/e:1}class Gd extends Qu{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,i=void 0!==t.scale?t.scale:1,s=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:i,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:s,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const r=void 0!==t.img?t.img:null;let o,a=t.src;if(Ia(!(void 0!==a&&r),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!r||(a=r.src||Wo(r)),Ia(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Ia(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?o=xu.IDLE:void 0!==r&&(o=r instanceof HTMLImageElement?r.complete?r.src?xu.LOADED:xu.IDLE:xu.LOADING:xu.LOADED),this.color_=void 0!==t.color?ju(t.color):null,this.iconImage_=ld(r,a,this.crossOrigin_,o,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const i=this.getImage(1);if(i.width&&i.height)e=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(Vd(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(Vd(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Gd({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==xu.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==xu.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Eo,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Eo,t)}ready(){return this.iconImage_.ready()}}const Hd=Gd;class Ud{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=$u(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new Od({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Ud({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$u(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const Yd=Ud;let Kd=0;const Xd=0,qd=1<<Kd++,Zd=1<<Kd++,$d=1<<Kd++,Jd=1<<Kd++,Qd=1<<Kd++,tf=Math.pow(2,5)-1,ef={[qd]:"boolean",[Zd]:"number",[$d]:"string",[Jd]:"color",[Qd]:"number[]"},nf=Object.keys(ef).map(Number).sort(fo);function sf(t){const e=[];for(const i of nf)(t&(n=i))===n&&e.push(ef[i]);var n;return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function rf(t,e){return!!(t&e)}function of(t,e){return t===e}class af{constructor(t,e){this.type=t,this.value=e}}class lf{constructor(t,e){this.type=t,this.operator=e;for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];this.args=i}}function hf(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function cf(t,e,n){switch(typeof t){case"boolean":return new af(qd,t);case"number":return new af(Zd,t);case"string":{let e=$d;return function(t){try{return Wu(t),!0}catch(e){return!1}}(t)&&(e|=Jd),of(e&n,Xd)||(e&=n),new af(e,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(0===t.length)throw new Error("Empty expression");if("string"===typeof t[0])return function(t,e,n){const i=t[0],s=df[i];if(!s)throw new Error("Unknown operator: ".concat(i));return s(t,e,n)}(t,e,n);for(const s of t)if("number"!==typeof s)throw new Error("Expected an array of numbers");let i=Qd;return 3!==t.length&&4!==t.length||(i|=Jd),n&&(i&=n),new af(i,t)}const uf={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},df={[uf.Get]:yf((t=>{let[e,n]=t;return void 0!==n?function(t){switch(t){case"string":return $d;case"color":return Jd;case"number":return Zd;case"boolean":return qd;case"number[]":return Qd;default:throw new Error("Unrecognized type hint: ".concat(t))}}(n.value):tf}),gf(1,2),(function(t,e){const n=cf(t[1],e);if(!(n instanceof af))throw new Error("Expected a literal argument for get operation");if("string"!==typeof n.value)throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),3===t.length){return[n,cf(t[2],e)]}return[n]})),[uf.Var]:yf((t=>{let[e]=t;return e.type}),gf(1,1),(function(t,e,n,i){const s=t[1];if("string"!==typeof s)throw new Error("Expected a string argument for var operation");if(e.variables.add(s),!("variables"in e.style)||void 0===e.style.variables[s])return[new af(tf,s)];const r=cf(e.style.variables[s],e);if(r.value=s,i&&!rf(i,r.type))throw new Error("The variable ".concat(s," has type ").concat(sf(r.type)," but the following type was expected: ").concat(sf(i)));return[r]})),[uf.Id]:yf(Zd|$d,ff,(function(t,e){e.featureId=!0})),[uf.Concat]:yf($d,gf(2,1/0),pf(tf)),[uf.GeometryType]:yf($d,ff,(function(t,e){e.geometryType=!0})),[uf.Resolution]:yf(Zd,ff),[uf.Zoom]:yf(Zd,ff),[uf.Time]:yf(Zd,ff),[uf.Any]:yf(qd,gf(2,1/0),pf(qd)),[uf.All]:yf(qd,gf(2,1/0),pf(qd)),[uf.Not]:yf(qd,gf(1,1),pf(qd)),[uf.Equal]:yf(qd,gf(2,2),pf(tf),mf),[uf.NotEqual]:yf(qd,gf(2,2),pf(tf),mf),[uf.GreaterThan]:yf(qd,gf(2,2),pf(tf),mf),[uf.GreaterThanOrEqualTo]:yf(qd,gf(2,2),pf(tf),mf),[uf.LessThan]:yf(qd,gf(2,2),pf(tf),mf),[uf.LessThanOrEqualTo]:yf(qd,gf(2,2),pf(tf),mf),[uf.Multiply]:yf((t=>{let e=Zd|Jd;for(let n=0;n<t.length;n++)e&=t[n].type;return e}),gf(2,1/0),pf(Zd|Jd),mf),[uf.Coalesce]:yf((t=>{let e=tf;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),gf(2,1/0),pf(tf),mf),[uf.Divide]:yf(Zd,gf(2,2),pf(Zd)),[uf.Add]:yf(Zd,gf(2,1/0),pf(Zd)),[uf.Subtract]:yf(Zd,gf(2,2),pf(Zd)),[uf.Clamp]:yf(Zd,gf(3,3),pf(Zd)),[uf.Mod]:yf(Zd,gf(2,2),pf(Zd)),[uf.Pow]:yf(Zd,gf(2,2),pf(Zd)),[uf.Abs]:yf(Zd,gf(1,1),pf(Zd)),[uf.Floor]:yf(Zd,gf(1,1),pf(Zd)),[uf.Ceil]:yf(Zd,gf(1,1),pf(Zd)),[uf.Round]:yf(Zd,gf(1,1),pf(Zd)),[uf.Sin]:yf(Zd,gf(1,1),pf(Zd)),[uf.Cos]:yf(Zd,gf(1,1),pf(Zd)),[uf.Atan]:yf(Zd,gf(1,2),pf(Zd)),[uf.Sqrt]:yf(Zd,gf(1,1),pf(Zd)),[uf.Match]:yf((t=>{let e=tf;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),gf(4,1/0),_f,(function(t,e,n,i){const s=t.length-1;let r=cf(t[1],e).type;const o=cf(t[t.length-1],e);let a=void 0!==i?i&o.type:o.type;const l=new Array(s-2);for(let c=0;c<s-2;c+=2){const n=cf(t[c+2],e),i=cf(t[c+3],e);r&=n.type,a&=i.type,l[c]=n,l[c+1]=i}const h=$d|Zd|qd;if(!rf(h,r))throw new Error("Expected an input of type ".concat(sf(h)," for the interpolate operation")+", got ".concat(sf(r)," instead"));if(of(a,Xd))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let c=0;c<s-2;c+=2){const n=cf(t[c+2],e,r),i=cf(t[c+3],e,a);l[c]=n,l[c+1]=i}return[cf(t[1],e,r),...l,cf(t[t.length-1],e,a)]})),[uf.Between]:yf(qd,gf(3,3),pf(Zd)),[uf.Interpolate]:yf((t=>{let e=Jd|Zd;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e}),gf(6,1/0),_f,(function(t,e,n,i){const s=t[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":if(r=s[1],"number"!==typeof r)throw new Error("Expected a number base for exponential interpolation"+", got ".concat(JSON.stringify(r)," instead"));break;default:r=null}if(!r)throw new Error("Invalid interpolation type: ".concat(JSON.stringify(s)));r=cf(r,e);let o=cf(t[2],e);if(!rf(Zd,o.type))throw new Error("Expected an input of type number for the interpolate operation"+", got ".concat(sf(o.type)," instead"));o=cf(t[2],e,Zd);const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){let n=cf(t[l+3],e);if(!rf(Zd,n.type))throw new Error("Expected all stop input values in the interpolate operation to be of type number"+", got ".concat(sf(n.type)," at position ").concat(l+2," instead"));let i=cf(t[l+4],e);if(!rf(Zd|Jd,i.type))throw new Error("Expected all stop output values in the interpolate operation to be a number or color"+", got ".concat(sf(i.type)," at position ").concat(l+3," instead"));n=cf(t[l+3],e,Zd),i=cf(t[l+4],e,Zd|Jd),a[l]=n,a[l+1]=i}return[r,o,...a]})),[uf.Case]:yf((t=>{let e=tf;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),gf(3,1/0),(function(t,e){const n=t[0],i=t.length-1;if(i%2===0)throw new Error("An odd amount of arguments was expected for operation ".concat(n,", got ").concat(JSON.stringify(i)," instead"))}),(function(t,e,n,i){const s=cf(t[t.length-1],e);let r=void 0!==i?i&s.type:s.type;const o=new Array(t.length-1);for(let a=0;a<o.length-1;a+=2){const n=cf(t[a+1],e),i=cf(t[a+2],e);if(!rf(qd,n.type))throw new Error("Expected all conditions in the case operation to be of type boolean"+", got ".concat(sf(n.type)," at position ").concat(a," instead"));r&=i.type,o[a]=n,o[a+1]=i}if(of(r,Xd))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let a=0;a<o.length-1;a+=2)o[a+1]=cf(t[a+2],e,r);return o[o.length-1]=cf(t[t.length-1],e,r),o})),[uf.In]:yf(qd,gf(2,2),(function(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"===typeof n[0]){if("literal"!==n[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=$d|Zd;const s=new Array(n.length);for(let r=0;r<s.length;r++){const t=cf(n[r],e);i&=t.type,s[r]=t}if(of(i,Xd))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[cf(t[1],e,i),...s]})),[uf.Number]:yf(Zd,gf(1,1/0),pf(tf)),[uf.String]:yf($d,gf(1,1/0),pf(tf)),[uf.Array]:yf((t=>3===t.length||4===t.length?Qd|Jd:Qd),gf(1,1/0),pf(Zd)),[uf.Color]:yf(Jd,gf(1,4),pf(Zd)),[uf.Band]:yf(Zd,gf(1,3),pf(Zd)),[uf.Palette]:yf(Jd,gf(2,2),(function(t,e){const n=cf(t[1],e,Zd);if(n.type!==Zd)throw new Error("The first argument of palette must be an number, got ".concat(sf(n.type)," instead"));const i=t[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const s=new Array(i.length);for(let r=0;r<s.length;r++){const t=cf(i[r],e,Jd);if(!(t instanceof af))throw new Error("The palette color at index ".concat(r," must be a literal value"));if(!rf(t.type,Jd))throw new Error("The palette color at index ".concat(r," should be of type color, got ").concat(sf(t.type)," instead"));s[r]=t}return[n,...s]}))};function ff(t,e){const n=t[0];if(1!==t.length)throw new Error("Expected no arguments for ".concat(n," operation"));return[]}function gf(t,e){return function(n,i){const s=n[0],r=n.length-1;if(t===e){if(r!==t){const e=1===t?"":"s";throw new Error("Expected ".concat(t," argument").concat(e," for ").concat(s,", got ").concat(r))}}else if(r<t||r>e){const n=e===1/0?"".concat(t," or more"):"".concat(t," to ").concat(e);throw new Error("Expected ".concat(n," arguments for ").concat(s,", got ").concat(r))}}}function pf(t){return function(e,n){const i=e[0],s=e.length-1,r=new Array(s);for(let o=0;o<s;++o){const s=cf(e[o+1],n);if(!rf(t,s.type)){const e=sf(t),n=sf(s.type);throw new Error("Unexpected type for argument ".concat(o," of ").concat(i," operation")+", got ".concat(e," but expected ").concat(n))}s.type&=t,r[o]=s}return r}}function mf(t,e,n){const i=t[0],s=t.length-1;let r=tf;for(let a=0;a<n.length;++a)r&=n[a].type;if(r===Xd)throw new Error("No common type could be found for arguments of ".concat(i," operation"));const o=new Array(s);for(let a=0;a<s;++a)o[a]=cf(t[a+1],e,r);return o}function _f(t,e){const n=t[0],i=t.length-1;if(i%2===1)throw new Error("An even amount of arguments was expected for operation ".concat(n,", got ").concat(JSON.stringify(i)," instead"))}function yf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(e,i,s){const r=e[0];let o=[];for(let t=0;t<n.length;t++)o=n[t](e,i,o,s)||o;let a="function"===typeof t?t(o):t;if(void 0!==s){if(!rf(a,s))throw new Error("The following expression was expected to return ".concat(sf(s),", but returns ").concat(sf(a)," instead: ").concat(JSON.stringify(e)));a&=s}if(a===Xd)throw new Error("No matching type was found for the following expression: ".concat(JSON.stringify(e)));return new lf(a,r,...o)}}function vf(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return vf(t.getGeometries()[0]);default:return""}}function bf(t,e,n){const i=cf(t,n);if(!rf(e,i.type)){const t=sf(e),n=sf(i.type);throw new Error("Expected expression to be of type ".concat(t,", got ").concat(n))}return xf(i,n)}function xf(t,e){if(t instanceof af){if(t.type===Jd&&"string"===typeof t.value){const e=Wu(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case uf.Number:case uf.String:case uf.Coalesce:return function(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=xf(t.args[r],e);switch(n){case uf.Coalesce:return t=>{for(let e=0;e<i;++e){const n=s[e](t);if("undefined"!==typeof n&&null!==n)return n}throw new Error("Expected one of the values to be non-null")};case uf.Number:case uf.String:return t=>{for(let e=0;e<i;++e){const i=s[e](t);if(typeof i===n)return i}throw new Error("Expected one of the values to be a ".concat(n))};default:throw new Error("Unsupported assertion operator ".concat(n))}}(t,e);case uf.Get:case uf.Var:return function(t,e){const n=t.args[0],i=n.value;switch(t.operator){case uf.Get:return t=>t.properties[i];case uf.Var:return t=>t.variables[i];default:throw new Error("Unsupported accessor operator ".concat(t.operator))}}(t);case uf.Id:return t=>t.featureId;case uf.GeometryType:return t=>t.geometryType;case uf.Concat:{const n=t.args.map((t=>xf(t,e)));return t=>"".concat(...n.map((e=>e(t).toString())))}case uf.Resolution:return t=>t.resolution;case uf.Any:case uf.All:case uf.Not:return function(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=xf(t.args[r],e);switch(n){case uf.Any:return t=>{for(let e=0;e<i;++e)if(s[e](t))return!0;return!1};case uf.All:return t=>{for(let e=0;e<i;++e)if(!s[e](t))return!1;return!0};case uf.Not:return t=>!s[0](t);default:throw new Error("Unsupported logical operator ".concat(n))}}(t,e);case uf.Equal:case uf.NotEqual:case uf.LessThan:case uf.LessThanOrEqualTo:case uf.GreaterThan:case uf.GreaterThanOrEqualTo:return function(t,e){const n=t.operator,i=xf(t.args[0],e),s=xf(t.args[1],e);switch(n){case uf.Equal:return t=>i(t)===s(t);case uf.NotEqual:return t=>i(t)!==s(t);case uf.LessThan:return t=>i(t)<s(t);case uf.LessThanOrEqualTo:return t=>i(t)<=s(t);case uf.GreaterThan:return t=>i(t)>s(t);case uf.GreaterThanOrEqualTo:return t=>i(t)>=s(t);default:throw new Error("Unsupported comparison operator ".concat(n))}}(t,e);case uf.Multiply:case uf.Divide:case uf.Add:case uf.Subtract:case uf.Clamp:case uf.Mod:case uf.Pow:case uf.Abs:case uf.Floor:case uf.Ceil:case uf.Round:case uf.Sin:case uf.Cos:case uf.Atan:case uf.Sqrt:return function(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=xf(t.args[r],e);switch(n){case uf.Multiply:return t=>{let e=1;for(let n=0;n<i;++n)e*=s[n](t);return e};case uf.Divide:return t=>s[0](t)/s[1](t);case uf.Add:return t=>{let e=0;for(let n=0;n<i;++n)e+=s[n](t);return e};case uf.Subtract:return t=>s[0](t)-s[1](t);case uf.Clamp:return t=>{const e=s[0](t),n=s[1](t);if(e<n)return n;const i=s[2](t);return e>i?i:e};case uf.Mod:return t=>s[0](t)%s[1](t);case uf.Pow:return t=>Math.pow(s[0](t),s[1](t));case uf.Abs:return t=>Math.abs(s[0](t));case uf.Floor:return t=>Math.floor(s[0](t));case uf.Ceil:return t=>Math.ceil(s[0](t));case uf.Round:return t=>Math.round(s[0](t));case uf.Sin:return t=>Math.sin(s[0](t));case uf.Cos:return t=>Math.cos(s[0](t));case uf.Atan:return 2===i?t=>Math.atan2(s[0](t),s[1](t)):t=>Math.atan(s[0](t));case uf.Sqrt:return t=>Math.sqrt(s[0](t));default:throw new Error("Unsupported numeric operator ".concat(n))}}(t,e);case uf.Case:return function(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=xf(t.args[s],e);return t=>{for(let e=0;e<n-1;e+=2){if(i[e](t))return i[e+1](t)}return i[n-1](t)}}(t,e);case uf.Match:return function(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=xf(t.args[s],e);return t=>{const e=i[0](t);for(let s=1;s<n;s+=2)if(e===i[s](t))return i[s+1](t);return i[n-1](t)}}(t,e);case uf.Interpolate:return function(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=xf(t.args[s],e);return t=>{const e=i[0](t),s=i[1](t);let r,o;for(let a=2;a<n;a+=2){const n=i[a](t);let l=i[a+1](t);const h=Array.isArray(l);if(h&&(l=zu(l)),n>=s)return 2===a?l:h?Sf(e,s,r,o,n,l):wf(e,s,r,o,n,l);r=n,o=l}return o}}(t,e);default:throw new Error("Unsupported operator ".concat(n))}}function wf(t,e,n,i,s,r){const o=s-n;if(0===o)return i;const a=e-n;return i+(1===t?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1))*(r-i)}function Sf(t,e,n,i,s,r){if(0===s-n)return i;const o=Bu(i),a=Bu(r);let l=a[2]-o[2];l>180?l-=360:l<-180&&(l+=360);return Vu(function(t){const e=Mu.rgb(Pu.xyz(t));return e[3]=t[3],e}([wf(t,e,n,o[0],s,a[0]),wf(t,e,n,o[1],s,a[1]),o[2]+wf(t,e,n,0,s,l),wf(t,e,n,i[3],s,r[3])]))}function Cf(t){return!0}function Ef(t){const e=hf(),n=function(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s){const n=t[s],r="filter"in n?bf(n.filter,qd,e):Cf;let o;if(Array.isArray(n.style)){const t=n.style.length;o=new Array(t);for(let i=0;i<t;++i)o[i]=Mf(n.style[i],e)}else o=[Mf(n.style,e)];i[s]={filter:r,styles:o}}return function(e){const s=[];let r=!1;for(let o=0;o<n;++o){if((0,i[o].filter)(e)&&(!t[o].else||!r)){r=!0;for(const t of i[o].styles){const n=t(e);n&&s.push(n)}}}return s}}(t,e),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(t,s){if(i.properties=t.getPropertiesInternal(),i.resolution=s,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}return e.geometryType&&(i.geometryType=vf(t.getGeometry())),n(i)}}function kf(t){const e=hf(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=Mf(t[o],e);const s={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},r=new Array(n);return function(t,o){if(s.properties=t.getPropertiesInternal(),s.resolution=o,e.featureId){const e=t.getId();s.featureId=void 0!==e?e:null}let a=0;for(let e=0;e<n;++e){const t=i[e](s);t&&(r[a]=t,a+=1)}return r.length=a,r}}function Mf(t,e){const n=Rf(t,"",e),i=If(t,"",e),s=function(t,e){const n="text-",i=Tf(t,n+"value",e);if(!i)return null;const s=Rf(t,n,e),r=Rf(t,n+"background-",e),o=If(t,n,e),a=If(t,n+"background-",e),l=Tf(t,n+"font",e),h=Pf(t,n+"max-angle",e),c=Pf(t,n+"offset-x",e),u=Pf(t,n+"offset-y",e),d=Lf(t,n+"overflow",e),f=Tf(t,n+"placement",e),g=Pf(t,n+"repeat",e),p=Nf(t,n+"scale",e),m=Lf(t,n+"rotate-with-view",e),_=Pf(t,n+"rotation",e),y=Tf(t,n+"align",e),v=Tf(t,n+"justify",e),b=Tf(t,n+"baseline",e),x=Of(t,n+"padding",e),w=jf(t,n+"declutter-mode"),S=new Yd({declutterMode:w});return function(t){if(S.setText(i(t)),s&&S.setFill(s(t)),r&&S.setBackgroundFill(r(t)),o&&S.setStroke(o(t)),a&&S.setBackgroundStroke(a(t)),l&&S.setFont(l(t)),h&&S.setMaxAngle(h(t)),c&&S.setOffsetX(c(t)),u&&S.setOffsetY(u(t)),d&&S.setOverflow(d(t)),f){const e=f(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");S.setPlacement(e)}if(g&&S.setRepeat(g(t)),p&&S.setScale(p(t)),m&&S.setRotateWithView(m(t)),_&&S.setRotation(_(t)),y){const e=y(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");S.setTextAlign(e)}if(v){const e=v(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");S.setJustify(e)}if(b){const e=b(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");S.setTextBaseline(e)}return x&&S.setPadding(x(t)),S}}(t,e),r=function(t,e){if("icon-src"in t)return function(t,e){const n="icon-",i=n+"src",s=Gf(t[i],i),r=Af(t,n+"anchor",e),o=Nf(t,n+"scale",e),a=Pf(t,n+"opacity",e),l=Af(t,n+"displacement",e),h=Pf(t,n+"rotation",e),c=Lf(t,n+"rotate-with-view",e),u=Bf(t,n+"anchor-origin"),d=Wf(t,n+"anchor-x-units"),f=Wf(t,n+"anchor-y-units"),g=function(t,e){const n=t[e];if(void 0===n)return;return Uf(n,e)}(t,n+"color"),p=function(t,e){const n=t[e];if(void 0===n)return;if("string"!==typeof n)throw new Error("Expected a string for ".concat(e));return n}(t,n+"cross-origin"),m=function(t,e){const n=t[e];if(void 0===n)return;return Vf(n,e)}(t,n+"offset"),_=Bf(t,n+"offset-origin"),y=zf(t,n+"width"),v=zf(t,n+"height"),b=function(t,e){const n=t[e];if(void 0===n)return;if("number"===typeof n)return $u(n);if(!Array.isArray(n))throw new Error("Expected a number or size array for ".concat(e));if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error("Expected a number or size array for ".concat(e));return n}(t,n+"size"),x=jf(t,n+"declutter-mode"),w=new Hd({src:s,anchorOrigin:u,anchorXUnits:d,anchorYUnits:f,color:g,crossOrigin:p,offset:m,offsetOrigin:_,height:v,width:y,size:b,declutterMode:x});return function(t){return a&&w.setOpacity(a(t)),l&&w.setDisplacement(l(t)),h&&w.setRotation(h(t)),c&&w.setRotateWithView(c(t)),o&&w.setScale(o(t)),r&&w.setAnchor(r(t)),w}}(t,e);if("shape-points"in t)return function(t,e){const n="shape-",i=n+"points",s=n+"radius",r=Hf(t[i],i),o=Hf(t[s],s),a=Rf(t,n,e),l=If(t,n,e),h=Nf(t,n+"scale",e),c=Af(t,n+"displacement",e),u=Pf(t,n+"rotation",e),d=Lf(t,n+"rotate-with-view",e),f=zf(t,n+"radius2"),g=zf(t,n+"angle"),p=jf(t,n+"declutter-mode"),m=new Pd({points:r,radius:o,radius2:f,angle:g,declutterMode:p});return function(t){return a&&m.setFill(a(t)),l&&m.setStroke(l(t)),c&&m.setDisplacement(c(t)),u&&m.setRotation(u(t)),d&&m.setRotateWithView(d(t)),h&&m.setScale(h(t)),m}}(t,e);if("circle-radius"in t)return function(t,e){const n="circle-",i=Rf(t,n,e),s=If(t,n,e),r=Pf(t,n+"radius",e),o=Nf(t,n+"scale",e),a=Af(t,n+"displacement",e),l=Pf(t,n+"rotation",e),h=Lf(t,n+"rotate-with-view",e),c=jf(t,n+"declutter-mode"),u=new Ld({radius:5,declutterMode:c});return function(t){return r&&u.setRadius(r(t)),i&&u.setFill(i(t)),s&&u.setStroke(s(t)),a&&u.setDisplacement(a(t)),l&&u.setRotation(l(t)),h&&u.setRotateWithView(h(t)),o&&u.setScale(o(t)),u}}(t,e);return null}(t,e),o=Pf(t,"z-index",e);if(!n&&!i&&!s&&!r&&!So(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new jd;return function(t){let e=!0;if(n){const i=n(t);i&&(e=!1),a.setFill(i)}if(i){const n=i(t);n&&(e=!1),a.setStroke(n)}if(s){const n=s(t);n&&(e=!1),a.setText(n)}if(r){const n=r(t);n&&(e=!1),a.setImage(n)}return o&&a.setZIndex(o(t)),e?null:a}}function Rf(t,e,n){let i;if(i=e+"fill-pattern-src"in t?function(t,e,n){const i=Tf(t,e+"pattern-src",n),s=Ff(t,e+"pattern-offset",n),r=Ff(t,e+"pattern-size",n),o=Df(t,e+"color",n);return function(t){return{src:i(t),offset:s&&s(t),size:r&&r(t),color:o&&o(t)}}}(t,e+"fill-",n):Df(t,e+"fill-color",n),!i)return null;const s=new Od;return function(t){const e=i(t);return"none"===e?null:(s.setColor(e),s)}}function If(t,e,n){const i=Pf(t,e+"stroke-width",n),s=Df(t,e+"stroke-color",n);if(!i&&!s)return null;const r=Tf(t,e+"stroke-line-cap",n),o=Tf(t,e+"stroke-line-join",n),a=Of(t,e+"stroke-line-dash",n),l=Pf(t,e+"stroke-line-dash-offset",n),h=Pf(t,e+"stroke-miter-limit",n),c=new Fd;return function(t){if(s){const e=s(t);if("none"===e)return null;c.setColor(e)}if(i&&c.setWidth(i(t)),r){const e=r(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");c.setLineCap(e)}if(o){const e=o(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(e)}return a&&c.setLineDash(a(t)),l&&c.setLineDashOffset(l(t)),h&&c.setMiterLimit(h(t)),c}}function Pf(t,e,n){if(!(e in t))return;const i=bf(t[e],Zd,n);return function(t){return Hf(i(t),e)}}function Tf(t,e,n){if(!(e in t))return null;const i=bf(t[e],$d,n);return function(t){return Gf(i(t),e)}}function Lf(t,e,n){if(!(e in t))return null;const i=bf(t[e],qd,n);return function(t){const n=i(t);if("boolean"!==typeof n)throw new Error("Expected a boolean for ".concat(e));return n}}function Df(t,e,n){if(!(e in t))return null;const i=bf(t[e],Jd|$d,n);return function(t){return Uf(i(t),e)}}function Of(t,e,n){if(!(e in t))return null;const i=bf(t[e],Qd,n);return function(t){return Vf(i(t),e)}}function Af(t,e,n){if(!(e in t))return null;const i=bf(t[e],Qd,n);return function(t){const n=Vf(i(t),e);if(2!==n.length)throw new Error("Expected two numbers for ".concat(e));return n}}function Ff(t,e,n){if(!(e in t))return null;const i=bf(t[e],Qd,n);return function(t){return Yf(i(t),e)}}function Nf(t,e,n){if(!(e in t))return null;const i=bf(t[e],Qd|Zd,n);return function(t){return function(t,e){if("number"===typeof t)return t;return Yf(t,e)}(i(t),e)}}function zf(t,e){const n=t[e];if(void 0!==n){if("number"!==typeof n)throw new Error("Expected a number for ".concat(e));return n}}function Bf(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for ".concat(e));return n}}function Wf(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error("Expected pixels or fraction for ".concat(e));return n}}function jf(t,e){const n=t[e];if(void 0!==n){if("string"!==typeof n)throw new Error("Expected a string for ".concat(e));if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error("Expected declutter, obstacle, or none for ".concat(e));return n}}function Vf(t,e){if(!Array.isArray(t))throw new Error("Expected an array for ".concat(e));const n=t.length;for(let i=0;i<n;++i)if("number"!==typeof t[i])throw new Error("Expected an array of numbers for ".concat(e));return t}function Gf(t,e){if("string"!==typeof t)throw new Error("Expected a string for ".concat(e));return t}function Hf(t,e){if("number"!==typeof t)throw new Error("Expected a number for ".concat(e));return t}function Uf(t,e){if("string"===typeof t)return t;const n=Vf(t,e),i=n.length;if(i<3||i>4)throw new Error("Expected a color with 3 or 4 values for ".concat(e));return n}function Yf(t,e){const n=Vf(t,e);if(2!==n.length)throw new Error("Expected an array of two numbers for ".concat(e));return n}const Kf="renderOrder";const Xf=class extends vu{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Kf)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter===!1&&(t.declutter[n]=new qu(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(Kf,t)}setStyle(t){this.style_=function(t){if(void 0===t)return Bd;if(!t)return null;if("function"===typeof t)return t;if(t instanceof jd)return t;if(!Array.isArray(t))return kf([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof jd){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!(e instanceof jd))throw new Error("Expected a list of style instances");n[i]=e}return n}if("style"in n){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[i]=e}return Ef(n)}const i=t;return kf(i)}(t),this.styleFunction_=null===t?void 0:function(t){let e;if("function"===typeof t)e=t;else{let n;Array.isArray(t)?n=t:(Ia("function"===typeof t.getZIndex,"Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()}},qf={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Zf=[qf.FILL],$f=[qf.STROKE],Jf=[qf.BEGIN_PATH],Qf=[qf.CLOSE_PATH],tg=qf;const eg=class{drawCustom(t,e,n,i,s){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,n){}drawFeature(t,e,n){}drawGeometryCollection(t,e,n){}drawLineString(t,e,n){}drawMultiLineString(t,e,n){}drawMultiPoint(t,e,n){}drawMultiPolygon(t,e,n){}drawPoint(t,e,n){}drawPolygon(t,e,n){}drawText(t,e,n){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}};const ng=class extends eg{constructor(t,e,n,i){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let r=s.length;for(let o=0,a=t.length;o<a;o+=e)i[0]=t[o],i[1]=t[o+1],Ga(n,i)&&(s[r++]=i[0],s[r++]=i[1]);return r}appendFlatLineCoordinates(t,e,n,i,s,r){const o=this.coordinates;let a=o.length;const l=this.getBufferedMaxExtent();r&&(e+=i);let h=t[e],c=t[e+1];const u=this.tmpCoordinate_;let d,f,g,p=!0;for(d=e+i;d<n;d+=i)u[0]=t[d],u[1]=t[d+1],g=Ya(l,u),g!==f?(p&&(o[a++]=h,o[a++]=c,p=!1),o[a++]=u[0],o[a++]=u[1]):g===za.INTERSECTING?(o[a++]=u[0],o[a++]=u[1],p=!1):p=!0,h=u[0],c=u[1],f=g;return(s&&p||d===e+i)&&(o[a++]=h,o[a++]=c),a}drawCustomCoordinates_(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const o=n[r],a=this.appendFlatLineCoordinates(t,e,o,i,!1,!1);s.push(a),e=o}return e}drawCustom(t,e,n,i,s){this.beginGeometry(t,e,s);const r=t.getType(),o=t.getStride(),a=this.coordinates.length;let l,h,c,u,d;switch(r){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),u=[];const e=t.getEndss();d=0;for(let t=0,n=e.length;t<n;++t){const n=[];d=this.drawCustomCoordinates_(l,d,e[t],o,n),u.push(n)}this.instructions.push([tg.CUSTOM,a,u,t,n,ac,s]),this.hitDetectionInstructions.push([tg.CUSTOM,a,u,t,i||n,ac,s]);break;case"Polygon":case"MultiLineString":c=[],l="Polygon"==r?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,t.getEnds(),o,c),this.instructions.push([tg.CUSTOM,a,c,t,n,oc,s]),this.hitDetectionInstructions.push([tg.CUSTOM,a,c,t,i||n,oc,s]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(l,0,l.length,o,!1,!1),this.instructions.push([tg.CUSTOM,a,h,t,n,rc,s]),this.hitDetectionInstructions.push([tg.CUSTOM,a,h,t,i||n,rc,s]);break;case"MultiPoint":l=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(l,o),h>a&&(this.instructions.push([tg.CUSTOM,a,h,t,n,rc,s]),this.hitDetectionInstructions.push([tg.CUSTOM,a,h,t,i||n,rc,s]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),h=this.coordinates.length,this.instructions.push([tg.CUSTOM,a,h,t,n,void 0,s]),this.hitDetectionInstructions.push([tg.CUSTOM,a,h,t,i||n,void 0,s])}this.endGeometry(e)}beginGeometry(t,e,n){this.beginGeometryInstruction1_=[tg.BEGIN_GEOMETRY,e,0,t,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[tg.BEGIN_GEOMETRY,e,0,t,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let i,s,r=-1;for(e=0;e<n;++e)i=t[e],s=i[0],s==tg.END_GEOMETRY?r=e:s==tg.BEGIN_GEOMETRY&&(i[2]=e,po(this.hitDetectionInstructions,r,e),r=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillPatternScale=e&&"object"===typeof e&&"src"in e?this.pixelRatio:1,n.fillStyle=hd(e||ud)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=hd(t||pd);const i=e.getLineCap();n.lineCap=void 0!==i?i:dd;const s=e.getLineDash();n.lineDash=s?s.slice():fd;const r=e.getLineDashOffset();n.lineDashOffset=r||0;const o=e.getLineJoin();n.lineJoin=void 0!==o?o:gd;const a=e.getWidth();n.lineWidth=void 0!==a?a:1;const l=e.getMiterLimit();n.miterLimit=void 0!==l?l:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[tg.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(t.fillPatternScale),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[tg.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,i=t.lineCap,s=t.lineDash,r=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||s!=t.currentLineDash&&!_o(t.currentLineDash,s)||t.currentLineDashOffset!=r||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=r,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[tg.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ja(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Wa(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};const ig=class extends ng{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!Ga(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),s=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,s);this.instructions.push([tg.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([tg.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),s=[];for(let a=0,l=i.length;a<l;a+=t.getStride())this.maxExtent&&!Ga(this.maxExtent,i.slice(a,a+2))||s.push(i[a],i[a+1]);const r=this.coordinates.length,o=this.appendFlatPointCoordinates(s,2);this.instructions.push([tg.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([tg.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}};const sg=class extends ng{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const s=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),o=[tg.MOVE_TO_LINE_TO,s,r];return this.instructions.push(o),this.hitDetectionInstructions.push(o),n}drawLineString(t,e,n){const i=this.state,s=i.strokeStyle,r=i.lineWidth;if(void 0===s||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([tg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,fd,0],Jf);const o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push($f),this.endGeometry(e)}drawMultiLineString(t,e,n){const i=this.state,s=i.strokeStyle,r=i.lineWidth;if(void 0===s||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([tg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,fd,0],Jf);const o=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride();let h=0;for(let c=0,u=o.length;c<u;++c)h=this.drawFlatCoordinates_(a,h,o[c],l);this.hitDetectionInstructions.push($f),this.endGeometry(e)}finish(){const t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push($f),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push($f),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Jf)}};const rg=class extends ng{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinatess_(t,e,n,i){const s=this.state,r=void 0!==s.fillStyle,o=void 0!==s.strokeStyle,a=n.length;this.instructions.push(Jf),this.hitDetectionInstructions.push(Jf);for(let l=0;l<a;++l){const s=n[l],r=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,s,i,!0,!o),h=[tg.MOVE_TO_LINE_TO,r,a];this.instructions.push(h),this.hitDetectionInstructions.push(h),o&&(this.instructions.push(Qf),this.hitDetectionInstructions.push(Qf)),e=s}return r&&(this.instructions.push(Zf),this.hitDetectionInstructions.push(Zf)),o&&(this.instructions.push($f),this.hitDetectionInstructions.push($f)),e}drawCircle(t,e,n){const i=this.state,s=i.fillStyle,r=i.strokeStyle;if(void 0===s&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([tg.SET_FILL_STYLE,ud]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([tg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,fd,0]);const o=t.getFlatCoordinates(),a=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);const h=[tg.CIRCLE,l];this.instructions.push(Jf,h),this.hitDetectionInstructions.push(Jf,h),void 0!==i.fillStyle&&(this.instructions.push(Zf),this.hitDetectionInstructions.push(Zf)),void 0!==i.strokeStyle&&(this.instructions.push($f),this.hitDetectionInstructions.push($f)),this.endGeometry(e)}drawPolygon(t,e,n){const i=this.state,s=i.fillStyle,r=i.strokeStyle;if(void 0===s&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([tg.SET_FILL_STYLE,ud]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([tg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,fd,0]);const o=t.getEnds(),a=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(a,0,o,l),this.endGeometry(e)}drawMultiPolygon(t,e,n){const i=this.state,s=i.fillStyle,r=i.strokeStyle;if(void 0===s&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([tg.SET_FILL_STYLE,ud]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([tg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,fd,0]);const o=t.getEndss(),a=t.getOrientedFlatCoordinates(),l=t.getStride();let h=0;for(let c=0,u=o.length;c<u;++c)h=this.drawFlatCoordinatess_(a,h,o[c],l);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,i=e.length;n<i;++n)e[n]=Rl(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}};function og(t,e,n,i,s){const r=[];let o=n,a=0,l=e.slice(n,2);for(;a<t&&o+s<i;){const[n,i]=l.slice(-2),h=e[o+s],c=e[o+s+1],u=Math.sqrt((h-n)*(h-n)+(c-i)*(c-i));if(a+=u,a>=t){const e=(t-a+u)/u,d=wl(n,h,e),f=wl(i,c,e);l.push(d,f),r.push(l),l=[d,f],a==t&&(o+=s),a=0}else if(a<t)l.push(e[o+s],e[o+s+1]),o+=s;else{const t=u-a,e=wl(n,h,t/u),d=wl(i,c,t/u);l.push(e,d),r.push(l),l=[e,d],a=0,o+=s}}return a>0&&r.push(l),r}function ag(t,e,n,i,s){let r,o,a,l,h,c,u,d,f,g,p=n,m=n,_=0,y=0,v=n;for(o=n;o<i;o+=s){const n=e[o],i=e[o+1];void 0!==h&&(f=n-h,g=i-c,l=Math.sqrt(f*f+g*g),void 0!==u&&(y+=a,r=Math.acos((u*f+d*g)/(a*l)),r>t&&(y>_&&(_=y,p=v,m=o),y=0,v=o-s)),a=l,u=f,d=g),h=n,c=i}return y+=l,y>_?[v,o]:[p,m]}const lg={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const hg=class extends ng{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[ud]={fillStyle:ud},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const i=this.textFillState_,s=this.textStrokeState_,r=this.textState_;if(""===this.text_||!r||!i&&!s)return;const o=this.coordinates;let a=o.length;const l=t.getType();let h=null,c=t.getStride();if("line"!==r.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let i=r.overflow?null:[];switch(l){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),c=2;break;case"Polygon":h=t.getFlatInteriorPoint(),r.overflow||i.push(h[2]/this.resolution),c=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();h=[];for(let t=0,n=e.length;t<n;t+=3)r.overflow||i.push(e[t+2]/this.resolution),h.push(e[t],e[t+1]);if(0===h.length)return;c=2}const s=this.appendFlatPointCoordinates(h,c);if(s===a)return;if(i&&(s-a)/2!==h.length/c){let t=a/2;i=i.filter(((e,n)=>{const i=o[2*(t+n)]===h[n*c]&&o[2*(t+n)+1]===h[n*c+1];return i||--t,i}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&this.updateFillStyle(this.state,this.createFill),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,n);let u=r.padding;if(u!=yd&&(r.scale[0]<0||r.scale[1]<0)){let t=r.padding[0],e=r.padding[1],n=r.padding[2],i=r.padding[3];r.scale[0]<0&&(e=-e,i=-i),r.scale[1]<0&&(t=-t,n=-n),u=[t,e,n,i]}const d=this.pixelRatio;this.instructions.push([tg.DRAW_IMAGE,a,s,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,u==yd?yd:u.map((function(t){return t*d})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const f=1/d,g=this.state.fillStyle;r.backgroundFill&&(this.state.fillStyle=ud,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([tg.DRAW_IMAGE,a,s,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[f,f],NaN,this.declutterMode_,this.declutterImageWithText_,u,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?ud:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),r.backgroundFill&&(this.state.fillStyle=g,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!fl(this.maxExtent,t.getExtent()))return;let i;if(h=t.getFlatCoordinates(),"LineString"==l)i=[h.length];else if("MultiLineString"==l)i=t.getEnds();else if("Polygon"==l)i=t.getEnds().slice(0,1);else if("MultiPolygon"==l){const e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e,n);const s=r.repeat,u=s?void 0:r.textAlign;let d=0;for(let t=0,e=i.length;t<e;++t){let e;e=s?og(s*this.resolution,h,d,i[t],c):[h.slice(d,i[t])];for(let n=0,s=e.length;n<s;++n){const s=e[n];let l=0,h=s.length;if(void 0==u){const t=ag(r.maxAngle,s,0,s.length,2);l=t[0],h=t[1]}for(let t=l;t<h;t+=c)o.push(s[t],s[t+1]);const f=o.length;d=i[t],this.drawChars_(a,f),a=f}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:e.font,textAlign:e.textAlign||md,justify:e.justify,textBaseline:e.textBaseline||_d,scale:e.scale});const r=this.fillKey_;n&&(r in this.fillStates||(this.fillStates[r]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,r=this.textKey_,o=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=lg[i.textBaseline],h=this.textOffsetY_*a,c=this.text_,u=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([tg.DRAW_CHARS,t,e,l,i.overflow,o,i.maxAngle,a,h,s,u*a,c,r,1,this.declutterMode_]),this.hitDetectionInstructions.push([tg.DRAW_CHARS,t,e,l,i.overflow,o?ud:o,i.maxAngle,a,h,s,u*a,c,r,1/a,this.declutterMode_])}setTextStyle(t,e){let n,i,s;if(t){const e=t.getFill();e?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=hd(e.getColor()||ud)):(i=null,this.textFillState_=i);const r=t.getStroke();if(r){s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const t=r.getLineDash(),e=r.getLineDashOffset(),n=r.getWidth(),i=r.getMiterLimit();s.lineCap=r.getLineCap()||dd,s.lineDash=t?t.slice():fd,s.lineDashOffset=void 0===e?0:e,s.lineJoin=r.getLineJoin()||gd,s.lineWidth=void 0===n?1:n,s.miterLimit=void 0===i?10:i,s.strokeStyle=hd(r.getColor()||pd)}else s=null,this.textStrokeState_=s;n=this.textState_;const o=t.getFont()||cd;Sd(o);const a=t.getScaleArray();n.overflow=t.getOverflow(),n.font=o,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||_d,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||yd,n.scale=void 0===a?[1,1]:a;const l=t.getOffsetX(),h=t.getOffsetY(),c=t.getRotateWithView(),u=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===h?0:h,this.textRotateWithView_=void 0!==c&&c,this.textRotation_=void 0===u?0:u,this.strokeKey_=s?("string"==typeof s.strokeStyle?s.strokeStyle:Wo(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?"string"==typeof i.fillStyle?i.fillStyle:"|"+Wo(i.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},cg={Circle:rg,Default:ng,Image:ig,LineString:sg,Polygon:rg,Text:hg};const ug=class{constructor(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const i in n){const s=n[i].finish();t[e][i]=s}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let s=i[e];if(void 0===s){s=new(0,cg[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=s}return s}};function dg(t,e,n,i,s,r,o,a,l,h,c,u){let d=t[e],f=t[e+1],g=0,p=0,m=0,_=0;function y(){g=d,p=f,d=t[e+=i],f=t[e+1],_+=m,m=Math.sqrt((d-g)*(d-g)+(f-p)*(f-p))}do{y()}while(e<n-i&&_+m<r);let v=0===m?0:(r-_)/m;const b=wl(g,d,v),x=wl(p,f,v),w=e-i,S=_,C=r+a*l(h,s,c);for(;e<n-i&&_+m<C;)y();v=0===m?0:(C-_)/m;const E=wl(g,d,v),k=wl(p,f,v);let M;if(u){const t=[b,x,E,k];Bh(t,0,4,2,u,t,t),M=t[0]>t[2]}else M=b>E;const R=Math.PI,I=[],P=w+i===e;let T;if(m=0,_=S,d=t[e=w],f=t[e+1],P){y(),T=Math.atan2(f-p,d-g),M&&(T+=T>0?-R:R);const t=(E+b)/2,e=(k+x)/2;return I[0]=[t,e,(C-r)/2,T,s],I}for(let L=0,D=(s=s.replace(/\n/g," ")).length;L<D;){y();let t=Math.atan2(f-p,d-g);if(M&&(t+=t>0?-R:R),void 0!==T){let e=t-T;if(e+=e>R?-2*R:e<-R?2*R:0,Math.abs(e)>o)return null}T=t;const u=L;let b=0;for(;L<D;++L){const t=a*l(h,s[M?D-L-1:L],c);if(e+i<n&&_+m<r+b+t/2)break;b+=t}if(L===u)continue;const x=M?s.substring(D-u,D-L):s.substring(u,L);v=0===m?0:(r+b/2-_)/m;const w=wl(g,d,v),S=wl(p,f,v);I.push([w,S,b/2,t,x]),r+=b}return I}const fg=[1/0,1/0,-1/0,-1/0],gg=[],pg=[],mg=[],_g=[];function yg(t){return t[3].declutterBox}const vg=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function bg(t,e){return"start"===e?e=vg.test(t)?"right":"left":"end"===e&&(e=vg.test(t)?"left":"right"),lg[e]}function xg(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}const wg=class{constructor(t,e,n,i,s){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new Cu:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,n,i){const s=t+e+n+i;if(this.labels_[s])return this.labels_[s];const r=i?this.strokeStates[i]:null,o=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,h=[a.scale[0]*l,a.scale[1]*l],c=Array.isArray(t),u=a.justify?lg[a.justify]:bg(Array.isArray(t)?t[0]:t,a.textAlign||md),d=i&&r.lineWidth?r.lineWidth:0,f=c?t:t.split("\n").reduce(xg,[]),{width:g,height:p,widths:m,heights:_,lineWidths:y}=function(t,e){const n=[],i=[],s=[];let r=0,o=0,a=0,l=0;for(let h=0,c=e.length;h<=c;h+=2){const u=e[h];if("\n"===u||h===c){r=Math.max(r,o),s.push(o),o=0,a+=l;continue}const d=e[h+1]||t.font,f=kd(d,u);n.push(f),o+=f;const g=Cd(d);i.push(g),l=Math.max(l,g)}return{width:r,height:a,widths:n,heights:i,lineWidths:s}}(a,f),v=g+d,b=[],x=(v+2)*h[0],w=(p+d)*h[1],S={width:x<0?Math.floor(x):Math.ceil(x),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:b};1==h[0]&&1==h[1]||b.push("scale",h),i&&(b.push("strokeStyle",r.strokeStyle),b.push("lineWidth",d),b.push("lineCap",r.lineCap),b.push("lineJoin",r.lineJoin),b.push("miterLimit",r.miterLimit),b.push("setLineDash",[r.lineDash]),b.push("lineDashOffset",r.lineDashOffset)),n&&b.push("fillStyle",o.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const C=.5-u;let E=u*v+C*d;const k=[],M=[];let R,I=0,P=0,T=0,L=0;for(let D=0,O=f.length;D<O;D+=2){const t=f[D];if("\n"===t){P+=I,I=0,E=u*v+C*d,++L;continue}const e=f[D+1]||a.font;e!==R&&(i&&k.push("font",e),n&&M.push("font",e),R=e),I=Math.max(I,_[T]);const s=[t,E+C*m[T]+u*(m[T]-y[L]),.5*(d+I)+P];E+=m[T],i&&k.push("strokeText",s),n&&M.push("fillText",s),++T}return Array.prototype.push.apply(b,k),Array.prototype.push.apply(b,M),this.labels_[s]=S,S}replayTextBackground_(t,e,n,i,s,r,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,s),t.lineTo.apply(t,e),r&&(this.alignAndScaleFill_=r[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,i,s,r,o,a,l,h,c,u,d,f,g,p){let m=n-(o*=u[0]),_=i-(a*=u[1]);const y=s+l>t?t-l:s,v=r+h>e?e-h:r,b=f[3]+y*u[0]+f[1],x=f[0]+v*u[1]+f[2],w=m-f[3],S=_-f[0];let C;return(g||0!==c)&&(gg[0]=w,_g[0]=w,gg[1]=S,pg[1]=S,pg[0]=w+b,mg[0]=pg[0],mg[1]=S+x,_g[1]=mg[1]),0!==c?(C=Oa([1,0,0,1,0,0],n,i,1,1,c,-n,-i),Da(C,gg),Da(C,pg),Da(C,mg),Da(C,_g),Xa(Math.min(gg[0],pg[0],mg[0],_g[0]),Math.min(gg[1],pg[1],mg[1],_g[1]),Math.max(gg[0],pg[0],mg[0],_g[0]),Math.max(gg[1],pg[1],mg[1],_g[1]),fg)):Xa(Math.min(w,w+b),Math.min(S,S+x),Math.max(w,w+b),Math.max(S,S+x),fg),d&&(m=Math.round(m),_=Math.round(_)),{drawImageX:m,drawImageY:_,drawImageW:y,drawImageH:v,originX:l,originY:h,declutterBox:{minX:fg[0],minY:fg[1],maxX:fg[2],maxY:fg[3],value:p},canvasTransform:C,scale:u}}replayImageOrLabel_(t,e,n,i,s,r,o){const a=!(!r&&!o),l=i.declutterBox,h=o?o[2]*i.scale[0]/2:0;return l.minX-h<=e[0]&&l.maxX+h>=0&&l.minY-h<=e[1]&&l.maxY+h>=0&&(a&&this.replayTextBackground_(t,gg,pg,mg,_g,r,o),Rd(t,i.canvasTransform,s,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const n=Da(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(n[0]%i,n[1]%i),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,i){const s=this.textStates[e],r=this.createLabel(t,e,i,n),o=this.strokeStates[n],a=this.pixelRatio,l=bg(Array.isArray(t)?t[0]:t,s.textAlign||md),h=lg[s.textBaseline||_d],c=o&&o.lineWidth?o.lineWidth:0;return{label:r,anchorX:l*(r.width/a-2*s.scale[0])+2*(.5-l)*c,anchorY:h*r.height/a+2*(.5-h)*c}}execute_(t,e,n,i,s,r,o,a){const l=this.zIndexContext_;let h;var c,u;this.pixelCoordinates_&&_o(n,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=zh(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),c=this.renderedTransform_,u=n,c[0]=u[0],c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5]);let d=0;const f=i.length;let g,p,m,_,y,v,b,x,w,S,C,E,k,M=0,R=0,I=0,P=null,T=null;const L=this.coordinateCache_,D=this.viewRotation_,O=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,A={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},F=this.instructions!=i||this.overlaps?0:200;let N,z,B,W;for(;d<f;){const n=i[d];switch(n[0]){case tg.BEGIN_GEOMETRY:N=n[1],W=n[3],N.getGeometry()?void 0===o||fl(o,W.getExtent())?++d:d=n[2]+1:d=n[2],l&&(l.zIndex=n[4]);break;case tg.BEGIN_PATH:R>F&&(this.fill_(t),R=0),I>F&&(t.stroke(),I=0),R||I||(t.beginPath(),y=NaN,v=NaN),++d;break;case tg.CIRCLE:M=n[1];const i=h[M],c=h[M+1],u=h[M+2]-i,f=h[M+3]-c,j=Math.sqrt(u*u+f*f);t.moveTo(i+j,c),t.arc(i,c,j,0,2*Math.PI,!0),++d;break;case tg.CLOSE_PATH:t.closePath(),++d;break;case tg.CUSTOM:M=n[1],g=n[2];const V=n[3],G=n[4],H=n[5];A.geometry=V,A.feature=N,d in L||(L[d]=[]);const U=L[d];H?H(h,M,g,2,U):(U[0]=h[M],U[1]=h[M+1],U.length=2),l&&(l.zIndex=n[6]),G(U,A),++d;break;case tg.DRAW_IMAGE:M=n[1],g=n[2],w=n[3],p=n[4],m=n[5];let Y=n[6];const K=n[7],X=n[8],q=n[9],Z=n[10];let $=n[11];const J=n[12];let Q=n[13];_=n[14]||"declutter";const tt=n[15];if(!w&&n.length>=20){S=n[19],C=n[20],E=n[21],k=n[22];const t=this.drawLabelWithPointPlacement_(S,C,E,k);w=t.label,n[3]=w;const e=n[23];p=(t.anchorX-e)*this.pixelRatio,n[4]=p;const i=n[24];m=(t.anchorY-i)*this.pixelRatio,n[5]=m,Y=w.height,n[6]=Y,Q=w.width,n[13]=Q}let et,nt,it,st;n.length>25&&(et=n[25]),n.length>17?(nt=n[16],it=n[17],st=n[18]):(nt=yd,it=!1,st=!1),Z&&O?$+=D:Z||O||($-=D);let rt=0;for(;M<g;M+=2){if(et&&et[rt++]<Q/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(w.width,w.height,h[M],h[M+1],Q,Y,p,m,X,q,$,J,s,nt,it||st,N),i=[t,e,w,n,K,it?P:null,st?T:null];if(a){let t,e,s,r,o;if(tt){const n=g-M;if(!tt[n]){tt[n]={args:i,declutterMode:_};continue}const r=tt[n];t=r.args,e=r.declutterMode,delete tt[n],s=yg(t)}if(!t||"declutter"===e&&a.collides(s)||(r=!0),"declutter"===_&&a.collides(n.declutterBox)||(o=!0),"declutter"===e&&"declutter"===_){const t=r&&o;r=t,o=t}r&&("none"!==e&&a.insert(s),this.replayImageOrLabel_.apply(this,t)),o&&("none"!==_&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}else this.replayImageOrLabel_.apply(this,i)}++d;break;case tg.DRAW_CHARS:const ot=n[1],at=n[2],lt=n[3],ht=n[4];k=n[5];const ct=n[6],ut=n[7],dt=n[8];E=n[9];const ft=n[10];S=n[11],C=n[12];const gt=[n[13],n[13]];_=n[14]||"declutter";const pt=this.textStates[C],mt=pt.font,_t=[pt.scale[0]*ut,pt.scale[1]*ut];let yt;mt in this.widths_?yt=this.widths_[mt]:(yt={},this.widths_[mt]=yt);const vt=cc(h,ot,at,2),bt=Math.abs(_t[0])*Md(mt,S,yt);if(ht||bt<=vt){const n=dg(h,ot,at,2,S,(vt-bt)*bg(S,this.textStates[C].textAlign),ct,Math.abs(_t[0]),Md,mt,yt,O?0:this.viewRotation_);t:if(n){const i=[];let s,r,o,l,h;if(E)for(s=0,r=n.length;s<r;++s){h=n[s],o=h[4],l=this.createLabel(o,C,"",E),p=h[2]+(_t[0]<0?-ft:ft),m=lt*l.height+2*(.5-lt)*ft*_t[1]/_t[0]-dt;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,h[0],h[1],l.width,l.height,p,m,0,0,h[3],gt,!1,yd,!1,N);if(a&&"declutter"===_&&a.collides(r.declutterBox))break t;i.push([t,e,l,r,1,null,null])}if(k)for(s=0,r=n.length;s<r;++s){h=n[s],o=h[4],l=this.createLabel(o,C,k,""),p=h[2],m=lt*l.height-dt;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,h[0],h[1],l.width,l.height,p,m,0,0,h[3],gt,!1,yd,!1,N);if(a&&"declutter"===_&&a.collides(r.declutterBox))break t;i.push([t,e,l,r,1,null,null])}a&&"none"!==_&&a.load(i.map(yg));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++d;break;case tg.END_GEOMETRY:if(void 0!==r){N=n[1];const t=r(N,W);if(t)return t}++d;break;case tg.FILL:F?R++:this.fill_(t),++d;break;case tg.MOVE_TO_LINE_TO:for(M=n[1],g=n[2],z=h[M],B=h[M+1],b=z+.5|0,x=B+.5|0,b===y&&x===v||(t.moveTo(z,B),y=b,v=x),M+=2;M<g;M+=2)z=h[M],B=h[M+1],b=z+.5|0,x=B+.5|0,M!=g-2&&b===y&&x===v||(t.lineTo(z,B),y=b,v=x);++d;break;case tg.SET_FILL_STYLE:P=n,this.alignAndScaleFill_=n[2],R&&(this.fill_(t),R=0,I&&(t.stroke(),I=0)),t.fillStyle=n[1],++d;break;case tg.SET_STROKE_STYLE:T=n,I&&(t.stroke(),I=0),this.setStrokeStyle_(t,n),++d;break;case tg.STROKE:F?I++:t.stroke(),++d;break;default:++d}}R&&this.fill_(t),I&&t.stroke()}execute(t,e,n,i,s,r){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,s,void 0,void 0,r)}executeHitDetection(t,e,n,i,s){return this.viewRotation_=n,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,i,s)}},Sg=["Polygon","Circle","LineString","Image","Text","Default"],Cg=["Image","Text"],Eg=Sg.filter((t=>!Cg.includes(t)));const kg={};const Mg=class{constructor(t,e,n,i,s,r,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_=[],this.createExecutors_(s,o)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t,e){for(const n in t){let i=this.executorsByZIndex_[n];void 0===i&&(i={},this.executorsByZIndex_[n]=i);const s=t[n];for(const t in s){const n=s[t];i[t]=new wg(this.resolution_,this.pixelRatio_,this.overlaps_,n,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,i=t.length;e<i;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,i,s,r){const o=2*(i=Math.round(i))+1,a=Oa(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=ia(o,o,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;let c;h.canvas.width!==o||h.canvas.height!==o?(h.canvas.width=o,h.canvas.height=o):l||h.clearRect(0,0,o,o),void 0!==this.renderBuffer_&&(c=[1/0,1/0,-1/0,-1/0],tl(c,t),Wa(c,e*(this.renderBuffer_+i),c));const u=function(t){if(void 0!==kg[t])return kg[t];const e=2*t+1,n=t*t,i=new Array(n+1);for(let r=0;r<=t;++r)for(let s=0;s<=t;++s){const o=r*r+s*s;if(o>n)break;let a=i[o];a||(a=[],i[o]=a),a.push(4*((t+r)*e+(t+s))+3),r>0&&a.push(4*((t-r)*e+(t+s))+3),s>0&&(a.push(4*((t+r)*e+(t-s))+3),r>0&&a.push(4*((t-r)*e+(t-s))+3))}const s=[];for(let r=0,o=i.length;r<o;++r)i[r]&&s.push(...i[r]);return kg[t]=s,s}(i);let d;function f(t,e){const n=h.getImageData(0,0,o,o).data;for(let a=0,l=u.length;a<l;a++)if(n[u[a]]>0){if(!r||"Image"!==d&&"Text"!==d||r.includes(t)){const n=(u[a]-3)/4,r=i-n%o,l=i-(n/o|0),h=s(t,e,r*r+l*l);if(h)return h}h.clearRect(0,0,o,o);break}}const g=Object.keys(this.executorsByZIndex_).map(Number);let p,m,_,y,v;for(g.sort(fo),p=g.length-1;p>=0;--p){const t=g[p].toString();for(_=this.executorsByZIndex_[t],m=Sg.length-1;m>=0;--m)if(d=Sg[m],y=_[d],void 0!==y&&(v=y.executeHitDetection(h,a,n,f,c),v))return v}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],i=e[1],s=e[2],r=e[3],o=[n,i,n,r,s,r,s,i];return zh(o,0,8,2,t,o),o}isEmpty(){return So(this.executorsByZIndex_)}execute(t,e,n,i,s,r,o){const a=Object.keys(this.executorsByZIndex_).map(Number);let l,h,c,u,d,f;for(a.sort(fo),r=r||Sg,o&&a.reverse(),l=0,h=a.length;l<h;++l){const h=a[l].toString();for(d=this.executorsByZIndex_[h],c=0,u=r.length;c<u;++c){const h=r[c];if(f=d[h],void 0!==f){const r=null===o?void 0:f.getZIndexContext(),c=r?r.getContext():t,u=this.maxExtent_&&"Image"!==h&&"Text"!==h;if(u&&(c.save(),this.clip(c,n)),f.execute(c,e,n,i,s,o),u&&c.restore(),r){r.offset();const t=a[l];this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(r)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){this.deferredZIndexContexts_.forEach((t=>{t.forEach((t=>{t.draw(this.renderedContext_),t.clear()}))}))}};const Rg=class extends eg{constructor(t,e,n,i,s,r,o){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.transformRotation_=i?Sl(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=r,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(t,e,n,i){if(!this.image_)return;const s=zh(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,o=this.tmpLocalTransform_,a=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let h=0,c=s.length;h<c;h+=2){const t=s[h]-this.imageAnchorX_,e=s[h+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,i=e+this.imageAnchorY_;Oa(o,n,i,1,1,l,-n,-i),r.save(),r.transform.apply(r,o),r.translate(n,i),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.restore()}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=a)}drawText_(t,e,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=zh(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_;let o=this.textRotation_;for(0===this.transformRotation_&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);e<n;e+=i){const t=s[e]+this.textOffsetX_,n=s[e+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(r.save(),r.translate(t-this.textOffsetX_,n-this.textOffsetY_),r.rotate(o),r.translate(this.textOffsetX_,this.textOffsetY_),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.restore()):(this.textStrokeState_&&r.strokeText(this.text_,t,n),this.textFillState_&&r.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,i,s){const r=this.context_,o=zh(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(o[0],o[1]);let a=o.length;s&&(a-=2);for(let l=2;l<a;l+=2)r.lineTo(o[l],o[l+1]);return s&&r.closePath(),n}drawRings_(t,e,n,i){for(let s=0,r=n.length;s<r;++s)e=this.moveToLineTo_(t,e,n[s],i,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fl(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=function(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const s=t.getStride();return zh(i,0,i.length,s,e,n)}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],s=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],s,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fl(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(fl(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let i=0;const s=t.getEnds(),r=t.getStride();e.beginPath();for(let t=0,o=s.length;t<o;++t)i=this.moveToLineTo_(n,i,s[t],r,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let i=0;const s=t.getEndss(),r=t.getStride();e.beginPath();for(let t=0,o=s.length;t<o;++t){const e=s[t];i=this.drawRings_(n,i,e,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),_o(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:md;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:hd(e||ud)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),i=e.getLineDash(),s=e.getLineDashOffset(),r=e.getLineJoin(),o=e.getWidth(),a=e.getMiterLimit(),l=i||fd;this.strokeState_={lineCap:void 0!==n?n:dd,lineDash:1===this.pixelRatio_?l:l.map((t=>t*this.pixelRatio_)),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==r?r:gd,lineWidth:(void 0!==o?o:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:hd(t||pd)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),s=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const r=t.getScaleArray();this.imageScale_=[r[0]*this.pixelRatio_/n,r[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:hd(t||ud)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),i=n.getLineDash(),s=n.getLineDashOffset(),r=n.getLineJoin(),o=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:dd,lineDash:i||fd,lineDashOffset:s||0,lineJoin:void 0!==r?r:gd,lineWidth:void 0!==o?o:1,miterLimit:void 0!==a?a:10,strokeStyle:hd(t||pd)}}else this.textStrokeState_=null;const i=t.getFont(),s=t.getOffsetX(),r=t.getOffsetY(),o=t.getRotateWithView(),a=t.getRotation(),l=t.getScaleArray(),h=t.getText(),c=t.getTextAlign(),u=t.getTextBaseline();this.textState_={font:void 0!==i?i:cd,textAlign:void 0!==c?c:md,textBaseline:void 0!==u?u:_d},this.text_=void 0!==h?Array.isArray(h)?h.reduce(((t,e,n)=>t+(n%2?" ":e)),""):h:"",this.textOffsetX_=void 0!==s?this.pixelRatio_*s:0,this.textOffsetY_=void 0!==r?this.pixelRatio_*r:0,this.textRotateWithView_=void 0!==o&&o,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},Ig=.5;const Pg=.5,Tg={Point:function(t,e,n,i,s,r){const o=n.getImage(),a=n.getText(),l=a&&a.getText(),h=r&&o&&l?{}:void 0;if(o){if(o.getImageState()!=xu.LOADED)return;const r=t.getBuilder(n.getZIndex(),"Image");r.setImageStyle(o,h),r.drawPoint(e,i,s)}if(l){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a,h),r.drawText(e,i,s)}},LineString:function(t,e,n,i,s){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawLineString(e,i,s)}const o=n.getText();if(o&&o.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,i,s)}},Polygon:function(t,e,n,i,s){const r=n.getFill(),o=n.getStroke();if(r||o){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(r,o),a.drawPolygon(e,i,s)}const a=n.getText();if(a&&a.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,i,s)}},MultiPoint:function(t,e,n,i,s,r){const o=n.getImage(),a=o&&0!==o.getOpacity(),l=n.getText(),h=l&&l.getText(),c=r&&a&&h?{}:void 0;if(a){if(o.getImageState()!=xu.LOADED)return;const r=t.getBuilder(n.getZIndex(),"Image");r.setImageStyle(o,c),r.drawMultiPoint(e,i,s)}if(h){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(l,c),r.drawText(e,i,s)}},MultiLineString:function(t,e,n,i,s){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i,s)}const o=n.getText();if(o&&o.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,i,s)}},MultiPolygon:function(t,e,n,i,s){const r=n.getFill(),o=n.getStroke();if(o||r){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(r,o),a.drawMultiPolygon(e,i,s)}const a=n.getText();if(a&&a.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,i,s)}},GeometryCollection:function(t,e,n,i,s,r){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){(0,Tg[o[a].getType()])(t,o[a],n,i,s,r)}},Circle:function(t,e,n,i){const s=n.getFill(),r=n.getStroke();if(s||r){const o=t.getBuilder(n.getZIndex(),"Circle");o.setFillStrokeStyle(s,r),o.drawCircle(e,i)}const o=n.getText();if(o&&o.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,i)}}};function Lg(t,e){return parseInt(Wo(t),10)-parseInt(Wo(e),10)}function Dg(t,e){const n=Og(t,e);return n*n}function Og(t,e){return Pg*t/e}function Ag(t,e,n,i,s,r,o,a){const l=[],h=n.getImage();if(h){let t=!0;const e=h.getImageState();e==xu.LOADED||e==xu.ERROR?t=!1:e==xu.IDLE&&h.load(),t&&l.push(h.ready())}const c=n.getFill();c&&c.loading()&&l.push(c.ready());const u=l.length>0;return u&&Promise.all(l).then((()=>s(null))),function(t,e,n,i,s,r,o){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,s),h=n.getRenderer();if(h)Fg(t,l,n,e,o);else{(0,Tg[l.getType()])(t,l,n,e,o,r)}}(t,e,n,i,r,o,a),u}function Fg(t,e,n,i,s){if("GeometryCollection"==e.getType()){const r=e.getGeometries();for(let e=0,o=r.length;e<o;++e)Fg(t,r[e],n,i,s);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),s)}const Ng=class extends Yu{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,e,n){const i=e.extent,s=e.viewState,r=s.center,o=s.resolution,a=s.projection,l=s.rotation,h=a.getExtent(),c=this.getLayer().getSource(),u=this.getLayer().getDeclutter(),d=e.pixelRatio,f=e.viewHints,g=!(f[eu]||f[nu]),p=this.compositionContext_,m=Math.round(e.size[0]*d),_=Math.round(e.size[1]*d),y=c.getWrapX()&&a.canWrapX(),v=y?dl(h):null,b=y?Math.ceil((i[2]-h[2])/v)+1:1;let x=y?Math.floor((i[0]-h[0])/v):0;do{const i=this.getRenderTransform(r,o,l,d,m,_,x*v);t.execute(p,[p.canvas.width,p.canvas.height],i,l,g,void 0===n?Sg:n?Cg:Eg,n?u&&e.declutter[u]:void 0)}while(++x<b)}setupCompositionContext_(){if(1!==this.opacity_){const t=ia(this.context.canvas.width,this.context.canvas.height,Hu);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,oa(this.compositionContext_),Hu.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.getLayer().getDeclutter()&&(this.setupCompositionContext_(),this.renderWorlds(this.replayGroup_,t,!0),this.releaseCompositionContext_())}renderDeferredInternal(t){this.replayGroup_.renderDeferred()}renderFrame(t,e){const n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];!function(t,e,n){La(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),Aa(this.inversePixelTransform,this.pixelTransform);const s=Na(this.pixelTransform);this.useContainer(e,s,this.getBackground(t));const r=this.context,o=r.canvas,a=this.replayGroup_;let l=a&&!a.isEmpty();if(!l){if(!(this.getLayer().hasListener(Zc)||this.getLayer().hasListener($c)))return null}const h=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);o.width!=h||o.height!=c?(o.width=h,o.height=c,o.style.transform!==s&&(o.style.transform=s)):this.containerReused||r.clearRect(0,0,h,c),this.preRender(r,t);const u=t.viewState,d=u.projection;this.opacity_=i.opacity,this.setupCompositionContext_();let f=!1;if(l&&i.extent&&this.clipping){const e=Mh(i.extent,d);l=fl(e,t.extent),f=l&&!Ha(e,t.extent),f&&this.clipUnrotated(this.compositionContext_,t,e)}return l&&this.renderWorlds(a,t,!this.getLayer().getDeclutter()&&void 0),f&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(r,t),this.renderedRotation_!==u.rotation&&(this.renderedRotation_=u.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise((e=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=[this.context.canvas.width,this.context.canvas.height];Da(this.pixelTransform,t);const e=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,s=this.renderedProjection_,r=this.wrappedRenderedExtent_,o=this.getLayer(),a=[],l=t[0]*Ig,h=t[1]*Ig;a.push(this.getRenderTransform(e,n,i,Ig,l,h,0).slice());const c=o.getSource(),u=s.getExtent();if(c.getWrapX()&&s.canWrapX()&&!Ha(u,r)){let t=r[0];const s=dl(u);let o,c=0;for(;t<u[0];)--c,o=s*c,a.push(this.getRenderTransform(e,n,i,Ig,l,h,o).slice()),t+=s;for(c=0,t=r[2];t>u[2];)++c,o=s*c,a.push(this.getRenderTransform(e,n,i,Ig,l,h,o).slice()),t-=s}const d=Sh();this.hitDetectionImageData_=function(t,e,n,i,s,r,o,a,l){const h=l?kh(s,l):s,c=ia(t[0]*Ig,t[1]*Ig);c.imageSmoothingEnabled=!1;const u=c.canvas,d=new Rg(c,Ig,s,null,o,a,l?yh(Sh(),l):null),f=n.length,g=Math.floor(16777215/f),p={};for(let _=1;_<=f;++_){const t=n[_-1],e=t.getStyleFunction()||i;if(!e)continue;let s=e(t,r);if(!s)continue;Array.isArray(s)||(s=[s]);const o=(_*g).toString(16).padStart(7,"#00000");for(let n=0,i=s.length;n<i;++n){const e=s[n],i=e.getGeometryFunction()(t);if(!i||!fl(h,i.getExtent()))continue;const r=e.clone(),a=r.getFill();a&&a.setColor(o);const l=r.getStroke();l&&(l.setColor(o),l.setLineDash(null)),r.setText(void 0);const c=e.getImage();if(c){const t=c.getImageSize();if(!t)continue;const e=ia(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=o,e.fillRect(0,0,n.width,n.height),r.setImage(new Hd({img:n,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const u=r.getZIndex()||0;let d=p[u];d||(d={},p[u]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const f=i.getType();if("GeometryCollection"===f){const t=i.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];d[n.getType().replace("Multi","")].push(n,r)}}else d[f.replace("Multi","")].push(i,r)}}const m=Object.keys(p).map(Number).sort(fo);for(let _=0,y=m.length;_<y;++_){const t=p[m[_]];for(const n in t){const i=t[n];for(let t=0,n=i.length;t<n;t+=2){d.setStyle(i[t+1]);for(let n=0,s=e.length;n<s;++n)d.setTransform(e[n]),d.drawGeometry(i[t])}}}return c.getImageData(0,0,u.width,u.height)}(t,a,this.renderedFeatures_,o.getStyleFunction(),r,n,i,Dg(n,this.renderedPixelRatio_),d?s:null)}e(function(t,e,n){const i=[];if(n){const s=Math.floor(Math.round(t[0])*Ig),r=Math.floor(Math.round(t[1])*Ig),o=4*(_l(s,0,n.width-1)+_l(r,0,n.height-1)*n.width),a=n.data[o],l=n.data[o+1],h=n.data[o+2]+256*(l+256*a),c=Math.floor(16777215/e.length);h&&h%c===0&&i.push(e[h/c-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,i,s){if(!this.replayGroup_)return;const r=e.viewState.resolution,o=e.viewState.rotation,a=this.getLayer(),l={},h=function(t,e,n){const r=Wo(t),o=l[r];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return l[r]=!0,s.splice(s.lastIndexOf(o),1),i(t,a,e);o.geometry=e,o.distanceSq=n}}else{if(0===n)return l[r]=!0,i(t,a,e);s.push(l[r]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}};let c;const u=[this.replayGroup_],d=this.getLayer().getDeclutter();return u.some((i=>c=i.forEachFeatureAtCoordinate(t,r,o,n,h,d&&e.declutter[d]?e.declutter[d].all().map((t=>t.value)):null))),c}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const i=t.viewHints[eu],s=t.viewHints[nu],r=e.getUpdateWhileAnimating(),o=e.getUpdateWhileInteracting();if(this.ready&&!r&&i||!o&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=t.extent,l=t.viewState,h=l.projection,c=l.resolution,u=t.pixelRatio,d=e.getRevision(),f=e.getRenderBuffer();let g=e.getRenderOrder();void 0===g&&(g=Lg);const p=l.center.slice(),m=Wa(a,f*c),_=m.slice(),y=[m.slice()],v=h.getExtent();if(n.getWrapX()&&h.canWrapX()&&!Ha(v,t.extent)){const t=dl(v),e=Math.max(dl(m)/2,t);m[0]=v[0]-e,m[2]=v[2]+e,nh(p,h);const n=ml(y[0],h);n[0]<v[0]&&n[2]<v[2]?y.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>v[0]&&n[2]>v[2]&&y.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&Ha(this.wrappedRenderedExtent_,m))return _o(this.renderedExtent_,_)||(this.hitDetectionImageData_=null,this.renderedExtent_=_),this.renderedCenter_=p,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const b=new ug(Og(c,u),m,c,u),x=Sh();let w;if(x){for(let t=0,e=y.length;t<e;++t){const e=kh(y[t],h);n.loadFeatures(e,Rh(c,h),x)}w=yh(x,h)}else for(let P=0,T=y.length;P<T;++P)n.loadFeatures(y[P],c,h);const S=Dg(c,u);let C=!0;const E=(t,n)=>{let i;const s=t.getStyleFunction()||e.getStyleFunction();if(s&&(i=s(t,c)),i){const e=this.renderFeature(t,S,i,b,w,this.getLayer().getDeclutter(),n);C=C&&!e}},k=kh(m,h),M=n.getFeaturesInExtent(k);g&&M.sort(g);for(let P=0,T=M.length;P<T;++P)E(M[P],P);this.renderedFeatures_=M,this.ready=C;const R=b.finish(),I=new Mg(m,c,u,n.getOverlaps(),R,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=_,this.wrappedRenderedExtent_=m,this.renderedCenter_=p,this.renderedProjection_=h,this.renderedPixelRatio_=u,this.replayGroup_=I,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,i,s,r,o){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,h=n.length;l<h;++l)a=Ag(i,t,n[l],e,this.boundHandleStyleImageChange_,s,r,o)||a;else a=Ag(i,t,n,e,this.boundHandleStyleImageChange_,s,r,o);return a}};const zg=class extends Xf{constructor(t){super(t)}createRenderer(){return new Ng(this)}},Bg="add",Wg="remove",jg="length";class Vg extends ho{constructor(t,e,n){super(t),this.element=e,this.index=n}}const Gg=class extends Vo{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(jg)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Vg(Bg,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Vg(Wg,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Vg(Wg,n,t)),this.dispatchEvent(new Vg(Bg,e,t))}updateLength_(){this.set(jg,this.array_.length)}assertUnique_(t,e){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}};function Hg(t,e){rd.expire()}const Ug=class extends uo{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){zo()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Oa(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Aa(i,n)}forEachFeatureAtCoordinate(t,e,n,i,s,r,o,a){let l;const h=e.viewState;function c(t,e,n,i){return s.call(r,e,t?n:null,i)}const u=h.projection,d=nh(t.slice(),u),f=[[0,0]];if(u.canWrapX()&&i){const t=dl(u.getExtent());f.push([-t,0],[t,0])}const g=e.layerStatesArray,p=g.length,m=[],_=[];for(let v=0;v<f.length;v++)for(let i=p-1;i>=0;--i){const s=g[i],r=s.layer;if(r.hasRenderer()&&yu(s,h)&&o.call(a,r)){const i=r.getRenderer(),o=r.getSource();if(i&&o){const r=o.getWrapX()?d:t,a=c.bind(null,s.managed);_[0]=r[0]+f[v][0],_[1]=r[1]+f[v][1],l=i.forEachFeatureAtCoordinate(_,e,n,a,m)}if(l)return l}}if(0===m.length)return;const y=1/m.length;return m.forEach(((t,e)=>t.distanceSq+=e*y)),m.sort(((t,e)=>t.distanceSq-e.distanceSq)),m.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,n,i,s,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,yo,this,s,r)}getMap(){return this.map_}renderFrame(t){zo()}scheduleExpireIconCache(t){rd.canExpireCache()&&t.postRenderFunctions.push(Hg)}};const Yg=class extends Ug{constructor(t){super(t),this.fontChangeListenerKey_=Do(vd,co,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=pa+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new Su(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){Ao(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(Jc,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex}));e.some((t=>t.layer instanceof Xf&&t.layer.getDeclutter()))&&(t.declutter={});const n=t.viewState;this.children_.length=0;const i=[];let s=null;for(let r=0,o=e.length;r<o;++r){const o=e[r];t.layerIndex=r;const a=o.layer,l=a.getSourceState();if(!yu(o,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const h=a.render(t,s);h&&(h!==s&&(this.children_.push(h),s=h),i.push(o))}this.declutter(t,i),function(t,e){const n=t.childNodes;for(let i=0;;++i){const s=n[i],r=e[i];if(!s&&!r)break;s!==r&&(s?r?t.insertBefore(r,s):(t.removeChild(s),--i):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent(Qc,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){for(let n=e.length-1;n>=0;--n){const i=e[n],s=i.layer;s.getDeclutter()&&s.renderDeclutter(t,i)}e.forEach((e=>e.layer.renderDeferred(t)))}};class Kg extends ho{constructor(t,e){super(t),this.layer=e}}const Xg="layers";class qg extends qc{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Xg,this.handleLayersChanged_),n?Array.isArray(n)?n=new Gg(n.slice(),{unique:!0}):Ia("function"===typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new Gg(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ao),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Do(t,Bg,this.handleLayersAdd_,this),Do(t,Wg,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(Ao);wo(this.listenerKeys_);const e=t.getArray();for(let n=0,i=e.length;n<i;n++){const t=e[n];this.registerLayerListeners_(t),this.dispatchEvent(new Kg("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[Do(t,co,this.handleLayerChange_,this),Do(t,Eo,this.handleLayerChange_,this)];t instanceof qg&&e.push(Do(t,"addlayer",this.handleLayerGroupAdd_,this),Do(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Wo(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new Kg("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Kg("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Kg("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=Wo(e);this.listenerKeys_[n].forEach(Ao),delete this.listenerKeys_[n],this.dispatchEvent(new Kg("removelayer",e)),this.changed()}getLayers(){return this.get(Xg)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new Kg("removelayer",t[e]))}this.set(Xg,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const i=this.getLayerState();let s=i.zIndex;t||void 0!==i.zIndex||(s=0);for(let r=n,o=e.length;r<o;r++){const t=e[r];t.opacity*=i.opacity,t.visible=t.visible&&i.visible,t.maxResolution=Math.min(t.maxResolution,i.maxResolution),t.minResolution=Math.max(t.minResolution,i.minResolution),t.minZoom=Math.max(t.minZoom,i.minZoom),t.maxZoom=Math.min(t.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==t.extent?t.extent=hl(t.extent,i.extent):t.extent=i.extent),void 0===t.zIndex&&(t.zIndex=s)}return e}getSourceState(){return"ready"}}const Zg=qg;const $g=class extends ho{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}};const Jg=class extends $g{constructor(t,e,n,i,s,r){super(t,e,s),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Qg={SINGLECLICK:"singleclick",CLICK:Mo,DBLCLICK:Ro,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},tp="pointermove",ep="pointerdown";const np=class extends Co{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=Do(n,ep,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Do(n,tp,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(To,this.boundHandleTouchMove_,!!na&&{passive:!1})}emulateClick_(t){let e=new Jg(Qg.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Jg(Qg.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new Jg(Qg.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==Qg.POINTERUP||e.type==Qg.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=Qg.POINTERDOWN&&e.type!=Qg.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new Jg(Qg.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(Ao),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new Jg(Qg.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Do(t,Qg.POINTERMOVE,this.handlePointerMove_,this),Do(t,Qg.POINTERUP,this.handlePointerUp_,this),Do(this.element_,Qg.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(Do(this.element_.getRootNode(),Qg.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new Jg(Qg.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Jg(Qg.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ao(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(To,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ao(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ao),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},ip=1/0;const sp=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,wo(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){Ia(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=ip&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,s=e[t],r=n[t],o=t;for(;t<i>>1;){const s=this.getLeftChildIndex_(t),r=this.getRightChildIndex_(t),o=r<i&&n[r]<n[s]?r:s;e[t]=e[o],n[t]=n[o],t=o}e[t]=s,n[t]=r,this.siftDown_(o,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,s=n[e],r=i[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(i[t]>r))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=s,i[e]=r}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const s=e.length;let r,o,a;for(o=0;o<s;++o)r=e[o],a=t(r),a==ip?delete this.queuedElements_[this.keyFunction_(r)]:(n[i]=a,e[i++]=r);e.length=i,n.length=i,this.heapify_()}},rp=0,op=2,ap=3,lp=4;const hp=class extends sp{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);if(e){t[0].addEventListener(Eo,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===op||n===ap||n===lp){n!==ap&&e.removeEventListener(Eo,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n,i,s,r=0;for(;this.tilesLoading_<t&&r<e&&this.getCount()>0;)i=this.dequeue()[0],s=i.getKey(),n=i.getState(),n!==rp||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,i.load())}};const cp=class extends ha{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.expandClassName?t.expandClassName:e+"-expand",s=void 0!==t.collapseLabel?t.collapseLabel:"\u203a",r=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"===typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=r):this.collapseLabel_=s;const o=void 0!==t.label?t.label:"i";"string"===typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(Mo,this.handleClick_.bind(this),!1);const l=e+" "+pa+" "+_a+(this.collapsed_&&this.collapsible_?" "+ya:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=l,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=Array.from(new Set(this.getMap().getAllLayers().flatMap((e=>e.getAttributions(t))))),n=!this.getMap().getAllLayers().some((t=>t.getSource()&&!1===t.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(n),e}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!_o(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(ya),this.collapsed_?aa(this.collapseLabel_,this.label_):aa(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}};const up=class extends ha{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"\u21e7",i=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"===typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const s=t.tipLabel?t.tipLabel:"Reset rotation",r=document.createElement("button");r.className=e+"-reset",r.setAttribute("type","button"),r.title=s,r.appendChild(this.label_),r.addEventListener(Mo,this.handleClick_.bind(this),!1);const o=e+" "+pa+" "+_a,a=this.element;a.className=o,a.appendChild(r),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ga)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:uu}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(ga);t||0!==n?t&&0!==n&&this.element.classList.remove(ga):this.element.classList.add(ga)}this.label_.style.transform=t}this.rotation_=n}};const dp=class extends ha{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",s=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",r=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2013",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=a,h.appendChild("string"===typeof r?document.createTextNode(r):r),h.addEventListener(Mo,this.handleClick_.bind(this,n),!1);const c=document.createElement("button");c.className=s,c.setAttribute("type","button"),c.title=l,c.appendChild("string"===typeof o?document.createTextNode(o):o),c.addEventListener(Mo,this.handleClick_.bind(this,-n),!1);const u=e+" "+pa+" "+_a,d=this.element;d.className=u,d.appendChild(h),d.appendChild(c),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:uu})):e.setZoom(i)}}};const fp="active";function gp(t,e,n,i){const s=t.getZoom();if(void 0===s)return;const r=t.getConstrainedZoom(s+e),o=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:void 0!==i?i:250,easing:uu})}const pp=class extends Vo{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(fp)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(fp,t)}setMap(t){this.map_=t}};const mp=class extends pp{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==Qg.DBLCLICK){const n=t.originalEvent,i=t.map,s=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;gp(i.getView(),r,s,this.duration_),n.preventDefault(),e=!0}return!e}};function _p(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}const yp=class extends pp{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Qg.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Qg.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==Qg.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==Qg.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function vp(t){const e=arguments;return function(t){let n=!0;for(let i=0,s=e.length;i<s&&(n=n&&e[i](t),n);++i);return n}}const bp=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},xp=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},wp=yo,Sp=function(t){const e=t.originalEvent;return 0==e.button&&!(Zo&&$o&&e.ctrlKey)},Cp=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Ep=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},kp=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},Mp=function(t){const e=t.originalEvent;return Ia(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},Rp=function(t){const e=t.originalEvent;return Ia(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button};const Ip=class extends yp{constructor(t){super({stopDown:vo}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:vp(Cp,Rp);this.condition_=t.onFocusOnly?vp(xp,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel(_p(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map.getView();!function(t,e){t[0]*=e,t[1]*=e}(e,n.getResolution()),eh(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),s=n.getCenterInternal(),r=e.getPixelFromCoordinateInternal(s),o=e.getCoordinateFromPixelInternal([r[0]-t*Math.cos(i),r[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(o),duration:500,easing:uu})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};const Pp=class extends yp{constructor(t){t=t||{},super({stopDown:vo}),this.condition_=t.condition?t.condition:bp,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!Mp(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===hu)return;const i=e.getSize(),s=t.pixel,r=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){if(!Mp(t))return!0;return t.map.getView().endInteraction(this.duration_),!1}handleDownEvent(t){if(!Mp(t))return!1;if(Sp(t)&&this.condition_(t)){return t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}};const Tp=class extends uo{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new yc([n])}getGeometry(){return this.geometry_}},Lp="boxstart",Dp="boxdrag",Op="boxend",Ap="boxcancel";class Fp extends ho{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}const Np=class extends yp{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Tp(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:Sp,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],s=n[1]-e[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Fp(Dp,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Fp(e?Op:Ap,t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Fp(Lp,t.coordinate,t)),!0)}onBoxEnd(t){}};const zp=class extends Np{constructor(t){super({condition:(t=t||{}).condition?t.condition:Ep,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(t),s=e.getResolution()/i;n=n.clone(),n.scale(s*s)}e.fitInternal(n,{duration:this.duration_,easing:uu})}},Bp="ArrowLeft",Wp="ArrowUp",jp="ArrowRight",Vp="ArrowDown";const Gp=class extends pp{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return Cp(t)&&kp(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==Io){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==Vp||i==Bp||i==jp||i==Wp)){const s=t.map.getView(),r=s.getResolution()*this.pixelDelta_;let o=0,a=0;i==Vp?a=-r:i==Bp?o=-r:i==jp?o=r:a=r;const l=[o,a];eh(l,s.getRotation()),function(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:fu,center:t.getConstrainedCenter(s)})}}(s,l,this.duration_),n.preventDefault(),e=!0}}return!e}};const Hp=class extends pp{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!function(t){const e=t.originalEvent;return $o?e.metaKey:e.ctrlKey}(t)&&kp(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==Io||t.type==Po){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){const s=t.map,r="+"===i?this.delta_:-this.delta_;gp(s.getView(),r,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}};const Up=class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const s=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,s),this.initialVelocity_=Math.sqrt(s*s+r*r)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};const Yp=class extends pp{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:wp;this.condition_=t.onFocusOnly?vp(xp,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==Lo)return!0;const e=t.map,n=t.originalEvent;let i;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Lo&&(i=n.deltaY,qo&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=Jo),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const r=e.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=i;const o=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),o),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-_l(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),gp(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}};const Kp=class extends yp{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=vo),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=s;const r=t.map,o=r.getView();o.getConstraints().rotation!==hu&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel(_p(this.targetPointers))),this.rotating_&&(r.render(),o.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){return t.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};const Xp=class extends yp{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=vo),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],s=n.clientX-i.clientX,r=n.clientY-i.clientY,o=Math.sqrt(s*s+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(_p(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};function qp(t){t instanceof vu?t.setMapInternal(null):t instanceof Zg&&t.getLayers().forEach(qp)}function Zp(t,e){if(t instanceof vu)t.setMapInternal(e);else if(t instanceof Zg){const n=t.getLayers().getArray();for(let t=0,i=n.length;t<i;++t)Zp(n[t],e)}}const $p=class extends Vo{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new Zg({layers:t.layers});let s,r,o;n[ca]=i,n[da]=t.target,n[fa]=t.view instanceof _u?t.view:new _u,void 0!==t.controls&&(Array.isArray(t.controls)?s=new Gg(t.controls.slice()):(Ia("function"===typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),s=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new Gg(t.interactions.slice()):(Ia("function"===typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new Gg(t.overlays.slice()):(Ia("function"===typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new Gg;return{controls:s,interactions:r,keyboardEventTarget:e,overlays:o,values:n}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:Jo,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||function(t){t=t||{};const e=new Gg;return(void 0===t.zoom||t.zoom)&&e.push(new dp(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new up(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new cp(t.attributionOptions)),e}(),this.interactions=e.interactions||function(t){t=t||{};const e=new Gg,n=new Up(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Pp),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new mp({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Ip({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Kp),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Xp({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Gp),e.push(new Hp({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Yp({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new zp({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new hp(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ca,this.handleLayerGroupChanged_),this.addChangeListener(fa,this.handleViewChanged_),this.addChangeListener(ua,this.handleSizeChanged_),this.addChangeListener(da,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof _u||t.view.then((function(t){n.setView(new _u(t))})),this.controls.addEventListener(Bg,(t=>{t.element.setMap(this)})),this.controls.addEventListener(Wg,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(Bg,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(Wg,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(Bg,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(Wg,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Zp(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t),s=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,r=void 0!==n.layerFilter?n.layerFilter:yo,o=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,o,e,null,r,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];return function e(n){n.forEach((function(n){n instanceof Zg?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:yo,s=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,s,r,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=e.width/n[0],s=e.height/n[1],r="changedTouches"in t?t.changedTouches[0]:t;return[(r.clientX-e.left)/i,(r.clientY-e.top)/s]}getTarget(){return this.get(da)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Ch(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?Da(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ca)}setLayers(t){const e=this.getLayerGroup();if(t instanceof Gg)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const s=n.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){const e=Eh(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Da(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ua)}getView(){return this.get(fa)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return function(t,e,n,i,s){if(!t||!(n in t.wantedTiles))return ip;if(!t.wantedTiles[n][e.getKey()])return ip;const r=t.viewState.center,o=i[0]-r[0],a=i[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new Jg(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===ep||n===Lo||n===Io){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i=e.target;if(this.overlayContainerStopEvent_.contains(i)||!(n===t?t.documentElement:n).contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()!==this||!i.getActive()||!this.getTargetElement())continue;if(!i.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[eu]||e[nu]){const e=Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(tu)&&this.renderer_.dispatchRenderEvent(tu,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new $g(Ko,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new $g(Yo,this,t))));const n=this.postRenderFunctions_;for(let i=0,s=n.length;i<s;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Ao(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ko,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Lo,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,la(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"===typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Yg(this)),this.mapBrowserEventHandler_=new np(this,this.moveTolerance_);for(const e in Qg)this.mapBrowserEventHandler_.addEventListener(Qg[e],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ko,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Lo,this.boundHandleBrowserEvent_,!!na&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[Do(t,Io,this.handleBrowserEvent,this),Do(t,Po,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ao(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ao(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Do(t,co,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Do(t,Eo,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ao),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Kg("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Do(t,co,this.render,this),Do(t,Eo,this.render,this),Do(t,"addlayer",this.handleLayerAdd_,this),Do(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){qp(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let s=null;if(void 0!==e&&Zu(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=n.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:al(r.center,r.resolution,r.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:i,wantedTiles:{},mapId:Wo(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const t=isNaN(r.nextRotation)?r.rotation:r.nextRotation;s.nextExtent=al(r.nextCenter,r.nextResolution,t,e)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i){(!this.previousExtent_||!gl(this.previousExtent_)&&!Ja(s.extent,this.previousExtent_))&&(this.dispatchEvent(new $g(Ho,this,i)),this.previousExtent_=qa(this.previousExtent_))}this.previousExtent_&&!s.viewHints[eu]&&!s.viewHints[nu]&&!Ja(s.extent,this.previousExtent_)&&(this.dispatchEvent(new $g(Uo,this,s)),ja(s.extent,this.previousExtent_))}this.dispatchEvent(new $g(Go,this,s)),this.renderComplete_=this.hasListener(Yo)||this.hasListener(Ko)||this.hasListener(tu)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new Kg("removelayer",e)),this.set(ca,t)}setSize(t){this.set(ua,t)}setTarget(t){this.set(da,t)}setView(t){if(!t||t instanceof _u)return void this.set(fa,t);this.set(fa,new _u);const e=this;t.then((function(t){e.setView(new _u(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),s=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(s)||(e=[i,s],!Zu(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&ah("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&_o(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}};const Jp=class{constructor(t,e,n,i,s,r){this.sourceProj_=t,this.targetProj_=e;let o={};const a=vh(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&dl(i)>=dl(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?dl(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?dl(this.targetProj_.getExtent()):null;const l=cl(n),h=ul(n),c=rl(n),u=sl(n),d=this.transformInv_(l),f=this.transformInv_(h),g=this.transformInv_(c),p=this.transformInv_(u),m=10+(r?Math.max(0,Math.ceil(Math.log2(il(n)/(r*r*256*256)))):0);if(this.addQuad_(l,h,c,u,d,f,g,p,m),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2&&(e.source=n)}}))}o={}}addTriangle_(t,e,n,i,s,r){this.triangles_.push({source:[i,s,r],target:[t,e,n]})}addQuad_(t,e,n,i,s,r,o,a,l){const h=Ba([s,r,o,a]),c=this.sourceWorldWidth_?dl(h)/this.sourceWorldWidth_:null,u=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1;let f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){f=dl(Ba([t,e,n,i]))/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!fl(h,this.maxSourceExtent_))return;let g=0;if(!f&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])))if(l>0)f=!0;else if(g=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=g&&2!=g&&4!=g&&8!=g)return;if(l>0){if(!f){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],i=this.transformInv_(e);let r;if(d){r=(xl(s[0],u)+xl(o[0],u))/2-xl(i[0],u)}else r=(s[0]+o[0])/2-i[0];const a=(s[1]+o[1])/2-i[1];f=r*r+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const h=[(e[0]+n[0])/2,(e[1]+n[1])/2],c=this.transformInv_(h),u=[(i[0]+t[0])/2,(i[1]+t[1])/2],d=this.transformInv_(u);this.addQuad_(t,e,h,u,s,r,c,d,l-1),this.addQuad_(u,h,n,i,d,c,o,a,l-1)}else{const h=[(t[0]+e[0])/2,(t[1]+e[1])/2],c=this.transformInv_(h),u=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(u);this.addQuad_(t,h,u,i,s,c,d,a,l-1),this.addQuad_(h,e,n,u,c,r,o,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(t,n,i,s,o,a),0==(14&g)&&this.addTriangle_(t,n,e,s,o,r),g&&(0==(13&g)&&this.addTriangle_(e,i,t,r,a,s),0==(7&g)&&this.addTriangle_(e,i,n,r,a,o))}calculateSourceExtent(){const t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,i){const s=e.source;tl(t,s[0]),tl(t,s[1]),tl(t,s[2])})),t}getTriangles(){return this.triangles_}};let Qp;const tm=[];function em(t,e,n,i,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,s)),t.restore()}function nm(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function im(t,e,n,i){const s=bh(n,e,t);let r=gh(e,i,n);const o=e.getMetersPerUnit();void 0!==o&&(r*=o);const a=t.getMetersPerUnit();void 0!==a&&(r/=a);const l=t.getExtent();if(!l||Ga(l,s)){const e=gh(t,r,s)/r;isFinite(e)&&e>0&&(r/=e)}return r}function sm(t,e,n,i,s,r,o,a,l,h,c,u,d,f){const g=ia(Math.round(n*t),Math.round(n*e),tm);if(u||(g.imageSmoothingEnabled=!1),0===l.length)return g.canvas;function p(t){return Math.round(t*n)/n}g.scale(n,n),g.globalCompositeOperation="lighter";const m=[1/0,1/0,-1/0,-1/0];let _;l.forEach((function(t,e,n){Qa(m,t.extent)}));const y=n/i,v=(u?1:1+Math.pow(2,-24))/y;if(!d||1!==l.length||0!==h){if(_=ia(Math.round(dl(m)*y),Math.round(ll(m)*y),tm),u||(_.imageSmoothingEnabled=!1),s&&f){const t=(s[0]-m[0])*y,e=-(s[3]-m[3])*y,n=dl(s)*y,i=ll(s)*y;_.rect(t,e,n,i),_.clip()}l.forEach((function(t,e,n){const i=(t.extent[0]-m[0])*y,s=-(t.extent[3]-m[3])*y,r=dl(t.extent)*y,o=ll(t.extent)*y;t.image.width>0&&t.image.height>0&&_.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,u?i:Math.round(i),u?s:Math.round(s),u?r:Math.round(i+r)-Math.round(i),u?o:Math.round(s+o)-Math.round(s))}))}const b=cl(o);return a.getTriangles().forEach((function(t,e,n){const i=t.source,s=t.target;let o=i[0][0],a=i[0][1],h=i[1][0],c=i[1][1],d=i[2][0],f=i[2][1];const y=p((s[0][0]-b[0])/r),x=p(-(s[0][1]-b[1])/r),w=p((s[1][0]-b[0])/r),S=p(-(s[1][1]-b[1])/r),C=p((s[2][0]-b[0])/r),E=p(-(s[2][1]-b[1])/r),k=o,M=a;o=0,a=0,h-=k,c-=M,d-=k,f-=M;const R=function(t){const e=t.length;for(let i=0;i<e;i++){let n=i,s=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const e=Math.abs(t[o][i]);e>s&&(s=e,n=o)}if(0===s)return null;const r=t[n];t[n]=t[i],t[i]=r;for(let o=i+1;o<e;o++){const n=-t[o][i]/t[i][i];for(let s=i;s<e+1;s++)i==s?t[o][s]=0:t[o][s]+=n*t[i][s]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}([[h,c,0,0,w-y],[d,f,0,0,C-y],[0,0,h,c,S-x],[0,0,d,f,E-x]]);if(!R)return;if(g.save(),g.beginPath(),function(){if(void 0===Qp){const t=ia(6,6,tm);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",em(t,4,5,4,0),em(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Qp=nm(e,0)||nm(e,4)||nm(e,8),oa(t),tm.push(t.canvas)}return Qp}()||!u){g.moveTo(w,S);const t=4,e=y-w,n=x-S;for(let i=0;i<t;i++)g.lineTo(w+p((i+1)*e/t),S+p(i*n/(t-1))),i!=t-1&&g.lineTo(w+p((i+1)*e/t),S+p((i+1)*n/(t-1)));g.lineTo(C,E)}else g.moveTo(w,S),g.lineTo(y,x),g.lineTo(C,E);let I;if(g.clip(),g.transform(R[0],R[2],R[1],R[3],y,x),g.translate(m[0]-k,m[3]-M),_)I=_.canvas,g.scale(v,-v);else{const t=l[0],e=t.extent;I=t.image,g.scale(dl(e)/I.width,-ll(e)/I.height)}g.drawImage(I,0,0),g.restore()})),_&&(oa(_),tm.push(_.canvas)),c&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,a.getTriangles().forEach((function(t,e,n){const i=t.target,s=(i[0][0]-b[0])/r,o=-(i[0][1]-b[1])/r,a=(i[1][0]-b[0])/r,l=-(i[1][1]-b[1])/r,h=(i[2][0]-b[0])/r,c=-(i[2][1]-b[1])/r;g.beginPath(),g.moveTo(a,l),g.lineTo(s,o),g.lineTo(h,c),g.closePath(),g.stroke()})),g.restore()),g.canvas}function rm(t){return Array.isArray(t)?Math.min(...t):t}const om=class extends nd{constructor(t,e,n,i,s,r,o){let a=t.getExtent();a&&t.canWrapX()&&(a=a.slice(),a[0]=-1/0,a[2]=1/0);let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const h=l?hl(n,l):n,c=im(t,e,ol(h),i),u=new Jp(t,e,h,a,.5*c,i),d=u.calculateSourceExtent(),f=gl(d)?null:r(d,c,s),g=f?xu.IDLE:xu.EMPTY,p=f?f.getPixelRatio():1;super(n,i,p,g),this.targetProj_=e,this.maxSourceExtent_=a,this.triangulation_=u,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=f,this.sourcePixelRatio_=p,this.interpolate_=o,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==xu.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==xu.LOADED){const t=dl(this.targetExtent_)/this.targetResolution_,e=ll(this.targetExtent_)/this.targetResolution_;this.canvas_=sm(t,e,this.sourcePixelRatio_,rm(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(this.state==xu.IDLE){this.state=xu.LOADING,this.changed();const t=this.sourceImage_.getState();t==xu.LOADED||t==xu.ERROR?this.reproject_():(this.sourceListenerKey_=Do(this.sourceImage_,Eo,(function(t){const e=this.sourceImage_.getState();e!=xu.LOADED&&e!=xu.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}unlistenSource_(){Ao(this.sourceListenerKey_),this.sourceListenerKey_=null}};function am(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}const lm=class extends Vo{constructor(t){super(),this.projection=fh(t.projection),this.attributions_=am(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=am(t),this.changed()}setState(t){this.state_=t,this.changed()}},hm=4,cm="imageloadstart",um="imageloadend",dm="imageloaderror";class fm extends ho{constructor(t,e){super(t),this.image=e}}function gm(t,e){t.getImage().src=e}function pm(t,e,n,i){const s=e/n,r=ol(t),o=El(dl(t)/s,hm),a=El(ll(t)/s,hm);return al(r,s,0,[o+2*El((i-1)*o/2,hm),a+2*El((i-1)*a/2,hm)])}const mm=class extends lm{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();if(e){t=e[go(e,t,0)]}return t}getImage(t,e,n,i){const s=this.getProjection();if(!s||!i||_h(s,i))return s&&(i=s),this.getImageInternal(t,e,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&_h(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&Ja(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new om(s,i,t,e,n,((t,e,n)=>this.getImageInternal(t,e,n,s)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,n,i){if(this.loader){const s=pm(t,e,n,1),r=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&Ha(this.wantedExtent_,s)||Ha(this.image.getExtent(),s))&&(this.wantedResolution_&&rm(this.wantedResolution_)===r||rm(this.image.getResolution())===r)))return this.image;this.wantedProjection_=i,this.wantedExtent_=s,this.wantedResolution_=r,this.image=new nd(s,r,n,this.loader),this.image.addEventListener(Eo,this.handleImageChange.bind(this))}return this.image}handleImageChange(t){const e=t.target;let n;switch(e.getState()){case xu.LOADING:this.loading=!0,n=cm;break;case xu.LOADED:this.loading=!1,n=um;break;case xu.ERROR:this.loading=!1,n=dm;break;default:return}this.hasListener(n)&&this.dispatchEvent(new fm(n,e))}};function _m(t,e,n,i,s,r){const o=s.getCode().split(/:(?=\d+$)/).pop(),a=n/i,l=[Cl(dl(e)/a,hm),Cl(ll(e)/a,hm)];r.SIZE=l[0]+","+l[1],r.BBOX=e.join(","),r.BBOXSR=o,r.IMAGESR=o,r.DPI=Math.round(r.DPI?r.DPI*i:90*i);return function(t,e){const n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));const i=n.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+i}(t.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),r)}const ym=class extends mm{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.hidpi_=void 0===t.hidpi||t.hidpi,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:gm,this.params_=Object.assign({},t.params),this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5,this.loaderProjection_=null}getParams(){return this.params_}getImageInternal(t,e,n,i){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===i||(this.loaderProjection_=i,this.loader=function(t){const e=t.load?t.load:ed,n=fh(t.projection||"EPSG:3857");return function(i,s,r){r=t.hidpi?r:1;const o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(o,t.params),i=pm(i,s,r,t.ratio);const a=_m(t.url,i,s,r,n,o),l=new Image;return null!==t.crossOrigin&&(l.crossOrigin=t.crossOrigin),e(l,a).then((t=>{const e=dl(i)/t.width*r;return{image:t,extent:i,resolution:e,pixelRatio:r}}))}}({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,e)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,e),ed(t))})),super.getImageInternal(t,e,n,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(t){this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.loader=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.changed()}changed(){this.image=null,super.changed()}};const vm=class{constructor(t){this.rbush_=new qu(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Wo(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,s=e.length;i<s;i++){const s=t[i],r=e[i],o={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:r};n[i]=o,this.items_[Wo(r)]=o}this.rbush_.load(n)}remove(t){const e=Wo(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[Wo(e)];Ja([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,s=t.length;i<s;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return So(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return Xa(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}},bm="addfeature",xm="changefeature",wm="clear",Sm="removefeature",Cm="featuresloadstart",Em="featuresloadend",km="featuresloaderror";function Mm(t,e){return[[-1/0,-1/0,1/0,1/0]]}let Rm=!1;function Im(t,e){return function(n,i,s,r,o){const a=this;!function(t,e,n,i,s,r,o){const a=new XMLHttpRequest;a.open("GET","function"===typeof t?t(n,i,s):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=Rm,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();let i;"json"==t?i=JSON.parse(a.responseText):"text"==t?i=a.responseText:"xml"==t?(i=a.responseXML,i||(i=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==t&&(i=a.response),i?r(e.readFeatures(i,{extent:n,featureProjection:s}),e.readProjection(i)):o()}else o()},a.onerror=o,a.send()}(t,e,n,i,s,(function(t,e){a.addFeatures(t),void 0!==r&&r(t)}),o||bo)}}class Pm extends ho{constructor(t,e,n){super(t),this.feature=e,this.features=n}}const Tm=class extends lm{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=bo,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&(Ia(this.format_,"`format` must be set when `url` is set"),this.loader_=Im(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:Mm;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,i;this.featuresRtree_=e?new vm:null,this.loadedExtentsRtree_=new vm,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?i=t.features:t.features&&(n=t.features,i=n.getArray()),e||void 0!==n||(n=new Gg(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=Wo(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Pm(bm,t))}setupChangeEvents_(t,e){e instanceof Vh||(this.featureChangeKeys_[t]=[Do(e,Eo,this.handleFeatureChange_,this),Do(e,co,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof Vh){const i=this.idIndex_[t];i instanceof Vh?Array.isArray(i)?i.push(e):this.idIndex_[t]=[i,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&(Ia(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],i=[];for(let s=0,r=t.length;s<r;s++){const e=t[s],i=Wo(e);this.addToIndex_(i,e)&&n.push(e)}for(let s=0,r=n.length;s<r;s++){const t=n[s],r=Wo(t);this.setupChangeEvents_(r,t);const o=t.getGeometry();if(o){const n=o.getExtent();e.push(n),i.push(t)}else this.nullGeometryFeatures_[r]=t}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener(bm))for(let s=0,r=n.length;s<r;s++)this.dispatchEvent(new Pm(bm,n[s]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(bm,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(Sm,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(Bg,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(Wg,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(Ao)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=t=>{this.removeFeatureInternal(t)};this.featuresRtree_.forEach(t);for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new Pm(wm);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){const i=n.getGeometry();if(i instanceof Vh||i.intersectsCoordinate(t))return e(n)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(n){const i=n.getGeometry();if(i instanceof Vh||i.intersectsExtent(t)){const t=e(n);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),So(this.nullGeometryFeatures_)||mo(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const n=function(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];ml(t,e);const i=dl(n);if(dl(t)>i)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+i,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-i,t[3]]]}return[t]}(t,e);return[].concat(...n.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],i=t[1];let s=null;const r=[NaN,NaN];let o=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||yo,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=o;if(o=e instanceof Vh?0:e.closestPointXY(n,i,r,o),o<l){s=t;const e=Math.sqrt(o);a[0]=n-e,a[1]=i-e,a[2]=n+e,a[3]=i+e}}})),s}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=Wo(e),i=e.getGeometry();if(i){const t=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const s=e.getId();if(void 0!==s){const t=s.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Pm(xm,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:Wo(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&So(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const i=this.loadedExtentsRtree_,s=this.strategy_(t,e,n);for(let r=0,o=s.length;r<o;++r){const t=s[r];i.forEachInExtent(t,(function(e){return Ha(e.extent,t)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new Pm(Cm)),this.loader_.call(this,t,e,n,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new Pm(Em,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Pm(km))})),i.insert(t,{extent:t.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,(function(e){if(Ja(e.extent,t))return n=e,!0})),n&&e.remove(n)}removeFeature(t){if(!t)return;const e=Wo(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=Wo(t),n=this.featureChangeKeys_[e];if(!n)return;n.forEach(Ao),delete this.featureChangeKeys_[e];const i=t.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Pm(Sm,t)),t}removeFromIdIndex_(t){let e=!1;for(const n in this.idIndex_){const i=this.idIndex_[n];if(t instanceof Vh&&Array.isArray(i)&&i.includes(t))i.splice(i.indexOf(t),1);else if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}}return e}setLoader(t){this.loader_=t}setUrl(t){Ia(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(Im(t,this.format_))}},Lm=n.p+"static/media/loadingAnimation.1a32f552ee5280e2aef9.gif",Dm=JSON.parse('{"ABW":{"stable":113.0386896,"loss":6.764463031,"gain":19.23965551,"disturb":0.676439777,"net":12.47519248,"percentage_change":10.354599952697754,"total_area":18193.8402228258},"AFG":{"stable":368081.8667,"loss":16604.62185,"gain":10741.05636,"disturb":1146.238925,"net":-5863.565488,"percentage_change":-1.519719958305359,"total_area":64385932.5185039},"AGO":{"stable":44546560.19,"loss":3412610.65,"gain":1224125.363,"disturb":1623929.359,"net":-2188485.287,"percentage_change":-4.413770198822021,"total_area":124742581.122576},"AIA":{"stable":890.1523992,"loss":51.50785777,"gain":69.88150957,"disturb":9.731989722,"net":18.3736518,"percentage_change":1.93123996257782,"total_area":8330.33086909725},"ALA":{"stable":76419.0285,"loss":7426.981831,"gain":2582.85031,"disturb":12417.96971,"net":-4844.131521,"percentage_change":-5.032129764556885,"total_area":150631.201330911},"ALB":{"stable":814631.916,"loss":40701.84468,"gain":16472.22313,"disturb":41219.90603,"net":-24229.62155,"percentage_change":-2.702529907226562,"total_area":2873542.7602842},"AND":{"stable":22336.5143,"loss":57.83092571,"gain":120.0828733,"disturb":100.2293444,"net":62.25194756,"percentage_change":0.27674201130867,"total_area":45195.0820721624},"ARE":{"stable":492.3821985,"loss":0,"gain":595.9541302,"disturb":0,"net":595.9541302,"percentage_change":121.03500366210938,"total_area":7119678.41505192},"ARG":{"stable":27610827.4,"loss":4664485.026,"gain":1107731.996,"disturb":1744460.007,"net":-3556753.031,"percentage_change":-10.454899787902832,"total_area":278009660.97243},"ARM":{"stable":365708.0012,"loss":6154.364297,"gain":12255.9774,"disturb":1426.125983,"net":6101.613102,"percentage_change":1.634559988975525,"total_area":2969016.34801256},"ATF":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":786754.174515764},"ATG":{"stable":12850.20565,"loss":979.9685569,"gain":361.5565234,"disturb":1791.706378,"net":-618.4120336,"percentage_change":-3.958620071411133,"total_area":43580.9949659193},"AUS":{"stable":80328275.65,"loss":2517149.647,"gain":1600595.931,"disturb":6456183.336,"net":-916553.7155,"percentage_change":-1.026360034942627,"total_area":768803974.392573},"AUT":{"stable":3881301.581,"loss":137385.7482,"gain":36316.69879,"disturb":447061.3484,"net":-101069.0494,"percentage_change":-2.263200044631958,"total_area":8385823.85313804},"AZE":{"stable":1035067.601,"loss":28864.52361,"gain":30269.9933,"disturb":3743.588422,"net":1405.469684,"percentage_change":0.131638005375862,"total_area":8623547.86582102},"BDI":{"stable":817066.142,"loss":34711.0218,"gain":16374.25049,"disturb":54036.9026,"net":-18336.77131,"percentage_change":-2.024339914321899,"total_area":2693529.15355052},"BEL":{"stable":919730.7707,"loss":44808.30438,"gain":41686.96334,"disturb":105220.6899,"net":-3121.341038,"percentage_change":-0.2917799949646,"total_area":3070746.59353332},"BEN":{"stable":4299628.958,"loss":539499.6983,"gain":181408.5124,"disturb":187710.3404,"net":-358091.1859,"percentage_change":-7.123579978942871,"total_area":11542319.027277},"BES":{"stable":1993.683682,"loss":67.50934402,"gain":270.1831211,"disturb":59.5106865,"net":202.6737771,"percentage_change":9.556929588317871,"total_area":32369.4201292073},"BFA":{"stable":2352383.739,"loss":151938.0505,"gain":142766.4951,"disturb":68670.6831,"net":-9171.555336,"percentage_change":-0.356454998254776,"total_area":27341749.0774142},"BGD":{"stable":3313032.511,"loss":115404.6006,"gain":317862.2153,"disturb":612964.0616,"net":202457.6148,"percentage_change":5.009590148925781,"total_area":13938444.6126957},"BGR":{"stable":4005034.475,"loss":46473.93766,"gain":106351.2242,"disturb":204540.1578,"net":59877.28656,"percentage_change":1.406870007514954,"total_area":11158767.1176869},"BHR":{"stable":55.03928004,"loss":0,"gain":62.2524651,"disturb":0,"net":62.2524651,"percentage_change":113.1050033569336,"total_area":71512.548238655},"BHS":{"stable":81747.31984,"loss":10598.89884,"gain":6316.442552,"disturb":12403.69924,"net":-4282.456284,"percentage_change":-4.088260173797607,"total_area":1338807.9914193},"BIH":{"stable":2796590.727,"loss":31762.04887,"gain":53275.76297,"disturb":49758.20777,"net":21513.7141,"percentage_change":0.747494995594025,"total_area":5106885.31171796},"BLM":{"stable":676.7771996,"loss":30.4928369,"gain":2.565391504,"disturb":3.005307074,"net":-27.92744539,"percentage_change":-3.931920051574707,"total_area":2470.77717005131},"BLR":{"stable":7407088.671,"loss":442151.5198,"gain":963621.3303,"disturb":683220.8007,"net":521469.8105,"percentage_change":6.111599922180176,"total_area":20706980.8334169},"BLZ":{"stable":1254065.069,"loss":152882.666,"gain":18602.46409,"disturb":195407.8138,"net":-134280.2019,"percentage_change":-8.380149841308594,"total_area":2198944.89750421},"BMU":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":6806.27400643133},"BOL":{"stable":52561114.22,"loss":3941665.136,"gain":617221.733,"disturb":2706922.118,"net":-3324443.403,"percentage_change":-5.614689826965332,"total_area":108339299.211545},"BRA":{"stable":413722809.3,"loss":36141245.77,"gain":8062324.946,"disturb":23421628.86,"net":-28078920.83,"percentage_change":-5.932759761810303,"total_area":850036547.481532},"BRB":{"stable":7200.010791,"loss":222.7540923,"gain":376.6952744,"disturb":203.4063701,"net":153.9411821,"percentage_change":2.018589973449707,"total_area":43463.9641175888},"BRN":{"stable":484942.5848,"loss":10606.02793,"gain":7531.553715,"disturb":28194.881,"net":-3074.474214,"percentage_change":-0.587018013000488,"total_area":577779.930063346},"BTN":{"stable":2895401.964,"loss":13679.4498,"gain":28220.64226,"disturb":51832.54473,"net":14541.19246,"percentage_change":0.491106003522873,"total_area":3876298.93951111},"BWA":{"stable":164360.4894,"loss":14571.47395,"gain":13303.39283,"disturb":302.6771643,"net":-1268.08112,"percentage_change":-0.707495987415314,"total_area":57787082.3025846},"CAF":{"stable":53227478.2,"loss":1210279.388,"gain":482448.8545,"disturb":785267.1289,"net":-727830.5332,"percentage_change":-1.317980051040649,"total_area":62019966.6957622},"CAN":{"stable":257102961.5,"loss":25165466.41,"gain":16965284.91,"disturb":14863606.53,"net":-8200181.505,"percentage_change":-2.759779930114746,"total_area":995519376.074993},"CHE":{"stable":1523090.726,"loss":27521.90605,"gain":15072.54164,"disturb":71105.46397,"net":-12449.36441,"percentage_change":-0.767664015293121,"total_area":4124571.17499841},"CHL":{"stable":15702009.87,"loss":746166.3521,"gain":731816.047,"disturb":1798848.115,"net":-14350.30518,"percentage_change":-0.078644700348377,"total_area":75758031.1314383},"CHN":{"stable":202215007.6,"loss":4544793.47,"gain":6689645.413,"disturb":17176985.64,"net":2144851.943,"percentage_change":0.957792997360229,"total_area":938225139.900919},"CIV":{"stable":16844645.4,"loss":2530533.349,"gain":881678.967,"disturb":4377647.841,"net":-1648854.382,"percentage_change":-6.94173002243042,"total_area":32165807.2068038},"CMR":{"stable":33948994.88,"loss":976901.7875,"gain":351062.9551,"disturb":1672205.914,"net":-625838.8324,"percentage_change":-1.71002995967865,"total_area":46604003.7678564},"COD":{"stable":146862160.8,"loss":7593082.77,"gain":1591178.08,"disturb":14566288.79,"net":-6001904.69,"percentage_change":-3.550960063934326,"total_area":232913005.721967},"COG":{"stable":22820170.48,"loss":444820.9271,"gain":113139.3628,"disturb":830609.0512,"net":-331681.5643,"percentage_change":-1.376520037651062,"total_area":34173218.7077241},"COL":{"stable":73177488.35,"loss":2825977.17,"gain":1085199.829,"disturb":3286546.499,"net":-1740777.341,"percentage_change":-2.195460081100464,"total_area":113675882.143972},"COM":{"stable":122676.0253,"loss":2428.118256,"gain":81.7742108,"disturb":9591.551037,"net":-2346.344046,"percentage_change":-1.741960048675537,"total_area":167314.999276359},"CPV":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":409095.248907761},"CRI":{"stable":3501690.481,"loss":149651.4362,"gain":57877.23856,"disturb":213550.3992,"net":-91774.19765,"percentage_change":-2.374560117721558,"total_area":5117680.31997091},"CUB":{"stable":3014135.495,"loss":170192.9737,"gain":164351.0873,"disturb":318511.6618,"net":-5841.886383,"percentage_change":-0.1667760014534,"total_area":11073065.3746317},"CUW":{"stable":5269.000308,"loss":78.01264612,"gain":175.9190732,"disturb":11.13514581,"net":97.90642707,"percentage_change":1.827239990234375,"total_area":43771.1431126868},"CYM":{"stable":4476.544149,"loss":272.7583944,"gain":496.9341203,"disturb":199.6851885,"net":224.175726,"percentage_change":4.529729843139648,"total_area":28040.760985863},"CYP":{"stable":139986.23,"loss":2177.945868,"gain":3222.200326,"disturb":2208.940906,"net":1044.254459,"percentage_change":0.723303020000458,"total_area":571965.580725408},"CZE":{"stable":2621612.774,"loss":152439.8236,"gain":77300.14896,"disturb":526622.2395,"net":-75139.67468,"percentage_change":-2.27649998664856,"total_area":7883578.54203678},"DEU":{"stable":11675410.95,"loss":344276.3738,"gain":342764.0011,"disturb":1086578.558,"net":-1512.372724,"percentage_change":-0.011539299972355,"total_area":35783935.1133396},"DJI":{"stable":32.97489316,"loss":2.260212537,"gain":1.4302013,"disturb":0,"net":-0.830011237,"percentage_change":-2.355639934539795,"total_area":2186344.92995705},"DMA":{"stable":45271.82353,"loss":1056.108116,"gain":79.9493593,"disturb":25049.94302,"net":-976.1587563,"percentage_change":-1.367589950561523,"total_area":75421.4293463207},"DNK":{"stable":417061.2133,"loss":55388.41325,"gain":95181.87352,"disturb":65361.18882,"net":39793.46027,"percentage_change":7.399149894714355,"total_area":4314484.68647839},"DOM":{"stable":2264165.131,"loss":122957.263,"gain":54804.57498,"disturb":291468.1225,"net":-68152.68801,"percentage_change":-2.544349908828735,"total_area":4809209.2339254},"DZA":{"stable":1457267.941,"loss":64038.11203,"gain":89151.77742,"disturb":240360.5685,"net":25113.66539,"percentage_change":1.425559997558594,"total_area":230804982.332597},"ECU":{"stable":17081252.46,"loss":494949.0731,"gain":218567.5313,"disturb":899419.4671,"net":-276381.5418,"percentage_change":-1.495929956436157,"total_area":25611561.9289089},"EGY":{"stable":16370.5046,"loss":2044.739685,"gain":4206.15268,"disturb":15.30581141,"net":2161.412994,"percentage_change":11.727299690246582,"total_area":98376418.4656743},"ERI":{"stable":57161.77211,"loss":7.356795319,"gain":10676.06658,"disturb":121.0988717,"net":10668.70978,"percentage_change":18.62220001220703,"total_area":12045741.3968309},"ESH":{"stable":0.070589496,"loss":0,"gain":0.846848157,"disturb":0,"net":0.846848157,"percentage_change":1199.6800537109375,"total_area":26733487.9148739},"ESP":{"stable":11431831.43,"loss":348144.4462,"gain":381025.3897,"disturb":1239765.56,"net":32880.9435,"percentage_change":0.252548009157181,"total_area":50604375.857333},"EST":{"stable":1932398.049,"loss":237544.7034,"gain":165132.2195,"disturb":371179.0615,"net":-72412.48394,"percentage_change":-2.849630117416382,"total_area":4548988.73280992},"ETH":{"stable":18890508.72,"loss":1141912.662,"gain":403581.9316,"disturb":406015.4693,"net":-738330.7306,"percentage_change":-3.612469911575317,"total_area":112952077.877939},"FIN":{"stable":16589946.98,"loss":1728477.533,"gain":1357034.206,"disturb":3174829.638,"net":-371443.3277,"percentage_change":-1.728180050849915,"total_area":33694010.1867756},"FJI":{"stable":1107681.075,"loss":26886.19645,"gain":5409.634482,"disturb":37415.57065,"net":-21476.56197,"percentage_change":-1.832499980926514,"total_area":1896347.67668122},"FLK":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":1239737.23388058},"FRA":{"stable":15762841.5,"loss":704313.6989,"gain":695650.863,"disturb":1223707.566,"net":-8662.835919,"percentage_change":-0.048967801034451,"total_area":54951621.8849027},"FRO":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":143961.446009783},"FSM":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":77485.664065212},"GAB":{"stable":23270672.31,"loss":148991.2306,"gain":50031.06659,"disturb":521335.4097,"net":-98960.16401,"percentage_change":-0.413349986076355,"total_area":26454983.6269715},"GBR":{"stable":2421686.653,"loss":391562.6061,"gain":473125.7693,"disturb":184814.7436,"net":81563.16318,"percentage_change":2.720530033111572,"total_area":24548583.9946319},"GEO":{"stable":3238385.425,"loss":17955.31797,"gain":93537.29397,"disturb":7227.517383,"net":75581.976,"percentage_change":2.315929889678955,"total_area":6984461.12332441},"GGY":{"stable":1774.35386,"loss":36.00551052,"gain":78.85813205,"disturb":4.535325275,"net":42.85262153,"percentage_change":2.361170053482056,"total_area":8845.12851174648},"GHA":{"stable":8669047.986,"loss":884921.1596,"gain":312123.9868,"disturb":1689032.583,"net":-572797.1728,"percentage_change":-5.094699859619141,"total_area":23832427.1212086},"GIB":{"stable":144.1995968,"loss":1.061191327,"gain":0.56179068,"disturb":0.124845825,"net":-0.499400647,"percentage_change":-0.34349998831749,"total_area":720.81338921733},"GIN":{"stable":14569792.29,"loss":1862332.281,"gain":272657.2335,"disturb":2620487.834,"net":-1589675.047,"percentage_change":-8.343609809875488,"total_area":24481617.4014539},"GLP":{"stable":90314.58778,"loss":2033.17428,"gain":1509.217279,"disturb":2435.976103,"net":-523.9570011,"percentage_change":-0.552792012691498,"total_area":165023.69670277},"GMB":{"stable":201174.8299,"loss":21082.31905,"gain":15326.75719,"disturb":4785.290155,"net":-5755.561866,"percentage_change":-2.535020112991333,"total_area":1067050.52347717},"GNB":{"stable":1880123.88,"loss":223318.1362,"gain":43268.88035,"disturb":251215.6454,"net":-180049.2559,"percentage_change":-7.646510124206543,"total_area":3388227.91109108},"GNQ":{"stable":2448327.011,"loss":44547.66424,"gain":5166.85211,"disturb":142302.5046,"net":-39380.81213,"percentage_change":-1.49442994594574,"total_area":2695941.24754932},"GRC":{"stable":4598100.059,"loss":90399.35144,"gain":71537.47043,"disturb":227256.4763,"net":-18861.88101,"percentage_change":-0.383702009916306,"total_area":13257480.2223044},"GRD":{"stable":26406.91274,"loss":674.6264044,"gain":85.03151119,"disturb":2324.867408,"net":-589.5948932,"percentage_change":-2.004990100860596,"total_area":35953.0958739884},"GTM":{"stable":5808934.441,"loss":760663.6792,"gain":291032.6654,"disturb":1205652.555,"net":-469631.0138,"percentage_change":-6.040080070495605,"total_area":10915281.0298948},"GUF":{"stable":7946900.217,"loss":32797.17931,"gain":10102.61659,"disturb":57454.37012,"net":-22694.56272,"percentage_change":-0.282371014356613,"total_area":8330094.90646966},"GUY":{"stable":18303217.15,"loss":97833.75994,"gain":30502.25134,"disturb":184827.3681,"net":-67331.5086,"percentage_change":-0.362271994352341,"total_area":20974406.5660456},"HKG":{"stable":70404.09313,"loss":762.1030183,"gain":676.0489667,"disturb":1352.202477,"net":-86.05405159,"percentage_change":-0.118665002286434,"total_area":112928.000032317},"HND":{"stable":6898082.386,"loss":392905.0107,"gain":137965.4265,"disturb":1203472.937,"net":-254939.5842,"percentage_change":-3.001250028610229,"total_area":11228974.1064553},"HRV":{"stable":2371445.722,"loss":65944.74052,"gain":59572.84425,"disturb":100864.3961,"net":-6371.896272,"percentage_change":-0.251035004854202,"total_area":5707857.57401441},"HTI":{"stable":1091792.77,"loss":17274.05136,"gain":13832.45061,"disturb":69415.61229,"net":-3441.600754,"percentage_change":-0.292037010192871,"total_area":2710674.97630783},"HUN":{"stable":1677658.31,"loss":122671.7652,"gain":207301.8336,"disturb":249845.2911,"net":84630.06845,"percentage_change":4.127930164337158,"total_area":9305287.2537369},"IDN":{"stable":124187188.6,"loss":9000754.243,"gain":4882137.053,"disturb":24056932.8,"net":-4118617.19,"percentage_change":-2.619240045547485,"total_area":189024478.603848},"IMN":{"stable":5582.411879,"loss":1144.651722,"gain":999.793023,"disturb":177.4652964,"net":-144.8586986,"percentage_change":-2.098020076751709,"total_area":57967.2897176517},"IND":{"stable":59241391.75,"loss":1007623.993,"gain":1881691.829,"disturb":6171562.907,"net":874067.8366,"percentage_change":1.315960049629211,"total_area":315280002.901119},"IRL":{"stable":388037.8442,"loss":94639.67857,"gain":284264.5391,"disturb":77309.85489,"net":189624.8605,"percentage_change":33.86240005493164,"total_area":7036676.6333273},"IRN":{"stable":1897089.625,"loss":18027.51898,"gain":49762.62817,"disturb":2490.701451,"net":31735.1092,"percentage_change":1.654929995536804,"total_area":162174073.494171},"IRQ":{"stable":28631.25778,"loss":553.1755485,"gain":9456.878192,"disturb":5.048216217,"net":8903.702643,"percentage_change":30.50309944152832,"total_area":44514841.6554415},"ISL":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":10222449.4223868},"ISR":{"stable":56109.83105,"loss":2379.467981,"gain":5317.699141,"disturb":1971.904565,"net":2938.23116,"percentage_change":4.859700202941895,"total_area":2215865.05747724},"ITA":{"stable":9262565.303,"loss":219582.124,"gain":189387.3113,"disturb":600229.1351,"net":-30194.81277,"percentage_change":-0.299479991197586,"total_area":30075506.3278109},"JAM":{"stable":757875.2923,"loss":13055.17963,"gain":5832.946607,"disturb":52147.34692,"net":-7222.233025,"percentage_change":-0.877466022968292,"total_area":1100003.39400875},"JEY":{"stable":1956.22107,"loss":24.86424194,"gain":110.4045552,"disturb":25.61831908,"net":85.54031327,"percentage_change":4.262740135192871,"total_area":12515.6211376805},"JOR":{"stable":8218.553604,"loss":45.37141445,"gain":871.675782,"disturb":11.16408841,"net":826.3043676,"percentage_change":9.985440254211426,"total_area":8911185.17524512},"JPN":{"stable":25995770.71,"loss":364928.0927,"gain":221005.2609,"disturb":742971.9045,"net":-143922.8318,"percentage_change":-0.531008005142212,"total_area":37246810.4275691},"KAZ":{"stable":3892793.963,"loss":40807.88337,"gain":71223.90122,"disturb":20018.68375,"net":30416.01785,"percentage_change":0.769321024417877,"total_area":273053625.573651},"KEN":{"stable":4125013.441,"loss":402328.1519,"gain":117012.534,"disturb":235368.7501,"net":-285315.6179,"percentage_change":-5.990610122680664,"total_area":58598375.9505265},"KGZ":{"stable":874670.8687,"loss":9754.728852,"gain":67691.49729,"disturb":1453.983505,"net":57936.76844,"percentage_change":6.540019989013672,"total_area":19864934.941294},"KHM":{"stable":6195015.302,"loss":2787894.771,"gain":147334.2989,"disturb":1337093.472,"net":-2640560.472,"percentage_change":-25.58679962158203,"total_area":18135961.9674847},"KNA":{"stable":13544.15703,"loss":256.3558888,"gain":426.3309754,"disturb":551.1173478,"net":169.9750866,"percentage_change":1.184360027313232,"total_area":26712.072417469},"KOR":{"stable":5625291.264,"loss":171087.2188,"gain":109265.7145,"disturb":259174.4726,"net":-61821.5043,"percentage_change":-1.020910024642944,"total_area":10022923.0027173},"KWT":{"stable":13.44885141,"loss":0,"gain":51.43582891,"disturb":0,"net":51.43582891,"percentage_change":382.4540100097656,"total_area":1738874.86017967},"LAO":{"stable":13290214.82,"loss":1573920.607,"gain":101748.6078,"disturb":5686879.288,"net":-1472171.999,"percentage_change":-7.163509845733643,"total_area":23000163.2092879},"LBN":{"stable":111857.7871,"loss":3716.71194,"gain":6369.420631,"disturb":7413.31517,"net":2652.70869,"percentage_change":2.156879901885986,"total_area":1023805.80349655},"LBR":{"stable":6420359.281,"loss":391822.1855,"gain":57761.77097,"disturb":2529281.886,"net":-334060.4146,"percentage_change":-3.57610011100769,"total_area":9591808.84159954},"LBY":{"stable":23178.66077,"loss":663.0951365,"gain":1498.71409,"disturb":182.5139319,"net":835.6189531,"percentage_change":3.478219985961914,"total_area":161605424.764326},"LCA":{"stable":49214.24342,"loss":835.4814613,"gain":143.5000295,"disturb":657.5670584,"net":-691.9814318,"percentage_change":-1.364660024642944,"total_area":61442.9761937263},"LIE":{"stable":8568.165814,"loss":166.9238252,"gain":56.40686066,"disturb":178.029241,"net":-110.5169646,"percentage_change":-1.239940047264099,"total_area":16203.9165204563},"LKA":{"stable":3834333.928,"loss":234687.3583,"gain":60079.30258,"disturb":533782.3489,"net":-174608.0558,"percentage_change":-3.793519973754883,"total_area":6583740.26480563},"LSO":{"stable":417831.7272,"loss":214.8973723,"gain":2973.217692,"disturb":415.2720605,"net":2758.32032,"percentage_change":0.659156978130341,"total_area":3054527.49315476},"LTU":{"stable":1722243.843,"loss":116688.7894,"gain":241549.196,"disturb":315129.405,"net":124860.4066,"percentage_change":5.796510219573975,"total_area":6501683.98731608},"LUX":{"stable":96292.56806,"loss":2551.994594,"gain":2851.13919,"disturb":9845.718885,"net":299.1445956,"percentage_change":0.275227010250092,"total_area":258155.428985963},"LVA":{"stable":2416418.947,"loss":285811.9717,"gain":290490.5375,"disturb":681009.7865,"net":4678.565765,"percentage_change":0.138286992907524,"total_area":6471010.19520577},"MAC":{"stable":405.2492611,"loss":36.62728992,"gain":6.781514734,"disturb":16.13679371,"net":-29.84577519,"percentage_change":-6.516359806060791,"total_area":3412.86825329967},"MAF":{"stable":1686.806173,"loss":72.64260037,"gain":24.31129097,"disturb":35.95584907,"net":-48.3313094,"percentage_change":-2.691950082778931,"total_area":5616.77259581023},"MAR":{"stable":1139155.464,"loss":39688.66395,"gain":81646.01758,"disturb":50160.94444,"net":41957.35363,"percentage_change":3.413909912109375,"total_area":41347360.4241826},"MCO":{"stable":8.391696887,"loss":0,"gain":0.335679309,"disturb":0.055945862,"net":0.335679309,"percentage_change":3.973649978637695,"total_area":235.490992721368},"MDA":{"stable":286616.5213,"loss":5915.314839,"gain":36546.53188,"disturb":28517.31139,"net":30631.21704,"percentage_change":9.540980339050293,"total_area":3390786.90024661},"MDG":{"stable":11490021.65,"loss":1197277.811,"gain":173321.6524,"disturb":4694528.525,"net":-1023956.159,"percentage_change":-5.890970230102539,"total_area":59144636.5499771},"MDV":{"stable":3447.377276,"loss":17.42483192,"gain":31.49008057,"disturb":28.73735398,"net":14.06524865,"percentage_change":0.402606993913651,"total_area":29968.4623890868},"MEX":{"stable":57634185.01,"loss":2213417.468,"gain":1423109.695,"disturb":3396670.714,"net":-790307.7724,"percentage_change":-1.24960994720459,"total_area":195202320.347908},"MKD":{"stable":807448.5667,"loss":24292.74316,"gain":12568.3223,"disturb":46198.13181,"net":-11724.42086,"percentage_change":-1.335450053215027,"total_area":2482511.06090159},"MLI":{"stable":7230082.616,"loss":459693.6949,"gain":203580.3295,"disturb":124666.7724,"net":-256113.3654,"percentage_change":-3.277440071105957,"total_area":125119407.283331},"MLT":{"stable":92.44779409,"loss":0.125121124,"gain":11.26713514,"disturb":2.942780469,"net":11.14201401,"percentage_change":11.66510009765625,"total_area":32336.7769544824},"MMR":{"stable":35420448.9,"loss":2227709.326,"gain":636628.0598,"disturb":8391213.627,"net":-1591081.266,"percentage_change":-3.455909967422485,"total_area":66929740.5481561},"MNE":{"stable":630414.7868,"loss":21984.18065,"gain":9784.087794,"disturb":18673.69357,"net":-12200.09285,"percentage_change":-1.817999958992004,"total_area":1333532.97360937},"MNG":{"stable":7224955.282,"loss":342659.5276,"gain":78601.21451,"disturb":223549.8397,"net":-264058.3131,"percentage_change":-3.38919997215271,"total_area":156625024.130041},"MOZ":{"stable":35317855.28,"loss":4897465.164,"gain":583187.7052,"disturb":2024996.165,"net":-4314277.459,"percentage_change":-10.213700294494629,"total_area":78729703.2899764},"MRT":{"stable":411.2010682,"loss":1.181878259,"gain":711.4174084,"disturb":2.436223169,"net":710.2355302,"percentage_change":171.21600341796875,"total_area":104117405.222657},"MSR":{"stable":5345.16442,"loss":71.17158223,"gain":249.9015654,"disturb":334.9969414,"net":178.7299832,"percentage_change":3.107630014419556,"total_area":10064.547354381},"MTQ":{"stable":74927.60153,"loss":2847.666335,"gain":678.1005399,"disturb":2431.617302,"net":-2169.565795,"percentage_change":-2.704960107803345,"total_area":111798.246939348},"MUS":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":202740.992314936},"MWI":{"stable":2317735.588,"loss":263937.6887,"gain":41602.096,"disturb":239353.8248,"net":-222335.5927,"percentage_change":-7.881360054016113,"total_area":11802870.9983038},"MYS":{"stable":18799585.55,"loss":2129694.713,"gain":1004944.913,"disturb":8829933.147,"net":-1124749.8,"percentage_change":-3.779500007629395,"total_area":32938342.2012489},"MYT":{"stable":27533.7295,"loss":274.9847884,"gain":249.0903105,"disturb":4538.964185,"net":-25.89447795,"percentage_change":-0.080050401389599,"total_area":39166.5900514309},"NAM":{"stable":150086.7761,"loss":15674.12658,"gain":15114.34659,"disturb":280.471125,"net":-559.7799892,"percentage_change":-0.337134003639221,"total_area":82386293.5927024},"NCL":{"stable":1391815.628,"loss":16434.19023,"gain":1854.902943,"disturb":30234.27428,"net":-14579.28729,"percentage_change":-1.013520002365112,"total_area":1882703.18789677},"NER":{"stable":14909.16067,"loss":966.8816259,"gain":5781.700434,"disturb":5.85283443,"net":4814.818808,"percentage_change":30.3164005279541,"total_area":118367073.218109},"NGA":{"stable":20636992.13,"loss":2396550.386,"gain":927801.1658,"disturb":1181231.791,"net":-1468749.22,"percentage_change":-6.065499782562256,"total_area":90841013.6018245},"NIC":{"stable":5726682.664,"loss":974025.8372,"gain":142444.8673,"disturb":1034769.473,"net":-831580.9699,"percentage_change":-10.750200271606445,"total_area":12821977.2309482},"NLD":{"stable":488231.2933,"loss":23484.65073,"gain":60819.79219,"disturb":25410.42474,"net":37335.14146,"percentage_change":6.950910091400146,"total_area":3766581.17751592},"NOR":{"stable":9465432.115,"loss":621934.9451,"gain":476527.2834,"disturb":670142.8423,"net":-145407.6617,"percentage_change":-1.351690053939819,"total_area":32512296.8609833},"NPL":{"stable":6718407.852,"loss":73724.83158,"gain":174008.0421,"disturb":55029.27995,"net":100283.2105,"percentage_change":1.464599967002869,"total_area":14766263.5464446},"NRU":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":2215.10581417331},"NZL":{"stable":9710144.885,"loss":543333.0853,"gain":434872.9593,"disturb":876751.9462,"net":-108460.126,"percentage_change":-0.974466979503632,"total_area":26870943.9906242},"OMN":{"stable":26829.30748,"loss":18.51844569,"gain":1548.271524,"disturb":14.68357675,"net":1529.753078,"percentage_change":5.69474983215332,"total_area":30932513.190468},"PAK":{"stable":2057786.046,"loss":38695.11242,"gain":133481.2175,"disturb":7457.595683,"net":94786.10513,"percentage_change":4.505169868469238,"total_area":87417713.75564},"PAN":{"stable":4830714.273,"loss":275409.8437,"gain":84108.71468,"disturb":367526.6978,"net":-191301.129,"percentage_change":-3.49495005607605,"total_area":7510388.08356183},"PER":{"stable":74322642.46,"loss":1192383.946,"gain":430185.9945,"disturb":3035642.013,"net":-762197.9519,"percentage_change":-0.970326006412506,"total_area":129281649.517318},"PHL":{"stable":18693542.8,"loss":472083.956,"gain":172161.4275,"disturb":1571875.854,"net":-299922.5285,"percentage_change":-1.446280002593994,"total_area":29585680.871832},"PLW":{"stable":38848.1056,"loss":220.129149,"gain":135.2841344,"disturb":632.7983625,"net":-84.84501462,"percentage_change":-0.213709995150566,"total_area":48750.6242780218},"PNG":{"stable":38971685.43,"loss":298241.8823,"gain":266144.7646,"disturb":2063878.329,"net":-32097.11767,"percentage_change":-0.077653400599957,"total_area":46363129.5968006},"POL":{"stable":9114498.454,"loss":485398.3536,"gain":892077.2889,"disturb":975192.7957,"net":406678.9353,"percentage_change":3.845629930496216,"total_area":31240006.0064748},"PRI":{"stable":472238.677,"loss":12060.08239,"gain":7140.682717,"disturb":69460.6421,"net":-4919.399669,"percentage_change":-0.888364970684052,"total_area":897047.375899234},"PRK":{"stable":6061637.154,"loss":213515.9692,"gain":288492.6822,"disturb":394941.5966,"net":74976.71296,"percentage_change":1.124070048332214,"total_area":12275512.8422719},"PRT":{"stable":1647004.443,"loss":272646.6644,"gain":168607.4748,"disturb":1150971.793,"net":-104039.1895,"percentage_change":-3.38821005821228,"total_area":9187803.31624075},"PRY":{"stable":14232500.5,"loss":5810873.156,"gain":642486.3803,"disturb":883902.7637,"net":-5168386.776,"percentage_change":-24.6968994140625,"total_area":39958591.7941758},"PSE":{"stable":5952.80973,"loss":86.38087599,"gain":1697.133218,"disturb":13.35120919,"net":1610.752342,"percentage_change":26.61280059814453,"total_area":621996.141782347},"QAT":{"stable":25.64411087,"loss":0,"gain":37.96323237,"disturb":0,"net":37.96323237,"percentage_change":148.03900146484375,"total_area":1162484.53095733},"REU":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":251265.206814008},"ROU":{"stable":7427728.728,"loss":105707.24,"gain":223890.8045,"disturb":534902.6883,"net":118183.5645,"percentage_change":1.46477997303009,"total_area":23833860.1445231},"RUS":{"stable":686224764.9,"loss":37396856.96,"gain":37220768.27,"disturb":51623646.32,"net":-176088.695,"percentage_change":-0.022713899612427,"total_area":1692582279.52765},"RWA":{"stable":513651.3167,"loss":33031.74562,"gain":16061.38275,"disturb":47123.12402,"net":-16970.36287,"percentage_change":-2.857899904251099,"total_area":2527768.54399578},"SAU":{"stable":16036.47174,"loss":0,"gain":7598.985564,"disturb":0.493650037,"net":7598.985564,"percentage_change":47.38410186767578,"total_area":191619240.72767},"SDN":{"stable":3715927.944,"loss":85308.97738,"gain":216597.7511,"disturb":2345.334815,"net":131288.7737,"percentage_change":3.451719999313354,"total_area":187212842.5786},"SEN":{"stable":3891937.36,"loss":108281.9406,"gain":77187.3919,"disturb":69440.06703,"net":-31094.54872,"percentage_change":-0.764057993888855,"total_area":19688970.5213499},"SGP":{"stable":16318.213,"loss":2355.764778,"gain":1976.969808,"disturb":1613.344175,"net":-378.7949707,"percentage_change":-1.867149949073792,"total_area":69702.4691503164},"SJM":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":6034333.02681666},"SLB":{"stable":2450208.008,"loss":27720.26822,"gain":4916.629708,"disturb":228080.6678,"net":-22803.63852,"percentage_change":-0.842702984809875,"total_area":2853282.77259198},"SLE":{"stable":3397505.86,"loss":646773.718,"gain":102136.7953,"disturb":1993843.215,"net":-544636.9228,"percentage_change":-9.019969940185547,"total_area":7260113.91711789},"SLV":{"stable":1229320.674,"loss":36516.4356,"gain":14647.3911,"disturb":65853.53843,"net":-21869.04451,"percentage_change":-1.642199993133545,"total_area":2042274.75699852},"SMR":{"stable":1051.506875,"loss":7.8072427,"gain":19.12292026,"disturb":3.792145819,"net":11.31567756,"percentage_change":1.064389944076538,"total_area":6121.55607584051},"SOM":{"stable":167884.9217,"loss":7792.000091,"gain":4188.832679,"disturb":1285.957762,"net":-3603.167411,"percentage_change":-2.036109924316406,"total_area":63353637.3179269},"SPM":{"stable":1300.052029,"loss":16.41905013,"gain":31.72241763,"disturb":2.651412012,"net":15.30336749,"percentage_change":1.160120010375977,"total_area":22665.7034835693},"SRB":{"stable":2877987.697,"loss":40867.45608,"gain":76226.92908,"disturb":82743.15692,"net":35359.473,"percentage_change":1.178020000457764,"total_area":7823164.38382284},"SSD":{"stable":25841911.94,"loss":801955.6432,"gain":1082861.401,"disturb":96714.82231,"net":280905.7573,"percentage_change":1.050480008125305,"total_area":62810211.1141381},"STP":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":100223.400050129},"SUR":{"stable":13408434.64,"loss":81504.18138,"gain":23723.919,"disturb":154506.5484,"net":-57780.26238,"percentage_change":-0.423471987247467,"total_area":14642554.9863603},"SVK":{"stable":2127948.326,"loss":74716.97983,"gain":35796.94761,"disturb":264843.1225,"net":-38920.03223,"percentage_change":-1.577299952507019,"total_area":4909927.0511135},"SVN":{"stable":1265908.483,"loss":14322.77802,"gain":7767.609089,"disturb":78528.31584,"net":-6555.168931,"percentage_change":-0.482437998056412,"total_area":1998091.29894533},"SWE":{"stable":21241909.9,"loss":2633627.627,"gain":1671299.507,"disturb":3655699.634,"net":-962328.1205,"percentage_change":-3.495409965515137,"total_area":45004727.4502651},"SWZ":{"stable":568329.1475,"loss":44997.17519,"gain":23455.01036,"disturb":97777.73035,"net":-21542.16483,"percentage_change":-3.029400110244751,"total_area":1738325.7977585},"SXM":{"stable":1106.632087,"loss":44.01968395,"gain":16.48021498,"disturb":13.25676604,"net":-27.53946896,"percentage_change":-2.366120100021362,"total_area":3800.7201659462},"SYC":{"stable":1181.974881,"loss":242.1821713,"gain":1.442033191,"disturb":3.264646356,"net":-240.7401382,"percentage_change":-16.865400314331055,"total_area":49120.0037973727},"SYR":{"stable":113941.9389,"loss":18001.94457,"gain":5710.720621,"disturb":14379.67184,"net":-12291.22395,"percentage_change":-8.400010108947754,"total_area":18691756.3191454},"TCA":{"stable":1080.531944,"loss":39.85079083,"gain":63.76670968,"disturb":49.63803136,"net":23.91591885,"percentage_change":2.044059991836548,"total_area":99145.1141140332},"TCD":{"stable":9444707.709,"loss":1100419.115,"gain":256622.0419,"disturb":232177.0329,"net":-843797.0728,"percentage_change":-7.829390048980713,"total_area":126996302.128724},"TGO":{"stable":1985196.841,"loss":180924.8314,"gain":47915.69198,"disturb":103808.7226,"net":-133009.1394,"percentage_change":-5.859610080718994,"total_area":5699532.49109748},"THA":{"stable":18845385.17,"loss":1747956.193,"gain":1842372.617,"disturb":4057502.264,"net":94416.42424,"percentage_change":0.383015990257263,"total_area":51405455.9454424},"TJK":{"stable":153480.1691,"loss":3592.432958,"gain":19712.0273,"disturb":76.54588408,"net":16119.59434,"percentage_change":10.257499694824219,"total_area":14211321.7272894},"TKM":{"stable":3439.3155,"loss":439.3777333,"gain":419.0480611,"disturb":45.48363206,"net":-20.32967222,"percentage_change":-0.518061995506287,"total_area":48959303.8218277},"TLS":{"stable":1068266.707,"loss":12383.61704,"gain":11133.80777,"disturb":56885.85339,"net":-1249.809277,"percentage_change":-0.109869003295898,"total_area":1491547.73139282},"TTO":{"stable":335960.331,"loss":14919.53669,"gain":3320.427198,"disturb":13789.96102,"net":-11599.10949,"percentage_change":-3.180710077285767,"total_area":515913.260067243},"TUN":{"stable":240737.9946,"loss":14967.45644,"gain":10133.42684,"disturb":23713.92378,"net":-4834.029595,"percentage_change":-1.730029940605164,"total_area":15486357.962779},"TUR":{"stable":12756770.3,"loss":385030.0785,"gain":473796.6578,"disturb":510036.2682,"net":88766.57928,"percentage_change":0.650219023227692,"total_area":78070435.9480691},"TUV":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":4172.56029991419},"TWN":{"stable":2465048.94,"loss":25057.80255,"gain":29314.59056,"disturb":63675.99801,"net":4256.788017,"percentage_change":0.166685998439789,"total_area":3640633.59662236},"TZA":{"stable":27968218.85,"loss":4374164.769,"gain":557235.6116,"disturb":1437826.817,"net":-3816929.158,"percentage_change":-11.299300193786621,"total_area":94057605.4329342},"UGA":{"stable":2947708.359,"loss":1238023.462,"gain":185026.6322,"disturb":313915.9604,"net":-1052996.83,"percentage_change":-23.40180015563965,"total_area":24144006.820544},"UKR":{"stable":9065233.102,"loss":499821.4538,"gain":926367.2171,"disturb":895296.2712,"net":426545.7633,"percentage_change":4.077720165252686,"total_area":60136264.3698009},"UMI":{"stable":60.81547964,"loss":6.359419885,"gain":4.458704871,"disturb":91.58840497,"net":-1.900715015,"percentage_change":-1.197199940681458,"total_area":4726.82584069425},"URY":{"stable":659122.2229,"loss":112760.4201,"gain":654493.5038,"disturb":230107.5801,"net":541733.0837,"percentage_change":54.06570053100586,"total_area":17746563.3947635},"USA":{"stable":237725811.8,"loss":17472750.87,"gain":13986759.49,"disturb":28365368.84,"net":-3485991.38,"percentage_change":-1.229349970817566,"total_area":947301496.74622},"UZB":{"stable":154547.8563,"loss":3494.647046,"gain":43149.21755,"disturb":147.4116399,"net":39654.5705,"percentage_change":25.067699432373047,"total_area":44755552.4691354},"VAT":{"stable":12.49955562,"loss":0,"gain":0.057601062,"disturb":0,"net":0.057601062,"percentage_change":0.460822999477386,"total_area":52.672335982573},"VCT":{"stable":30990.39788,"loss":885.1411288,"gain":126.8197636,"disturb":427.3877138,"net":-758.3213652,"percentage_change":-2.347529888153076,"total_area":39794.5401713476},"VEN":{"stable":51803026.08,"loss":1860299.206,"gain":491357.7329,"disturb":1332976.395,"net":-1368941.473,"percentage_change":-2.489150047302246,"total_area":91249271.878181},"VGB":{"stable":7322.52854,"loss":150.3974909,"gain":23.8967681,"disturb":383.143236,"net":-126.5007228,"percentage_change":-1.610229969024658,"total_area":16935.6707119457},"VIR":{"stable":17079.67869,"loss":895.208057,"gain":209.2410978,"disturb":1703.14131,"net":-685.9669592,"percentage_change":-3.485960006713867,"total_area":36215.980360652},"VNM":{"stable":13636990.64,"loss":1650186.839,"gain":1004759.743,"disturb":5231239.368,"net":-645427.0966,"percentage_change":-3.145600080490112,"total_area":32927630.6411528},"VUT":{"stable":1130094.605,"loss":4005.148453,"gain":302.552144,"disturb":20493.74698,"net":-3702.596309,"percentage_change":-0.320684999227524,"total_area":1231898.56644337},"XAD":{"stable":212.7985592,"loss":33.87242953,"gain":41.99979896,"disturb":10.10800923,"net":8.127369434,"percentage_change":3.165119886398315,"total_area":23445.7026225853},"XCA":{"stable":1132.917221,"loss":285.7521031,"gain":300.2439453,"disturb":0.348377637,"net":14.49184226,"percentage_change":1.021260023117065,"total_area":37158195.5770825},"XCL":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":1009.73004401524},"XKO":{"stable":393329.9319,"loss":14130.40693,"gain":9293.232272,"disturb":23436.37955,"net":-4837.174656,"percentage_change":-1.122580051422119,"total_area":1091980.13484293},"XNC":{"stable":28003.51642,"loss":845.9114365,"gain":1628.395563,"disturb":256.7938319,"net":782.4841266,"percentage_change":2.688380002975464,"total_area":331396.484505771},"XSP":{"stable":0,"loss":0,"gain":0,"disturb":0,"net":0,"percentage_change":"","total_area":187.468547373013},"YEM":{"stable":99828.01389,"loss":28.26820131,"gain":7046.684871,"disturb":3.925498438,"net":7018.41667,"percentage_change":7.028240203857422,"total_area":45223814.3677222},"ZAF":{"stable":5800976.495,"loss":530016.4975,"gain":388239.9803,"disturb":1280110.906,"net":-141776.5172,"percentage_change":-1.862759947776794,"total_area":121970907.71935},"ZMB":{"stable":34159461.78,"loss":3640266.872,"gain":768156.0526,"disturb":1514003.688,"net":-2872110.819,"percentage_change":-7.305620193481445,"total_area":75049044.8392459},"ZWE":{"stable":6028288.556,"loss":550426.9299,"gain":151988.8487,"disturb":161937.625,"net":-398438.0812,"percentage_change":-5.910970211029053,"total_area":39068069.6821659}}'),Om=2001,Am=2022,Fm=["rgb(171,0,0)","rgb(210,110,80)","rgba(121, 85, 72, 1)","rgb(84,255,84)","rgba(196,126,34)","rgba(0,0,0,0.4)"],Nm=[{name:"Global_Restoration_Potential",serverType:"ImageServer"},{name:"Global_Restoration_Potential_Continous",serverType:"ImageServer"},{filter:"-20deg",name:"Carbon_Accumulation_Potential_Restoration",serverType:"ImageServer"},{filter:"70deg",name:"Global_Forests_Fragmentation_Change",serverType:"ImageServer"},{filter:"30deg",name:"Global_Forest_Fragmentation",serverType:"ImageServer"},{filter:"-20deg",name:"Forest_Landscape_Identity",serverType:"ImageServer"},{filter:"20deg",name:"Global_Forest_Fragmentation_2000",serverType:"MapServer"},{filter:"10deg",name:"Emerging_Forest_Fire_Hotspots",serverType:"MapServer"},{filter:"20deg",name:"Above_ground_biomess_in_forest",serverType:"ImageServer"},{filter:"90deg",name:"Deforestation_Terra_I_2004_2017_Attributed",serverType:"ImageServer"}],zm=t=>(t||0).toFixed(2);var Bm=n(579);const Wm=t=>{let{toolTipRef:e,country:n,data:i}=t;const s={"Change (%)":i.percentage_change,Disturbed:i.disturb,Gained:i.gain,Lost:i.loss,"Total Area":i.total_area};return(0,Bm.jsxs)("div",{ref:e,id:"info",children:[(0,Bm.jsx)("p",{className:"country-name",children:n}),Object.keys(s).map((t=>(0,Bm.jsxs)("div",{children:[(0,Bm.jsx)("p",{className:"info-type",children:t}),(0,Bm.jsxs)("span",{children:[": ",zm(s[t])]})]},t)))]})};function jm(t,e){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jm(t,e)}function Vm(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Gm(t){return null==t?[]:Array.isArray(t)?t.slice():[t]}function Hm(t){return null!==t&&1===t.length?t[0]:t.slice()}function Um(t){Object.keys(t).forEach((e=>{"undefined"!=typeof document&&document.addEventListener(e,t[e],!1)}))}function Ym(t,e){return Km(function(t,e){let n=t;return n<=e.min&&(n=e.min),n>=e.max&&(n=e.max),n}(t,e),e)}function Km(t,e){const n=(t-e.min)%e.step;let i=t-n;return 2*Math.abs(n)>=e.step&&(i+=n>0?e.step:-e.step),parseFloat(i.toFixed(5))}let Xm=function(e){function n(n){var i;(i=e.call(this,n)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=t=>{t.preventDefault(),i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=t=>{i.setState({pending:!0});const e=i.getMousePosition(t),n=i.getDiffPosition(e[0]),s=i.getValueFromPosition(n);i.move(s)},i.onTouchMove=t=>{if(t.touches.length>1)return;i.setState({pending:!0});const e=i.getTouchPosition(t);if(void 0===i.isScrolling){const t=e[0]-i.startPosition[0],n=e[1]-i.startPosition[1];i.isScrolling=Math.abs(n)>Math.abs(t)}if(i.isScrolling)return void i.setState({index:-1});const n=i.getDiffPosition(e[0]),s=i.getValueFromPosition(n);i.move(s)},i.onKeyDown=t=>{if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(i.setState({pending:!0}),t.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":t.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":t.preventDefault(),i.moveUpByStep();break;case"Home":t.preventDefault(),i.move(i.props.min);break;case"End":t.preventDefault(),i.move(i.props.max);break;case"PageDown":t.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":t.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=t=>{if(!i.props.disabled&&2!==t.button){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const e=i.getMousePosition(t);i.forceValueFromPosition(e[0],(t=>{i.start(t,e[0]),Um(i.getMouseEventMap())}))}Vm(t)}},i.onSliderClick=t=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const e=i.getMousePosition(t),n=Ym(i.calcValue(i.calcOffsetFromPosition(e[0])),i.props);i.props.onSliderClick(n)}},i.createOnKeyDown=t=>e=>{i.props.disabled||(i.start(t),Um(i.getKeyDownEventMap()),Vm(e))},i.createOnMouseDown=t=>e=>{if(i.props.disabled||2===e.button)return;i.setState({pending:!0});const n=i.getMousePosition(e);i.start(t,n[0]),Um(i.getMouseEventMap()),Vm(e)},i.createOnTouchStart=t=>e=>{if(i.props.disabled||e.touches.length>1)return;i.setState({pending:!0});const n=i.getTouchPosition(e);i.startPosition=n,i.isScrolling=void 0,i.start(t,n[0]),Um(i.getTouchEventMap()),function(t){t.stopPropagation&&t.stopPropagation()}(e)},i.handleResize=()=>{const t=window.setTimeout((()=>{i.pendingResizeTimeouts.shift(),i.resize()}),0);i.pendingResizeTimeouts.push(t)},i.renderThumb=(t,e)=>{const n=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+e+" "+(i.state.index===e?i.props.thumbActiveClassName:""),s={ref:t=>{i["thumb"+e]=t},key:i.props.thumbClassName+"-"+e,className:n,style:t,onMouseDown:i.createOnMouseDown(e),onTouchStart:i.createOnTouchStart(e),onFocus:i.createOnKeyDown(e),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[e],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[e]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[e]:i.props.ariaLabelledby,"aria-disabled":i.props.disabled},r={index:e,value:Hm(i.state.value),valueNow:i.state.value[e]};return i.props.ariaValuetext&&(s["aria-valuetext"]="string"==typeof i.props.ariaValuetext?i.props.ariaValuetext:i.props.ariaValuetext(r)),i.props.renderThumb(s,r)},i.renderTrack=(t,e,n)=>{const s={key:i.props.trackClassName+"-"+t,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+t,style:i.buildTrackStyle(e,i.state.upperBound-n)},r={index:t,value:Hm(i.state.value)};return i.props.renderTrack(s,r)};let s=Gm(n.value);s.length||(s=Gm(n.defaultValue)),i.pendingResizeTimeouts=[];const r=[];for(let t=0;t<s.length;t+=1)s[t]=Ym(s[t],n),r.push(t);return i.resizeObserver=null,i.resizeElementRef=t.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:r},i}var i,s;s=e,(i=n).prototype=Object.create(s.prototype),i.prototype.constructor=i,jm(i,s);var r=n.prototype;return r.componentDidMount=function(){"undefined"!=typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},n.getDerivedStateFromProps=function(t,e){const n=Gm(t.value);return n.length?e.pending?null:{value:n.map((e=>Ym(e,t)))}:null},r.componentDidUpdate=function(){0===this.state.upperBound&&this.resize()},r.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},r.onEnd=function(t){t&&function(t){Object.keys(t).forEach((e=>{"undefined"!=typeof document&&document.removeEventListener(e,t[e],!1)}))}(t),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},r.getValue=function(){return Hm(this.state.value)},r.getClosestIndex=function(t){let e=Number.MAX_VALUE,n=-1;const{value:i}=this.state,s=i.length;for(let r=0;r<s;r+=1){const s=this.calcOffset(i[r]),o=Math.abs(t-s);o<e&&(e=o,n=r)}return n},r.getMousePosition=function(t){return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},r.getTouchPosition=function(t){const e=t.touches[0];return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},r.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},r.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},r.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},r.getValueFromPosition=function(t){const e=t/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Ym(this.state.startValue+e,this.props)},r.getDiffPosition=function(t){let e=t-this.state.startPosition;return this.props.invert&&(e*=-1),e},r.resize=function(){const{slider:t,thumb0:e}=this;if(!t||!e)return;const n=this.sizeKey(),i=t.getBoundingClientRect(),s=t[n],r=i[this.posMaxKey()],o=i[this.posMinKey()],a=e.getBoundingClientRect()[n.replace("client","").toLowerCase()],l=s-a,h=Math.abs(r-o);this.state.upperBound===l&&this.state.sliderLength===h&&this.state.thumbSize===a||this.setState({upperBound:l,sliderLength:h,thumbSize:a})},r.calcOffset=function(t){const e=this.props.max-this.props.min;return 0===e?0:(t-this.props.min)/e*this.state.upperBound},r.calcValue=function(t){return t/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},r.calcOffsetFromPosition=function(t){const{slider:e}=this,n=e.getBoundingClientRect(),i=n[this.posMaxKey()],s=n[this.posMinKey()];let r=t-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?i:s));return this.props.invert&&(r=this.state.sliderLength-r),r-=this.state.thumbSize/2,r},r.forceValueFromPosition=function(t,e){const n=this.calcOffsetFromPosition(t),i=this.getClosestIndex(n),s=Ym(this.calcValue(n),this.props),r=this.state.value.slice();r[i]=s;for(let o=0;o<r.length-1;o+=1)if(r[o+1]-r[o]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:r},(()=>{e(i),this.fireChangeEvent("onChange")}))},r.clearPendingResizeTimeouts=function(){do{const t=this.pendingResizeTimeouts.shift();clearTimeout(t)}while(this.pendingResizeTimeouts.length)},r.start=function(t,e){const n=this["thumb"+t];n&&n.focus();const{zIndices:i}=this.state;i.splice(i.indexOf(t),1),i.push(t),this.setState((n=>({startValue:n.value[t],startPosition:void 0!==e?e:n.startPosition,index:t,zIndices:i})))},r.moveUpByStep=function(t){void 0===t&&(t=this.props.step);const e=this.state.value[this.state.index],n=Ym(this.props.invert&&"horizontal"===this.props.orientation?e-t:e+t,this.props);this.move(Math.min(n,this.props.max))},r.moveDownByStep=function(t){void 0===t&&(t=this.props.step);const e=this.state.value[this.state.index],n=Ym(this.props.invert&&"horizontal"===this.props.orientation?e+t:e-t,this.props);this.move(Math.max(n,this.props.min))},r.move=function(t){const e=this.state.value.slice(),{index:n}=this.state,{length:i}=e,s=e[n];if(t===s)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:r,max:o,min:a,minDistance:l}=this.props;if(!r){if(n>0){const i=e[n-1];t<i+l&&(t=i+l)}if(n<i-1){const i=e[n+1];t>i-l&&(t=i-l)}}e[n]=t,r&&i>1&&(t>s?(this.pushSucceeding(e,l,n),function(t,e,n,i){for(let s=0;s<t;s+=1){const r=i-s*n;e[t-1-s]>r&&(e[t-1-s]=r)}}(i,e,l,o)):t<s&&(this.pushPreceding(e,l,n),function(t,e,n,i){for(let s=0;s<t;s+=1){const t=i+s*n;e[s]<t&&(e[s]=t)}}(i,e,l,a))),this.setState({value:e},this.fireChangeEvent.bind(this,"onChange"))},r.pushSucceeding=function(t,e,n){let i,s;for(i=n,s=t[i]+e;null!==t[i+1]&&s>t[i+1];i+=1,s=t[i]+e)t[i+1]=Km(s,this.props)},r.pushPreceding=function(t,e,n){for(let i=n,s=t[i]-e;null!==t[i-1]&&s<t[i-1];i-=1,s=t[i]-e)t[i-1]=Km(s,this.props)},r.axisKey=function(){return"vertical"===this.props.orientation?"Y":"X"},r.orthogonalAxisKey=function(){return"vertical"===this.props.orientation?"X":"Y"},r.posMinKey=function(){return"vertical"===this.props.orientation?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},r.posMaxKey=function(){return"vertical"===this.props.orientation?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},r.sizeKey=function(){return"vertical"===this.props.orientation?"clientHeight":"clientWidth"},r.fireChangeEvent=function(t){this.props[t]&&this.props[t](Hm(this.state.value),this.state.index)},r.buildThumbStyle=function(t,e){const n={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(e)+1};return n[this.posMinKey()]=t+"px",n},r.buildTrackStyle=function(t,e){const n={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return n[this.posMinKey()]=t,n[this.posMaxKey()]=e,n},r.buildMarkStyle=function(t){var e;return(e={position:"absolute"})[this.posMinKey()]=t,e},r.renderThumbs=function(t){const{length:e}=t,n=[];for(let s=0;s<e;s+=1)n[s]=this.buildThumbStyle(t[s],s);const i=[];for(let s=0;s<e;s+=1)i[s]=this.renderThumb(n[s],s);return i},r.renderTracks=function(t){const e=[],n=t.length-1;e.push(this.renderTrack(0,0,t[0]));for(let i=0;i<n;i+=1)e.push(this.renderTrack(i+1,t[i],t[i+1]));return e.push(this.renderTrack(n+1,t[n],this.state.upperBound)),e},r.renderMarks=function(){let{marks:t}=this.props;const e=this.props.max-this.props.min+1;return"boolean"==typeof t?t=Array.from({length:e}).map(((t,e)=>e)):"number"==typeof t&&(t=Array.from({length:e}).map(((t,e)=>e)).filter((e=>e%t==0))),t.map(parseFloat).sort(((t,e)=>t-e)).map((t=>{const e=this.calcOffset(t),n={key:t,className:this.props.markClassName,style:this.buildMarkStyle(e)};return this.props.renderMark(n)}))},r.render=function(){const e=[],{value:n}=this.state,i=n.length;for(let t=0;t<i;t+=1)e[t]=this.calcOffset(n[t],t);const s=this.props.withTracks?this.renderTracks(e):null,r=this.renderThumbs(e),o=this.props.marks?this.renderMarks():null;return t.createElement("div",{ref:t=>{this.slider=t,this.resizeElementRef.current=t},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},s,r,o)},n}(t.Component);Xm.displayName="ReactSlider",Xm.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>t.createElement("div",e),renderTrack:e=>t.createElement("div",e),renderMark:e=>t.createElement("span",e)};var qm=Xm;Ns.register(Pr,ur,fr,pr,Dr,Nr,tr,Js);const Zm=t=>{let{onChange:e}=t;return(0,Bm.jsxs)("div",{style:{bottom:-60,height:60,left:"5%",position:"absolute",width:"90%",zIndex:99},children:[(0,Bm.jsx)(qm,{className:"map-year-slider",thumbClassName:"map-year-slider-thumb",trackClassName:"map-year-slider-track",renderThumb:(t,e)=>(0,Bm.jsx)("div",{...t,children:Math.floor(e.valueNow)}),min:Om,defaultValue:Om,max:Am,onChange:e,step:.2}),(0,Bm.jsxs)("p",{className:"slider-subtext",children:["(Move this slider to see tree cover loss between the years ",(0,Bm.jsx)("b",{children:"2001"})," and ",(0,Bm.jsx)("b",{children:"2022"}),")"]})]})},$m=()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),[i,s]=(0,t.useState)(!1),[r,o]=(0,t.useState)(Om),[a,l]=(0,t.useState)(""),[h,c]=(0,t.useState)(""),[u,d]=(0,t.useState)({}),f=(0,t.useMemo)((()=>t=>new Xu({className:"masked-image-".concat(t.filter||0),opacity:1,source:new ym({ratio:1,url:"https://maps.globilportal.org/server/rest/services/Forests/".concat(t.name,"/").concat(t.serverType)})})),[]),g=(0,t.useMemo)((()=>new Tm({format:new zc,url:"https://raw.githubusercontent.com/datasets/geo-countries/master/data/countries.geojson"})),[]),p=(0,t.useMemo)((()=>new zg({source:g,style:new jd({stroke:new Fd({color:"rgba(121, 85, 72, 0.2)",width:1})})})),[g]),m=(0,t.useMemo)((()=>new zg({background:"rgba(121, 85, 72, 0.1)",source:g,style:new jd({fill:new Od({color:"#e7e7e7"})})})),[g]);let _;const y=(t,e,i)=>{const s=e.closest(".ol-control")||null===i||void 0===i?void 0:i.forEachFeatureAtPixel(t,(t=>t));var r,o;n.current&&(s?(n.current.style.left="".concat(t[0],"px"),n.current.style.top="".concat(t[1],"px"),s!==_&&((t=>{const e=new jd({fill:new Od({color:"rgba(121, 85, 72, 0.4)"}),stroke:new Fd({color:"rgba(121, 85, 72, 0.2)",width:1})});t.setStyle(e)})(s),n.current.style.visibility="visible",l((null===s||void 0===s||null===(r=s.values_)||void 0===r?void 0:r.ISO_A3)||""),c((null===s||void 0===s||null===(o=s.values_)||void 0===o?void 0:o.ADMIN)||""))):n.current.style.visibility="hidden");s!==_&&(t=>{null===t||void 0===t||t.setStyle(null)})(_),_=s},v=(0,t.useMemo)((()=>new _u({center:[0,0],zoom:2})),[]),b=(0,t.useMemo)((()=>Nm.map(f)),[f]),x=()=>{const t=new $p({layers:[m],target:e.current,view:v});return t.addControl(new Ra),b.forEach(((e,n)=>{e.setOpacity((t=>{let e=1;const n=Am-Math.floor(r)-1,i=Math.floor(n>0?n/2:0),s=9-t;return i<s&&(e=0),i===s&&(e=1-(r-(Am-2*(i+1)))/2),t===Nm.length-1&&(e=1),e})(n)),t.addLayer(e)})),t.addLayer(p),t.on("pointermove",(e=>{if(e.dragging&&n.current)return n.current.style.visibility="hidden",void(_=void 0);const i=t.getEventPixel(e.originalEvent);y(i,e.originalEvent.target,t)})),t.on("click",(e=>{y(e.pixel,e.originalEvent.target,t)})),t.getTargetElement().addEventListener("pointerleave",(()=>{_=void 0,n.current&&(n.current.style.visibility="hidden")})),t.on("loadstart",(()=>s(!0))),t.on("loadend",(()=>s(!1))),()=>t.dispose()};return(0,t.useEffect)((()=>{if(a){const t=Dm[a]||{};d(t)}}),[a]),(0,t.useEffect)((()=>{if(e.current&&n.current)return x()}),[r,x]),(0,Bm.jsxs)("div",{className:"map-container",children:[(0,Bm.jsxs)("p",{className:"map-title",children:["Tree cover as of the year ",Math.floor(r)]}),(0,Bm.jsxs)("div",{ref:e,id:"map",children:[i&&(0,Bm.jsx)("img",{className:"loading-animation",src:Lm,alt:"Loading..."}),(0,Bm.jsx)(Zm,{onChange:o}),(0,Bm.jsx)(Wm,{toolTipRef:n,country:h,data:u})]})]})};Ns.register(Pr,ur,fr,pr,Dr,Nr,tr,Js);const Jm=t=>{let{onChange:e}=t;return(0,Bm.jsxs)(Bm.Fragment,{children:[(0,Bm.jsx)(qm,{className:"chart-year-range-slider",thumbClassName:"chart-year-range-thumb",trackClassName:"chart-year-range-track",defaultValue:[Om,Am],min:Om,max:Am,ariaLabel:["Lower thumb","Upper thumb"],ariaValuetext:t=>"Thumb value ".concat(t.valueNow),renderThumb:(t,e)=>(0,Bm.jsx)("div",{...t,children:e.valueNow}),pearling:!0,marks:!0,onChange:e,minDistance:1}),(0,Bm.jsxs)("p",{className:"slider-subtext",children:["(Move this sliders to change the year range between ",(0,Bm.jsx)("b",{children:"2001"})," and ",(0,Bm.jsx)("b",{children:"2022"}),")"]})]})},Qm="label";function t_(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function e_(t,e){t.labels=e}function n_(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qm;const i=[];t.datasets=e.map((e=>{const s=t.datasets.find((t=>t[n]===e[n]));return s&&e.data&&!i.includes(s)?(i.push(s),Object.assign(s,e),s):{...e}}))}function i_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qm;const n={labels:[],datasets:[]};return e_(n,t.labels),n_(n,t.datasets,e),n}function s_(e,n){const{height:i=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:a,data:l,options:h,plugins:c=[],fallbackContent:u,updateMode:d,...f}=e,g=(0,t.useRef)(null),p=(0,t.useRef)(),m=()=>{g.current&&(p.current=new Ns(g.current,{type:a,data:i_(l,o),options:h&&{...h},plugins:c}),t_(n,p.current))},_=()=>{t_(n,null),p.current&&(p.current.destroy(),p.current=null)};return(0,t.useEffect)((()=>{!r&&p.current&&h&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(p.current,h)}),[r,h]),(0,t.useEffect)((()=>{!r&&p.current&&e_(p.current.config.data,l.labels)}),[r,l.labels]),(0,t.useEffect)((()=>{!r&&p.current&&l.datasets&&n_(p.current.config.data,l.datasets,o)}),[r,l.datasets]),(0,t.useEffect)((()=>{p.current&&(r?(_(),setTimeout(m)):p.current.update(d))}),[r,h,l.labels,l.datasets,d]),(0,t.useEffect)((()=>{p.current&&(_(),setTimeout(m))}),[a]),(0,t.useEffect)((()=>(m(),()=>_())),[]),t.createElement("canvas",Object.assign({ref:g,role:"img",height:i,width:s},f),u)}const r_=(0,t.forwardRef)(s_);function o_(e,n){return Ns.register(n),(0,t.forwardRef)(((n,i)=>t.createElement(r_,Object.assign({},n,{ref:i,type:e}))))}const a_=o_("line",ri),l_=o_("doughnut",si),h_=JSON.parse('{"Forestry":{"2001":5009330.102,"2002":5312296.118,"2003":4876170.016,"2004":7108328.16,"2005":6493889.407,"2006":6559799.069,"2007":7063278.857,"2008":7047369.402,"2009":5775440.185,"2010":6325521.632,"2011":6318206.996,"2012":7849189.47,"2013":5645632.698,"2014":6562047.738,"2015":6024959.4,"2016":8855163.732,"2017":8975417.587,"2018":7517148.249,"2019":7512256.528,"2020":7136236.136,"2021":7507082.74,"2022":6696487.94},"Unknown":{"2001":163569.28,"2002":138374.9799,"2003":92312.17202,"2004":155067.4869,"2005":129082.4943,"2006":137322.0471,"2007":138161.9023,"2008":141557.1196,"2009":148274.436,"2010":154535.6875,"2011":138574.2985,"2012":227646.4323,"2013":149756.7469,"2014":136020.8316,"2015":68245.46216,"2016":115480.9566,"2017":122210.179,"2018":94610.24176,"2019":103010.5829,"2020":121854.3845,"2021":113735.5712,"2022":120748.1912},"Urbanization":{"2001":161825.0411,"2002":167644.5148,"2003":151464.1302,"2004":199584.3899,"2005":183451.1964,"2006":198398.3992,"2007":195374.6002,"2008":161972.5963,"2009":137541.1059,"2010":127910.326,"2011":114575.6089,"2012":148225.7567,"2013":116136.7658,"2014":137104.8836,"2015":130743.2055,"2016":198184.1299,"2017":224993.7045,"2018":192791.1494,"2019":159069.6381,"2020":151706.7856,"2021":145549.9521,"2022":136142.4423},"Wildfire":{"2001":1963905.152,"2002":3807689.995,"2003":3374061.559,"2004":4410648.701,"2005":3213314.456,"2006":3314048.255,"2007":2805924.494,"2008":3181493.56,"2009":2219709.03,"2010":2817897.828,"2011":3034007.964,"2012":5035126.832,"2013":6202273.522,"2014":5345598.542,"2015":3986086.915,"2016":4607482.169,"2017":5445114.617,"2018":5676881.39,"2019":5219504.449,"2020":6846897.052,"2021":7019093.333,"2022":5224176.148},"Commodity":{"2001":2691587.496,"2002":3405408.155,"2003":3141040.695,"2004":4700815.531,"2005":4208311.037,"2006":3936387.84,"2007":4247114.138,"2008":4203168.235,"2009":4651228.308,"2010":4583958.249,"2011":4425232.935,"2012":5867868.702,"2013":3664521.432,"2014":5275193.891,"2015":4606512.109,"2016":7224818.46,"2017":5902041.216,"2018":4656296.204,"2019":5060708.523,"2020":4755158.686,"2021":4521544.171,"2022":4774582.684},"Agriculture":{"2001":3364435.129,"2002":3621322.949,"2003":2840312.436,"2004":3334274.68,"2005":3870243.294,"2006":3503781.794,"2007":3938102.856,"2008":3875587.205,"2009":4059516.286,"2010":4543536.993,"2011":3548625.919,"2012":4404263.151,"2013":4864941.378,"2014":6276748.273,"2015":4805783.02,"2016":8673664.655,"2017":8708256.958,"2018":6612106.308,"2019":6119667.218,"2020":6792488.714,"2021":5966862.801,"2022":5866863.355}}'),c_=()=>{const[e,n]=(0,t.useState)({width:window.innerWidth});return(0,t.useEffect)((()=>{const t=()=>{n({width:window.innerWidth})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[]),e};Ns.register(Pr,ur,fr);const u_=t=>{let{drivers:e,startYear:n,endYear:i}=t;const s=c_(),r=e.map((t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Om,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Am,i=0;return Object.keys(t).forEach((s=>{s>=e&&s<=n&&(i+=t[s])})),i}(h_[t],n,i))),o={datasets:[{backgroundColor:Fm,borderColor:"white",borderWidth:1,data:r,label:"Tree loss in Hectares"}],labels:e},a={plugins:{legend:{align:"center",display:!0,position:s.width>1200?"right":"bottom"},subtitle:{display:!0,padding:{bottom:12},text:"(Values shown in hectares)"},title:{display:!0,text:"Deforestation driver from ".concat(n," to ").concat(i)}},responsive:!0};return(0,Bm.jsx)("div",{className:"doughnut",children:(0,Bm.jsx)(l_,{data:o,options:a})})};Ns.register(Pr,ur,fr,pr,Dr,Nr,tr,Js);const d_=t=>{let{years:e,drivers:n,startYear:i,endYear:s}=t;const r=c_(),o={datasets:n.map(((t,n)=>({borderColor:Fm[n],data:e.map((e=>(h_[t][e]/1e5).toFixed(2))),fill:!1,label:t,tension:.4}))),labels:e},a={plugins:{legend:{display:!0,align:r.width>1200?"center":"start",labels:{padding:20},position:r.width>1200?"right":"bottom"},subtitle:{display:!0,padding:{bottom:12},text:"(Values shown in 100,000 hectares)"},title:{display:!0,text:"Factors driving deforestation between ".concat(i," and ").concat(s)}},scales:{x:{title:{display:!0,text:"years"},ticks:{stepSize:r.width<672?3:2}},y:{title:{display:r.width>672,text:"Area in 100000 (Ha)"},min:0,max:100,ticks:{stepSize:10}}}};return(0,Bm.jsx)(a_,{data:o,options:a,type:"line"})};Ns.register(Gs,Pr,ur,fr,Dr,Nr,tr,Js);const f_=()=>{const[e,n]=(0,t.useState)(Om),[i,s]=(0,t.useState)(Am),r=Object.keys(h_),o=new Array(i+1-e).fill(!0).map(((t,n)=>n+e));return(0,Bm.jsxs)("div",{className:"container",children:[(0,Bm.jsx)($m,{}),(0,Bm.jsxs)("div",{className:"statistics-pane",children:[(0,Bm.jsx)(u_,{drivers:r,endYear:i,startYear:e}),(0,Bm.jsx)(d_,{endYear:i,startYear:e,years:o,drivers:r}),(0,Bm.jsx)(Jm,{onChange:t=>{let[e,i]=t;n(e),s(i)}})]})]})},g_=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then((e=>{let{getCLS:n,getFID:i,getFCP:s,getLCP:r,getTTFB:o}=e;n(t),i(t),s(t),r(t),o(t)}))};e.createRoot(document.getElementById("root")).render((0,Bm.jsx)(t.StrictMode,{children:(0,Bm.jsx)(f_,{})})),g_()})()})();
//# sourceMappingURL=main.3c9ad20b.js.map